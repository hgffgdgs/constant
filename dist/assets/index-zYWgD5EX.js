var Hb=Object.defineProperty,Vb=Object.defineProperties;var Gb=Object.getOwnPropertyDescriptors;var yf=Object.getOwnPropertySymbols;var Gm=Object.prototype.hasOwnProperty,Km=Object.prototype.propertyIsEnumerable;var Kd=(t,e,n)=>e in t?Hb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ge=(t,e)=>{for(var n in e||(e={}))Gm.call(e,n)&&Kd(t,n,e[n]);if(yf)for(var n of yf(e))Km.call(e,n)&&Kd(t,n,e[n]);return t},Ct=(t,e)=>Vb(t,Gb(e));var Jm=(t,e)=>{var n={};for(var r in t)Gm.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&yf)for(var r of yf(t))e.indexOf(r)<0&&Km.call(t,r)&&(n[r]=t[r]);return n};var Ym=(t,e,n)=>Kd(t,typeof e!="symbol"?e+"":e,n);var ie=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{o(n.next(l))}catch(c){i(c)}},a=l=>{try{o(n.throw(l))}catch(c){i(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,a);o((n=n.apply(t,e)).next())});function Kb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var $n=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function hg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Lv={exports:{}},$h={},Av={exports:{}},Nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),Jb=Symbol.for("react.portal"),Yb=Symbol.for("react.fragment"),Qb=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Zb=Symbol.for("react.provider"),ex=Symbol.for("react.context"),tx=Symbol.for("react.forward_ref"),nx=Symbol.for("react.suspense"),rx=Symbol.for("react.memo"),ix=Symbol.for("react.lazy"),Qm=Symbol.iterator;function sx(t){return t===null||typeof t!="object"?null:(t=Qm&&t[Qm]||t["@@iterator"],typeof t=="function"?t:null)}var Pv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jv=Object.assign,Ev={};function zl(t,e,n){this.props=t,this.context=e,this.refs=Ev,this.updater=n||Pv}zl.prototype.isReactComponent={};zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cv(){}Cv.prototype=zl.prototype;function dg(t,e,n){this.props=t,this.context=e,this.refs=Ev,this.updater=n||Pv}var pg=dg.prototype=new Cv;pg.constructor=dg;jv(pg,zl.prototype);pg.isPureReactComponent=!0;var Xm=Array.isArray,Ov=Object.prototype.hasOwnProperty,gg={current:null},Iv={key:!0,ref:!0,__self:!0,__source:!0};function Tv(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Ov.call(e,r)&&!Iv.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ac,type:t,key:s,ref:a,props:i,_owner:gg.current}}function ax(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function ox(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Zm=/\/+/g;function Jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ox(""+t.key):e.toString(36)}function Vf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ac:case Jb:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Jd(a,0):r,Xm(i)?(n="",t!=null&&(n=t.replace(Zm,"$&/")+"/"),Vf(i,e,n,"",function(c){return c})):i!=null&&(mg(i)&&(i=ax(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Zm,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Xm(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Jd(s,o);a+=Vf(s,e,n,l,i)}else if(l=sx(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Jd(s,o++),a+=Vf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function wf(t,e,n){if(t==null)return t;var r=[],i=0;return Vf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vr={current:null},Gf={transition:null},ux={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:Gf,ReactCurrentOwner:gg};function Rv(){throw Error("act(...) is not supported in production builds of React.")}Nt.Children={map:wf,forEach:function(t,e,n){wf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wf(t,function(){e++}),e},toArray:function(t){return wf(t,function(e){return e})||[]},only:function(t){if(!mg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Nt.Component=zl;Nt.Fragment=Yb;Nt.Profiler=Xb;Nt.PureComponent=dg;Nt.StrictMode=Qb;Nt.Suspense=nx;Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ux;Nt.act=Rv;Nt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=jv({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=gg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Ov.call(e,l)&&!Iv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:Ac,type:t.type,key:i,ref:s,props:r,_owner:a}};Nt.createContext=function(t){return t={$$typeof:ex,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Zb,_context:t},t.Consumer=t};Nt.createElement=Tv;Nt.createFactory=function(t){var e=Tv.bind(null,t);return e.type=t,e};Nt.createRef=function(){return{current:null}};Nt.forwardRef=function(t){return{$$typeof:tx,render:t}};Nt.isValidElement=mg;Nt.lazy=function(t){return{$$typeof:ix,_payload:{_status:-1,_result:t},_init:lx}};Nt.memo=function(t,e){return{$$typeof:rx,type:t,compare:e===void 0?null:e}};Nt.startTransition=function(t){var e=Gf.transition;Gf.transition={};try{t()}finally{Gf.transition=e}};Nt.unstable_act=Rv;Nt.useCallback=function(t,e){return vr.current.useCallback(t,e)};Nt.useContext=function(t){return vr.current.useContext(t)};Nt.useDebugValue=function(){};Nt.useDeferredValue=function(t){return vr.current.useDeferredValue(t)};Nt.useEffect=function(t,e){return vr.current.useEffect(t,e)};Nt.useId=function(){return vr.current.useId()};Nt.useImperativeHandle=function(t,e,n){return vr.current.useImperativeHandle(t,e,n)};Nt.useInsertionEffect=function(t,e){return vr.current.useInsertionEffect(t,e)};Nt.useLayoutEffect=function(t,e){return vr.current.useLayoutEffect(t,e)};Nt.useMemo=function(t,e){return vr.current.useMemo(t,e)};Nt.useReducer=function(t,e,n){return vr.current.useReducer(t,e,n)};Nt.useRef=function(t){return vr.current.useRef(t)};Nt.useState=function(t){return vr.current.useState(t)};Nt.useSyncExternalStore=function(t,e,n){return vr.current.useSyncExternalStore(t,e,n)};Nt.useTransition=function(){return vr.current.useTransition()};Nt.version="18.3.1";Av.exports=Nt;var je=Av.exports;const Fv=hg(je),cx=Kb({__proto__:null,default:Fv},[je]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=je,hx=Symbol.for("react.element"),dx=Symbol.for("react.fragment"),px=Object.prototype.hasOwnProperty,gx=fx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mx={key:!0,ref:!0,__self:!0,__source:!0};function Dv(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)px.call(e,r)&&!mx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hx,type:t,key:s,ref:a,props:i,_owner:gx.current}}$h.Fragment=dx;$h.jsx=Dv;$h.jsxs=Dv;Lv.exports=$h;var x=Lv.exports,Vp={},Mv={exports:{}},Kr={},Bv={exports:{}},Uv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,le){var he=H.length;H.push(le);e:for(;0<he;){var Ae=he-1>>>1,j=H[Ae];if(0<i(j,le))H[Ae]=le,H[he]=j,he=Ae;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var le=H[0],he=H.pop();if(he!==le){H[0]=he;e:for(var Ae=0,j=H.length,q=j>>>1;Ae<q;){var G=2*(Ae+1)-1,Z=H[G],se=G+1,me=H[se];if(0>i(Z,he))se<j&&0>i(me,Z)?(H[Ae]=me,H[se]=he,Ae=se):(H[Ae]=Z,H[G]=he,Ae=G);else if(se<j&&0>i(me,he))H[Ae]=me,H[se]=he,Ae=se;else break e}}return le}function i(H,le){var he=H.sortIndex-le.sortIndex;return he!==0?he:H.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,d=null,g=3,m=!1,_=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(H){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=H)r(c),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(c)}}function I(H){if(S=!1,N(H),!_)if(n(l)!==null)_=!0,ge(D);else{var le=n(c);le!==null&&ye(I,le.startTime-H)}}function D(H,le){_=!1,S&&(S=!1,y(M),M=-1),m=!0;var he=g;try{for(N(le),d=n(l);d!==null&&(!(d.expirationTime>le)||H&&!L());){var Ae=d.callback;if(typeof Ae=="function"){d.callback=null,g=d.priorityLevel;var j=Ae(d.expirationTime<=le);le=t.unstable_now(),typeof j=="function"?d.callback=j:d===n(l)&&r(l),N(le)}else r(l);d=n(l)}if(d!==null)var q=!0;else{var G=n(c);G!==null&&ye(I,G.startTime-le),q=!1}return q}finally{d=null,g=he,m=!1}}var V=!1,$=null,M=-1,Q=5,X=-1;function L(){return!(t.unstable_now()-X<Q)}function C(){if($!==null){var H=t.unstable_now();X=H;var le=!0;try{le=$(!0,H)}finally{le?B():(V=!1,$=null)}}else V=!1}var B;if(typeof b=="function")B=function(){b(C)};else if(typeof MessageChannel!="undefined"){var K=new MessageChannel,ve=K.port2;K.port1.onmessage=C,B=function(){ve.postMessage(null)}}else B=function(){k(C,0)};function ge(H){$=H,V||(V=!0,B())}function ye(H,le){M=k(function(){H(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,ge(D))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var he=g;g=le;try{return H()}finally{g=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,le){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=g;g=H;try{return le()}finally{g=he}},t.unstable_scheduleCallback=function(H,le,he){var Ae=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ae+he:Ae):he=Ae,H){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=he+j,H={id:h++,callback:le,priorityLevel:H,startTime:he,expirationTime:j,sortIndex:-1},he>Ae?(H.sortIndex=he,e(c,H),n(l)===null&&H===n(c)&&(S?(y(M),M=-1):S=!0,ye(I,he-Ae))):(H.sortIndex=j,e(l,H),_||m||(_=!0,ge(D))),H},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(H){var le=g;return function(){var he=g;g=le;try{return H.apply(this,arguments)}finally{g=he}}}})(Uv);Bv.exports=Uv;var vx=Bv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx=je,Gr=vx;function De(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zv=new Set,ic={};function vo(t,e){Ol(t,e),Ol(t+"Capture",e)}function Ol(t,e){for(ic[t]=e,t=0;t<e.length;t++)zv.add(e[t])}var ks=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Gp=Object.prototype.hasOwnProperty,wx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e0={},t0={};function bx(t){return Gp.call(t0,t)?!0:Gp.call(e0,t)?!1:wx.test(t)?t0[t]=!0:(e0[t]=!0,!1)}function xx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _x(t,e,n,r){if(e===null||typeof e=="undefined"||xx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jn[t]=new yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jn[e]=new yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jn[t]=new yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jn[t]=new yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jn[t]=new yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Jn[t]=new yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Jn[t]=new yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Jn[t]=new yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Jn[t]=new yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var vg=/[\-:]([a-z])/g;function yg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vg,yg);Jn[e]=new yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vg,yg);Jn[e]=new yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vg,yg);Jn[e]=new yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Jn[t]=new yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Jn[t]=new yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function wg(t,e,n,r){var i=Jn.hasOwnProperty(e)?Jn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_x(e,n,i,r)&&(n=null),r||i===null?bx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var js=yx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bf=Symbol.for("react.element"),ll=Symbol.for("react.portal"),ul=Symbol.for("react.fragment"),bg=Symbol.for("react.strict_mode"),Kp=Symbol.for("react.profiler"),$v=Symbol.for("react.provider"),qv=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),Yp=Symbol.for("react.suspense_list"),_g=Symbol.for("react.memo"),ia=Symbol.for("react.lazy"),Wv=Symbol.for("react.offscreen"),n0=Symbol.iterator;function Su(t){return t===null||typeof t!="object"?null:(t=n0&&t[n0]||t["@@iterator"],typeof t=="function"?t:null)}var hn=Object.assign,Yd;function Bu(t){if(Yd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yd=e&&e[1]||""}return`
`+Yd+t}var Qd=!1;function Xd(t,e){if(!t||Qd)return"";Qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Qd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bu(t):""}function Sx(t){switch(t.tag){case 5:return Bu(t.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return t=Xd(t.type,!1),t;case 11:return t=Xd(t.type.render,!1),t;case 1:return t=Xd(t.type,!0),t;default:return""}}function Qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ul:return"Fragment";case ll:return"Portal";case Kp:return"Profiler";case bg:return"StrictMode";case Jp:return"Suspense";case Yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qv:return(t.displayName||"Context")+".Consumer";case $v:return(t._context.displayName||"Context")+".Provider";case xg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _g:return e=t.displayName||null,e!==null?e:Qp(t.type)||"Memo";case ia:e=t._payload,t=t._init;try{return Qp(t(e))}catch(n){}}return null}function Nx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qp(e);case 8:return e===bg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kx(t){var e=Hv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xf(t){t._valueTracker||(t._valueTracker=kx(t))}function Vv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lh(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Xp(t,e){var n=e.checked;return hn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function r0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Sa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gv(t,e){e=e.checked,e!=null&&wg(t,"checked",e,!1)}function Zp(t,e){Gv(t,e);var n=Sa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?e1(t,e.type,n):e.hasOwnProperty("defaultValue")&&e1(t,e.type,Sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function i0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function e1(t,e,n){(e!=="number"||lh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Uu=Array.isArray;function xl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function t1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return hn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function s0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(De(92));if(Uu(n)){if(1<n.length)throw Error(De(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Sa(n)}}function Kv(t,e){var n=Sa(e.value),r=Sa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function a0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function n1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _f,Yv=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_f=_f||document.createElement("div"),_f.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_f.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lx=["Webkit","ms","Moz","O"];Object.keys(Wu).forEach(function(t){Lx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wu[e]=Wu[t]})});function Qv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wu.hasOwnProperty(t)&&Wu[t]?(""+e).trim():e+"px"}function Xv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ax=hn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function r1(t,e){if(e){if(Ax[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function i1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s1=null;function Sg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var a1=null,_l=null,Sl=null;function o0(t){if(t=Ec(t)){if(typeof a1!="function")throw Error(De(280));var e=t.stateNode;e&&(e=Gh(e),a1(t.stateNode,t.type,e))}}function Zv(t){_l?Sl?Sl.push(t):Sl=[t]:_l=t}function e5(){if(_l){var t=_l,e=Sl;if(Sl=_l=null,o0(t),e)for(t=0;t<e.length;t++)o0(e[t])}}function t5(t,e){return t(e)}function n5(){}var Zd=!1;function r5(t,e,n){if(Zd)return t(e,n);Zd=!0;try{return t5(t,e,n)}finally{Zd=!1,(_l!==null||Sl!==null)&&(n5(),e5())}}function ac(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(De(231,e,typeof n));return n}var o1=!1;if(ks)try{var Nu={};Object.defineProperty(Nu,"passive",{get:function(){o1=!0}}),window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch(t){o1=!1}function Px(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Hu=!1,uh=null,ch=!1,l1=null,jx={onError:function(t){Hu=!0,uh=t}};function Ex(t,e,n,r,i,s,a,o,l){Hu=!1,uh=null,Px.apply(jx,arguments)}function Cx(t,e,n,r,i,s,a,o,l){if(Ex.apply(this,arguments),Hu){if(Hu){var c=uh;Hu=!1,uh=null}else throw Error(De(198));ch||(ch=!0,l1=c)}}function yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function i5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function l0(t){if(yo(t)!==t)throw Error(De(188))}function Ox(t){var e=t.alternate;if(!e){if(e=yo(t),e===null)throw Error(De(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return l0(i),t;if(s===r)return l0(i),e;s=s.sibling}throw Error(De(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(De(189))}}if(n.alternate!==r)throw Error(De(190))}if(n.tag!==3)throw Error(De(188));return n.stateNode.current===n?t:e}function s5(t){return t=Ox(t),t!==null?a5(t):null}function a5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=a5(t);if(e!==null)return e;t=t.sibling}return null}var o5=Gr.unstable_scheduleCallback,u0=Gr.unstable_cancelCallback,Ix=Gr.unstable_shouldYield,Tx=Gr.unstable_requestPaint,xn=Gr.unstable_now,Rx=Gr.unstable_getCurrentPriorityLevel,Ng=Gr.unstable_ImmediatePriority,l5=Gr.unstable_UserBlockingPriority,fh=Gr.unstable_NormalPriority,Fx=Gr.unstable_LowPriority,u5=Gr.unstable_IdlePriority,qh=null,Xi=null;function Dx(t){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(qh,t,void 0,(t.current.flags&128)===128)}catch(e){}}var Ei=Math.clz32?Math.clz32:Ux,Mx=Math.log,Bx=Math.LN2;function Ux(t){return t>>>=0,t===0?32:31-(Mx(t)/Bx|0)|0}var Sf=64,Nf=4194304;function zu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=zu(o):(s&=a,s!==0&&(r=zu(s)))}else a=n&~i,a!==0?r=zu(a):s!==0&&(r=zu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ei(e),i=1<<n,r|=t[n],e&=~i;return r}function zx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $x(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ei(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=zx(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function u1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function c5(){var t=Sf;return Sf<<=1,!(Sf&4194240)&&(Sf=64),t}function ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ei(e),t[e]=n}function qx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ei(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function kg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ei(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Wt=0;function f5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var h5,Lg,d5,p5,g5,c1=!1,kf=[],ga=null,ma=null,va=null,oc=new Map,lc=new Map,oa=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c0(t,e){switch(t){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":ma=null;break;case"mouseover":case"mouseout":va=null;break;case"pointerover":case"pointerout":oc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lc.delete(e.pointerId)}}function ku(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ec(e),e!==null&&Lg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Hx(t,e,n,r,i){switch(e){case"focusin":return ga=ku(ga,t,e,n,r,i),!0;case"dragenter":return ma=ku(ma,t,e,n,r,i),!0;case"mouseover":return va=ku(va,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return oc.set(s,ku(oc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,lc.set(s,ku(lc.get(s)||null,t,e,n,r,i)),!0}return!1}function m5(t){var e=no(t.target);if(e!==null){var n=yo(e);if(n!==null){if(e=n.tag,e===13){if(e=i5(n),e!==null){t.blockedOn=e,g5(t.priority,function(){d5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=f1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);s1=r,n.target.dispatchEvent(r),s1=null}else return e=Ec(n),e!==null&&Lg(e),t.blockedOn=n,!1;e.shift()}return!0}function f0(t,e,n){Kf(t)&&n.delete(e)}function Vx(){c1=!1,ga!==null&&Kf(ga)&&(ga=null),ma!==null&&Kf(ma)&&(ma=null),va!==null&&Kf(va)&&(va=null),oc.forEach(f0),lc.forEach(f0)}function Lu(t,e){t.blockedOn===e&&(t.blockedOn=null,c1||(c1=!0,Gr.unstable_scheduleCallback(Gr.unstable_NormalPriority,Vx)))}function uc(t){function e(i){return Lu(i,t)}if(0<kf.length){Lu(kf[0],t);for(var n=1;n<kf.length;n++){var r=kf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ga!==null&&Lu(ga,t),ma!==null&&Lu(ma,t),va!==null&&Lu(va,t),oc.forEach(e),lc.forEach(e),n=0;n<oa.length;n++)r=oa[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oa.length&&(n=oa[0],n.blockedOn===null);)m5(n),n.blockedOn===null&&oa.shift()}var Nl=js.ReactCurrentBatchConfig,dh=!0;function Gx(t,e,n,r){var i=Wt,s=Nl.transition;Nl.transition=null;try{Wt=1,Ag(t,e,n,r)}finally{Wt=i,Nl.transition=s}}function Kx(t,e,n,r){var i=Wt,s=Nl.transition;Nl.transition=null;try{Wt=4,Ag(t,e,n,r)}finally{Wt=i,Nl.transition=s}}function Ag(t,e,n,r){if(dh){var i=f1(t,e,n,r);if(i===null)cp(t,e,r,ph,n),c0(t,r);else if(Hx(i,t,e,n,r))r.stopPropagation();else if(c0(t,r),e&4&&-1<Wx.indexOf(t)){for(;i!==null;){var s=Ec(i);if(s!==null&&h5(s),s=f1(t,e,n,r),s===null&&cp(t,e,r,ph,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cp(t,e,r,null,n)}}var ph=null;function f1(t,e,n,r){if(ph=null,t=Sg(r),t=no(t),t!==null)if(e=yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=i5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ph=t,null}function v5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rx()){case Ng:return 1;case l5:return 4;case fh:case Fx:return 16;case u5:return 536870912;default:return 16}default:return 16}}var ca=null,Pg=null,Jf=null;function y5(){if(Jf)return Jf;var t,e=Pg,n=e.length,r,i="value"in ca?ca.value:ca.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Jf=i.slice(t,1<r?1-r:void 0)}function Yf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lf(){return!0}function h0(){return!1}function Jr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lf:h0,this.isPropagationStopped=h0,this}return hn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lf)},persist:function(){},isPersistent:Lf}),e}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jg=Jr($l),jc=hn({},$l,{view:0,detail:0}),Jx=Jr(jc),tp,np,Au,Wh=hn({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Au&&(Au&&t.type==="mousemove"?(tp=t.screenX-Au.screenX,np=t.screenY-Au.screenY):np=tp=0,Au=t),tp)},movementY:function(t){return"movementY"in t?t.movementY:np}}),d0=Jr(Wh),Yx=hn({},Wh,{dataTransfer:0}),Qx=Jr(Yx),Xx=hn({},jc,{relatedTarget:0}),rp=Jr(Xx),Zx=hn({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),e3=Jr(Zx),t3=hn({},$l,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n3=Jr(t3),r3=hn({},$l,{data:0}),p0=Jr(r3),i3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a3[t])?!!e[t]:!1}function Eg(){return o3}var l3=hn({},jc,{key:function(t){if(t.key){var e=i3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Yf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eg,charCode:function(t){return t.type==="keypress"?Yf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u3=Jr(l3),c3=hn({},Wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g0=Jr(c3),f3=hn({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eg}),h3=Jr(f3),d3=hn({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),p3=Jr(d3),g3=hn({},Wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),m3=Jr(g3),v3=[9,13,27,32],Cg=ks&&"CompositionEvent"in window,Vu=null;ks&&"documentMode"in document&&(Vu=document.documentMode);var y3=ks&&"TextEvent"in window&&!Vu,w5=ks&&(!Cg||Vu&&8<Vu&&11>=Vu),m0=" ",v0=!1;function b5(t,e){switch(t){case"keyup":return v3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cl=!1;function w3(t,e){switch(t){case"compositionend":return x5(e);case"keypress":return e.which!==32?null:(v0=!0,m0);case"textInput":return t=e.data,t===m0&&v0?null:t;default:return null}}function b3(t,e){if(cl)return t==="compositionend"||!Cg&&b5(t,e)?(t=y5(),Jf=Pg=ca=null,cl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w5&&e.locale!=="ko"?null:e.data;default:return null}}var x3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!x3[t.type]:e==="textarea"}function _5(t,e,n,r){Zv(r),e=gh(e,"onChange"),0<e.length&&(n=new jg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gu=null,cc=null;function _3(t){I5(t,0)}function Hh(t){var e=dl(t);if(Vv(e))return t}function S3(t,e){if(t==="change")return e}var S5=!1;if(ks){var ip;if(ks){var sp="oninput"in document;if(!sp){var w0=document.createElement("div");w0.setAttribute("oninput","return;"),sp=typeof w0.oninput=="function"}ip=sp}else ip=!1;S5=ip&&(!document.documentMode||9<document.documentMode)}function b0(){Gu&&(Gu.detachEvent("onpropertychange",N5),cc=Gu=null)}function N5(t){if(t.propertyName==="value"&&Hh(cc)){var e=[];_5(e,cc,t,Sg(t)),r5(_3,e)}}function N3(t,e,n){t==="focusin"?(b0(),Gu=e,cc=n,Gu.attachEvent("onpropertychange",N5)):t==="focusout"&&b0()}function k3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hh(cc)}function L3(t,e){if(t==="click")return Hh(e)}function A3(t,e){if(t==="input"||t==="change")return Hh(e)}function P3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ii=typeof Object.is=="function"?Object.is:P3;function fc(t,e){if(Ii(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gp.call(e,i)||!Ii(t[i],e[i]))return!1}return!0}function x0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _0(t,e){var n=x0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=x0(n)}}function k5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?k5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L5(){for(var t=window,e=lh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch(r){n=!1}if(n)t=e.contentWindow;else break;e=lh(t.document)}return e}function Og(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function j3(t){var e=L5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&k5(n.ownerDocument.documentElement,n)){if(r!==null&&Og(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_0(n,s);var a=_0(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var E3=ks&&"documentMode"in document&&11>=document.documentMode,fl=null,h1=null,Ku=null,d1=!1;function S0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;d1||fl==null||fl!==lh(r)||(r=fl,"selectionStart"in r&&Og(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ku&&fc(Ku,r)||(Ku=r,r=gh(h1,"onSelect"),0<r.length&&(e=new jg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fl)))}function Af(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hl={animationend:Af("Animation","AnimationEnd"),animationiteration:Af("Animation","AnimationIteration"),animationstart:Af("Animation","AnimationStart"),transitionend:Af("Transition","TransitionEnd")},ap={},A5={};ks&&(A5=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function Vh(t){if(ap[t])return ap[t];if(!hl[t])return t;var e=hl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in A5)return ap[t]=e[n];return t}var P5=Vh("animationend"),j5=Vh("animationiteration"),E5=Vh("animationstart"),C5=Vh("transitionend"),O5=new Map,N0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pa(t,e){O5.set(t,e),vo(e,[t])}for(var op=0;op<N0.length;op++){var lp=N0[op],C3=lp.toLowerCase(),O3=lp[0].toUpperCase()+lp.slice(1);Pa(C3,"on"+O3)}Pa(P5,"onAnimationEnd");Pa(j5,"onAnimationIteration");Pa(E5,"onAnimationStart");Pa("dblclick","onDoubleClick");Pa("focusin","onFocus");Pa("focusout","onBlur");Pa(C5,"onTransitionEnd");Ol("onMouseEnter",["mouseout","mouseover"]);Ol("onMouseLeave",["mouseout","mouseover"]);Ol("onPointerEnter",["pointerout","pointerover"]);Ol("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I3=new Set("cancel close invalid load scroll toggle".split(" ").concat($u));function k0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Cx(r,e,void 0,t),t.currentTarget=null}function I5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;k0(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;k0(i,o,c),s=l}}}if(ch)throw t=l1,ch=!1,l1=null,t}function rn(t,e){var n=e[y1];n===void 0&&(n=e[y1]=new Set);var r=t+"__bubble";n.has(r)||(T5(e,t,2,!1),n.add(r))}function up(t,e,n){var r=0;e&&(r|=4),T5(n,t,r,e)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function hc(t){if(!t[Pf]){t[Pf]=!0,zv.forEach(function(n){n!=="selectionchange"&&(I3.has(n)||up(n,!1,t),up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pf]||(e[Pf]=!0,up("selectionchange",!1,e))}}function T5(t,e,n,r){switch(v5(e)){case 1:var i=Gx;break;case 4:i=Kx;break;default:i=Ag}n=i.bind(null,e,n,t),i=void 0,!o1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=no(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}r5(function(){var c=s,h=Sg(n),d=[];e:{var g=O5.get(t);if(g!==void 0){var m=jg,_=t;switch(t){case"keypress":if(Yf(n)===0)break e;case"keydown":case"keyup":m=u3;break;case"focusin":_="focus",m=rp;break;case"focusout":_="blur",m=rp;break;case"beforeblur":case"afterblur":m=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=h3;break;case P5:case j5:case E5:m=e3;break;case C5:m=p3;break;case"scroll":m=Jx;break;case"wheel":m=m3;break;case"copy":case"cut":case"paste":m=n3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=g0}var S=(e&4)!==0,k=!S&&t==="scroll",y=S?g!==null?g+"Capture":null:g;S=[];for(var b=c,N;b!==null;){N=b;var I=N.stateNode;if(N.tag===5&&I!==null&&(N=I,y!==null&&(I=ac(b,y),I!=null&&S.push(dc(b,I,N)))),k)break;b=b.return}0<S.length&&(g=new m(g,_,null,n,h),d.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",g&&n!==s1&&(_=n.relatedTarget||n.fromElement)&&(no(_)||_[Ls]))break e;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=c,_=_?no(_):null,_!==null&&(k=yo(_),_!==k||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(S=d0,I="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(S=g0,I="onPointerLeave",y="onPointerEnter",b="pointer"),k=m==null?g:dl(m),N=_==null?g:dl(_),g=new S(I,b+"leave",m,n,h),g.target=k,g.relatedTarget=N,I=null,no(h)===c&&(S=new S(y,b+"enter",_,n,h),S.target=N,S.relatedTarget=k,I=S),k=I,m&&_)t:{for(S=m,y=_,b=0,N=S;N;N=Ho(N))b++;for(N=0,I=y;I;I=Ho(I))N++;for(;0<b-N;)S=Ho(S),b--;for(;0<N-b;)y=Ho(y),N--;for(;b--;){if(S===y||y!==null&&S===y.alternate)break t;S=Ho(S),y=Ho(y)}S=null}else S=null;m!==null&&L0(d,g,m,S,!1),_!==null&&k!==null&&L0(d,k,_,S,!0)}}e:{if(g=c?dl(c):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var D=S3;else if(y0(g))if(S5)D=A3;else{D=k3;var V=N3}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(D=L3);if(D&&(D=D(t,c))){_5(d,D,n,h);break e}V&&V(t,g,c),t==="focusout"&&(V=g._wrapperState)&&V.controlled&&g.type==="number"&&e1(g,"number",g.value)}switch(V=c?dl(c):window,t){case"focusin":(y0(V)||V.contentEditable==="true")&&(fl=V,h1=c,Ku=null);break;case"focusout":Ku=h1=fl=null;break;case"mousedown":d1=!0;break;case"contextmenu":case"mouseup":case"dragend":d1=!1,S0(d,n,h);break;case"selectionchange":if(E3)break;case"keydown":case"keyup":S0(d,n,h)}var $;if(Cg)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else cl?b5(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(w5&&n.locale!=="ko"&&(cl||M!=="onCompositionStart"?M==="onCompositionEnd"&&cl&&($=y5()):(ca=h,Pg="value"in ca?ca.value:ca.textContent,cl=!0)),V=gh(c,M),0<V.length&&(M=new p0(M,t,null,n,h),d.push({event:M,listeners:V}),$?M.data=$:($=x5(n),$!==null&&(M.data=$)))),($=y3?w3(t,n):b3(t,n))&&(c=gh(c,"onBeforeInput"),0<c.length&&(h=new p0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=$))}I5(d,e)})}function dc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ac(t,n),s!=null&&r.unshift(dc(t,s,i)),s=ac(t,e),s!=null&&r.push(dc(t,s,i))),t=t.return}return r}function Ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function L0(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=ac(n,s),l!=null&&a.unshift(dc(n,l,o))):i||(l=ac(n,s),l!=null&&a.push(dc(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var T3=/\r\n?/g,R3=/\u0000|\uFFFD/g;function A0(t){return(typeof t=="string"?t:""+t).replace(T3,`
`).replace(R3,"")}function jf(t,e,n){if(e=A0(e),A0(t)!==e&&n)throw Error(De(425))}function mh(){}var p1=null,g1=null;function m1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var v1=typeof setTimeout=="function"?setTimeout:void 0,F3=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,D3=typeof queueMicrotask=="function"?queueMicrotask:typeof P0!="undefined"?function(t){return P0.resolve(null).then(t).catch(M3)}:v1;function M3(t){setTimeout(function(){throw t})}function fp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),uc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uc(e)}function ya(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ql=Math.random().toString(36).slice(2),Gi="__reactFiber$"+ql,pc="__reactProps$"+ql,Ls="__reactContainer$"+ql,y1="__reactEvents$"+ql,B3="__reactListeners$"+ql,U3="__reactHandles$"+ql;function no(t){var e=t[Gi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ls]||n[Gi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j0(t);t!==null;){if(n=t[Gi])return n;t=j0(t)}return e}t=n,n=t.parentNode}return null}function Ec(t){return t=t[Gi]||t[Ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(De(33))}function Gh(t){return t[pc]||null}var w1=[],pl=-1;function ja(t){return{current:t}}function an(t){0>pl||(t.current=w1[pl],w1[pl]=null,pl--)}function tn(t,e){pl++,w1[pl]=t.current,t.current=e}var Na={},lr=ja(Na),jr=ja(!1),uo=Na;function Il(t,e){var n=t.type.contextTypes;if(!n)return Na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Er(t){return t=t.childContextTypes,t!=null}function vh(){an(jr),an(lr)}function E0(t,e,n){if(lr.current!==Na)throw Error(De(168));tn(lr,e),tn(jr,n)}function R5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,Nx(t)||"Unknown",i));return hn({},n,r)}function yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Na,uo=lr.current,tn(lr,t),tn(jr,jr.current),!0}function C0(t,e,n){var r=t.stateNode;if(!r)throw Error(De(169));n?(t=R5(t,e,uo),r.__reactInternalMemoizedMergedChildContext=t,an(jr),an(lr),tn(lr,t)):an(jr),tn(jr,n)}var xs=null,Kh=!1,hp=!1;function F5(t){xs===null?xs=[t]:xs.push(t)}function z3(t){Kh=!0,F5(t)}function Ea(){if(!hp&&xs!==null){hp=!0;var t=0,e=Wt;try{var n=xs;for(Wt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xs=null,Kh=!1}catch(i){throw xs!==null&&(xs=xs.slice(t+1)),o5(Ng,Ea),i}finally{Wt=e,hp=!1}}return null}var gl=[],ml=0,wh=null,bh=0,li=[],ui=0,co=null,_s=1,Ss="";function Ja(t,e){gl[ml++]=bh,gl[ml++]=wh,wh=t,bh=e}function D5(t,e,n){li[ui++]=_s,li[ui++]=Ss,li[ui++]=co,co=t;var r=_s;t=Ss;var i=32-Ei(r)-1;r&=~(1<<i),n+=1;var s=32-Ei(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,_s=1<<32-Ei(e)+i|n<<i|r,Ss=s+t}else _s=1<<s|n<<i|r,Ss=t}function Ig(t){t.return!==null&&(Ja(t,1),D5(t,1,0))}function Tg(t){for(;t===wh;)wh=gl[--ml],gl[ml]=null,bh=gl[--ml],gl[ml]=null;for(;t===co;)co=li[--ui],li[ui]=null,Ss=li[--ui],li[ui]=null,_s=li[--ui],li[ui]=null}var Vr=null,Wr=null,ln=!1,ji=null;function M5(t,e){var n=ci(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function O0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vr=t,Wr=ya(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vr=t,Wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=co!==null?{id:_s,overflow:Ss}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ci(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vr=t,Wr=null,!0):!1;default:return!1}}function b1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function x1(t){if(ln){var e=Wr;if(e){var n=e;if(!O0(t,e)){if(b1(t))throw Error(De(418));e=ya(n.nextSibling);var r=Vr;e&&O0(t,e)?M5(r,n):(t.flags=t.flags&-4097|2,ln=!1,Vr=t)}}else{if(b1(t))throw Error(De(418));t.flags=t.flags&-4097|2,ln=!1,Vr=t}}}function I0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vr=t}function Ef(t){if(t!==Vr)return!1;if(!ln)return I0(t),ln=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!m1(t.type,t.memoizedProps)),e&&(e=Wr)){if(b1(t))throw B5(),Error(De(418));for(;e;)M5(t,e),e=ya(e.nextSibling)}if(I0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(De(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wr=ya(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wr=null}}else Wr=Vr?ya(t.stateNode.nextSibling):null;return!0}function B5(){for(var t=Wr;t;)t=ya(t.nextSibling)}function Tl(){Wr=Vr=null,ln=!1}function Rg(t){ji===null?ji=[t]:ji.push(t)}var $3=js.ReactCurrentBatchConfig;function Pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(De(309));var r=n.stateNode}if(!r)throw Error(De(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(De(284));if(!n._owner)throw Error(De(290,t))}return t}function Cf(t,e){throw t=Object.prototype.toString.call(e),Error(De(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T0(t){var e=t._init;return e(t._payload)}function U5(t){function e(y,b){if(t){var N=y.deletions;N===null?(y.deletions=[b],y.flags|=16):N.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=_a(y,b),y.index=0,y.sibling=null,y}function s(y,b,N){return y.index=N,t?(N=y.alternate,N!==null?(N=N.index,N<b?(y.flags|=2,b):N):(y.flags|=2,b)):(y.flags|=1048576,b)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,b,N,I){return b===null||b.tag!==6?(b=wp(N,y.mode,I),b.return=y,b):(b=i(b,N),b.return=y,b)}function l(y,b,N,I){var D=N.type;return D===ul?h(y,b,N.props.children,I,N.key):b!==null&&(b.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ia&&T0(D)===b.type)?(I=i(b,N.props),I.ref=Pu(y,b,N),I.return=y,I):(I=rh(N.type,N.key,N.props,null,y.mode,I),I.ref=Pu(y,b,N),I.return=y,I)}function c(y,b,N,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=bp(N,y.mode,I),b.return=y,b):(b=i(b,N.children||[]),b.return=y,b)}function h(y,b,N,I,D){return b===null||b.tag!==7?(b=ao(N,y.mode,I,D),b.return=y,b):(b=i(b,N),b.return=y,b)}function d(y,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=wp(""+b,y.mode,N),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bf:return N=rh(b.type,b.key,b.props,null,y.mode,N),N.ref=Pu(y,null,b),N.return=y,N;case ll:return b=bp(b,y.mode,N),b.return=y,b;case ia:var I=b._init;return d(y,I(b._payload),N)}if(Uu(b)||Su(b))return b=ao(b,y.mode,N,null),b.return=y,b;Cf(y,b)}return null}function g(y,b,N,I){var D=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return D!==null?null:o(y,b,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case bf:return N.key===D?l(y,b,N,I):null;case ll:return N.key===D?c(y,b,N,I):null;case ia:return D=N._init,g(y,b,D(N._payload),I)}if(Uu(N)||Su(N))return D!==null?null:h(y,b,N,I,null);Cf(y,N)}return null}function m(y,b,N,I,D){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(N)||null,o(b,y,""+I,D);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case bf:return y=y.get(I.key===null?N:I.key)||null,l(b,y,I,D);case ll:return y=y.get(I.key===null?N:I.key)||null,c(b,y,I,D);case ia:var V=I._init;return m(y,b,N,V(I._payload),D)}if(Uu(I)||Su(I))return y=y.get(N)||null,h(b,y,I,D,null);Cf(b,I)}return null}function _(y,b,N,I){for(var D=null,V=null,$=b,M=b=0,Q=null;$!==null&&M<N.length;M++){$.index>M?(Q=$,$=null):Q=$.sibling;var X=g(y,$,N[M],I);if(X===null){$===null&&($=Q);break}t&&$&&X.alternate===null&&e(y,$),b=s(X,b,M),V===null?D=X:V.sibling=X,V=X,$=Q}if(M===N.length)return n(y,$),ln&&Ja(y,M),D;if($===null){for(;M<N.length;M++)$=d(y,N[M],I),$!==null&&(b=s($,b,M),V===null?D=$:V.sibling=$,V=$);return ln&&Ja(y,M),D}for($=r(y,$);M<N.length;M++)Q=m($,y,M,N[M],I),Q!==null&&(t&&Q.alternate!==null&&$.delete(Q.key===null?M:Q.key),b=s(Q,b,M),V===null?D=Q:V.sibling=Q,V=Q);return t&&$.forEach(function(L){return e(y,L)}),ln&&Ja(y,M),D}function S(y,b,N,I){var D=Su(N);if(typeof D!="function")throw Error(De(150));if(N=D.call(N),N==null)throw Error(De(151));for(var V=D=null,$=b,M=b=0,Q=null,X=N.next();$!==null&&!X.done;M++,X=N.next()){$.index>M?(Q=$,$=null):Q=$.sibling;var L=g(y,$,X.value,I);if(L===null){$===null&&($=Q);break}t&&$&&L.alternate===null&&e(y,$),b=s(L,b,M),V===null?D=L:V.sibling=L,V=L,$=Q}if(X.done)return n(y,$),ln&&Ja(y,M),D;if($===null){for(;!X.done;M++,X=N.next())X=d(y,X.value,I),X!==null&&(b=s(X,b,M),V===null?D=X:V.sibling=X,V=X);return ln&&Ja(y,M),D}for($=r(y,$);!X.done;M++,X=N.next())X=m($,y,M,X.value,I),X!==null&&(t&&X.alternate!==null&&$.delete(X.key===null?M:X.key),b=s(X,b,M),V===null?D=X:V.sibling=X,V=X);return t&&$.forEach(function(C){return e(y,C)}),ln&&Ja(y,M),D}function k(y,b,N,I){if(typeof N=="object"&&N!==null&&N.type===ul&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case bf:e:{for(var D=N.key,V=b;V!==null;){if(V.key===D){if(D=N.type,D===ul){if(V.tag===7){n(y,V.sibling),b=i(V,N.props.children),b.return=y,y=b;break e}}else if(V.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ia&&T0(D)===V.type){n(y,V.sibling),b=i(V,N.props),b.ref=Pu(y,V,N),b.return=y,y=b;break e}n(y,V);break}else e(y,V);V=V.sibling}N.type===ul?(b=ao(N.props.children,y.mode,I,N.key),b.return=y,y=b):(I=rh(N.type,N.key,N.props,null,y.mode,I),I.ref=Pu(y,b,N),I.return=y,y=I)}return a(y);case ll:e:{for(V=N.key;b!==null;){if(b.key===V)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){n(y,b.sibling),b=i(b,N.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=bp(N,y.mode,I),b.return=y,y=b}return a(y);case ia:return V=N._init,k(y,b,V(N._payload),I)}if(Uu(N))return _(y,b,N,I);if(Su(N))return S(y,b,N,I);Cf(y,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,N),b.return=y,y=b):(n(y,b),b=wp(N,y.mode,I),b.return=y,y=b),a(y)):n(y,b)}return k}var Rl=U5(!0),z5=U5(!1),xh=ja(null),_h=null,vl=null,Fg=null;function Dg(){Fg=vl=_h=null}function Mg(t){var e=xh.current;an(xh),t._currentValue=e}function _1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kl(t,e){_h=t,Fg=vl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pr=!0),t.firstContext=null)}function hi(t){var e=t._currentValue;if(Fg!==t)if(t={context:t,memoizedValue:e,next:null},vl===null){if(_h===null)throw Error(De(308));vl=t,_h.dependencies={lanes:0,firstContext:t}}else vl=vl.next=t;return e}var ro=null;function Bg(t){ro===null?ro=[t]:ro.push(t)}function $5(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Bg(e)):(n.next=i.next,i.next=n),e.interleaved=n,As(t,r)}function As(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sa=!1;function Ug(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Tt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,As(t,n)}return i=r.interleaved,i===null?(e.next=e,Bg(r)):(e.next=i.next,i.next=e),r.interleaved=e,As(t,n)}function Qf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}function R0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sh(t,e,n,r){var i=t.updateQueue;sa=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,h=c=l=null,o=s;do{var g=o.lane,m=o.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,S=o;switch(g=e,m=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){d=_.call(m,d,g);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,g=typeof _=="function"?_.call(m,d,g):_,g==null)break e;d=hn({},d,g);break e;case 2:sa=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else m={eventTime:m,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,l=d):h=h.next=m,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ho|=a,t.lanes=a,t.memoizedState=d}}function F0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var Cc={},Zi=ja(Cc),gc=ja(Cc),mc=ja(Cc);function io(t){if(t===Cc)throw Error(De(174));return t}function zg(t,e){switch(tn(mc,e),tn(gc,t),tn(Zi,Cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:n1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=n1(e,t)}an(Zi),tn(Zi,e)}function Fl(){an(Zi),an(gc),an(mc)}function W5(t){io(mc.current);var e=io(Zi.current),n=n1(e,t.type);e!==n&&(tn(gc,t),tn(Zi,n))}function $g(t){gc.current===t&&(an(Zi),an(gc))}var cn=ja(0);function Nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dp=[];function qg(){for(var t=0;t<dp.length;t++)dp[t]._workInProgressVersionPrimary=null;dp.length=0}var Xf=js.ReactCurrentDispatcher,pp=js.ReactCurrentBatchConfig,fo=0,fn=null,In=null,Un=null,kh=!1,Ju=!1,vc=0,q3=0;function Zn(){throw Error(De(321))}function Wg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ii(t[n],e[n]))return!1;return!0}function Hg(t,e,n,r,i,s){if(fo=s,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xf.current=t===null||t.memoizedState===null?G3:K3,t=n(r,i),Ju){s=0;do{if(Ju=!1,vc=0,25<=s)throw Error(De(301));s+=1,Un=In=null,e.updateQueue=null,Xf.current=J3,t=n(r,i)}while(Ju)}if(Xf.current=Lh,e=In!==null&&In.next!==null,fo=0,Un=In=fn=null,kh=!1,e)throw Error(De(300));return t}function Vg(){var t=vc!==0;return vc=0,t}function Vi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?fn.memoizedState=Un=t:Un=Un.next=t,Un}function di(){if(In===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=In.next;var e=Un===null?fn.memoizedState:Un.next;if(e!==null)Un=e,In=t;else{if(t===null)throw Error(De(310));In=t,t={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Un===null?fn.memoizedState=Un=t:Un=Un.next=t}return Un}function yc(t,e){return typeof e=="function"?e(t):e}function gp(t){var e=di(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=In,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var h=c.lane;if((fo&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,fn.lanes|=h,ho|=h}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Ii(r,e.memoizedState)||(Pr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,fn.lanes|=s,ho|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mp(t){var e=di(),n=e.queue;if(n===null)throw Error(De(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Ii(s,e.memoizedState)||(Pr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function H5(){}function V5(t,e){var n=fn,r=di(),i=e(),s=!Ii(r.memoizedState,i);if(s&&(r.memoizedState=i,Pr=!0),r=r.queue,Gg(J5.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Un!==null&&Un.memoizedState.tag&1){if(n.flags|=2048,wc(9,K5.bind(null,n,r,i,e),void 0,null),qn===null)throw Error(De(349));fo&30||G5(n,e,i)}return i}function G5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K5(t,e,n,r){e.value=n,e.getSnapshot=r,Y5(e)&&Q5(t)}function J5(t,e,n){return n(function(){Y5(e)&&Q5(t)})}function Y5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ii(t,n)}catch(r){return!0}}function Q5(t){var e=As(t,1);e!==null&&Ci(e,t,1,-1)}function D0(t){var e=Vi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:t},e.queue=t,t=t.dispatch=V3.bind(null,fn,t),[e.memoizedState,t]}function wc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function X5(){return di().memoizedState}function Zf(t,e,n,r){var i=Vi();fn.flags|=t,i.memoizedState=wc(1|e,n,void 0,r===void 0?null:r)}function Jh(t,e,n,r){var i=di();r=r===void 0?null:r;var s=void 0;if(In!==null){var a=In.memoizedState;if(s=a.destroy,r!==null&&Wg(r,a.deps)){i.memoizedState=wc(e,n,s,r);return}}fn.flags|=t,i.memoizedState=wc(1|e,n,s,r)}function M0(t,e){return Zf(8390656,8,t,e)}function Gg(t,e){return Jh(2048,8,t,e)}function Z5(t,e){return Jh(4,2,t,e)}function ey(t,e){return Jh(4,4,t,e)}function ty(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ny(t,e,n){return n=n!=null?n.concat([t]):null,Jh(4,4,ty.bind(null,e,t),n)}function Kg(){}function ry(t,e){var n=di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iy(t,e){var n=di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Wg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sy(t,e,n){return fo&21?(Ii(n,e)||(n=c5(),fn.lanes|=n,ho|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pr=!0),t.memoizedState=n)}function W3(t,e){var n=Wt;Wt=n!==0&&4>n?n:4,t(!0);var r=pp.transition;pp.transition={};try{t(!1),e()}finally{Wt=n,pp.transition=r}}function ay(){return di().memoizedState}function H3(t,e,n){var r=xa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oy(t))ly(e,n);else if(n=$5(t,e,n,r),n!==null){var i=mr();Ci(n,t,r,i),uy(n,e,r)}}function V3(t,e,n){var r=xa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oy(t))ly(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Ii(o,a)){var l=e.interleaved;l===null?(i.next=i,Bg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch(c){}finally{}n=$5(t,e,i,r),n!==null&&(i=mr(),Ci(n,t,r,i),uy(n,e,r))}}function oy(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function ly(t,e){Ju=kh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}var Lh={readContext:hi,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},G3={readContext:hi,useCallback:function(t,e){return Vi().memoizedState=[t,e===void 0?null:e],t},useContext:hi,useEffect:M0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zf(4194308,4,ty.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zf(4,2,t,e)},useMemo:function(t,e){var n=Vi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=H3.bind(null,fn,t),[r.memoizedState,t]},useRef:function(t){var e=Vi();return t={current:t},e.memoizedState=t},useState:D0,useDebugValue:Kg,useDeferredValue:function(t){return Vi().memoizedState=t},useTransition:function(){var t=D0(!1),e=t[0];return t=W3.bind(null,t[1]),Vi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fn,i=Vi();if(ln){if(n===void 0)throw Error(De(407));n=n()}else{if(n=e(),qn===null)throw Error(De(349));fo&30||G5(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,M0(J5.bind(null,r,s,t),[t]),r.flags|=2048,wc(9,K5.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vi(),e=qn.identifierPrefix;if(ln){var n=Ss,r=_s;n=(r&~(1<<32-Ei(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=q3++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},K3={readContext:hi,useCallback:ry,useContext:hi,useEffect:Gg,useImperativeHandle:ny,useInsertionEffect:Z5,useLayoutEffect:ey,useMemo:iy,useReducer:gp,useRef:X5,useState:function(){return gp(yc)},useDebugValue:Kg,useDeferredValue:function(t){var e=di();return sy(e,In.memoizedState,t)},useTransition:function(){var t=gp(yc)[0],e=di().memoizedState;return[t,e]},useMutableSource:H5,useSyncExternalStore:V5,useId:ay,unstable_isNewReconciler:!1},J3={readContext:hi,useCallback:ry,useContext:hi,useEffect:Gg,useImperativeHandle:ny,useInsertionEffect:Z5,useLayoutEffect:ey,useMemo:iy,useReducer:mp,useRef:X5,useState:function(){return mp(yc)},useDebugValue:Kg,useDeferredValue:function(t){var e=di();return In===null?e.memoizedState=t:sy(e,In.memoizedState,t)},useTransition:function(){var t=mp(yc)[0],e=di().memoizedState;return[t,e]},useMutableSource:H5,useSyncExternalStore:V5,useId:ay,unstable_isNewReconciler:!1};function ki(t,e){if(t&&t.defaultProps){e=hn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function S1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mr(),i=xa(t),s=Ns(r,i);s.payload=e,n!=null&&(s.callback=n),e=wa(t,s,i),e!==null&&(Ci(e,t,i,r),Qf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mr(),i=xa(t),s=Ns(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=wa(t,s,i),e!==null&&(Ci(e,t,i,r),Qf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mr(),r=xa(t),i=Ns(n,r);i.tag=2,e!=null&&(i.callback=e),e=wa(t,i,r),e!==null&&(Ci(e,t,r,n),Qf(e,t,r))}};function B0(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!fc(n,r)||!fc(i,s):!0}function cy(t,e,n){var r=!1,i=Na,s=e.contextType;return typeof s=="object"&&s!==null?s=hi(s):(i=Er(e)?uo:lr.current,r=e.contextTypes,s=(r=r!=null)?Il(t,i):Na),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function U0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function N1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ug(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hi(s):(s=Er(e)?uo:lr.current,i.context=Il(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(S1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yh.enqueueReplaceState(i,i.state,null),Sh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Dl(t,e){try{var n="",r=e;do n+=Sx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function vp(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function k1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Y3=typeof WeakMap=="function"?WeakMap:Map;function fy(t,e,n){n=Ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ph||(Ph=!0,R1=r),k1(t,e)},n}function hy(t,e,n){n=Ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){k1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){k1(t,e),typeof r!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function z0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Y3;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=c4.bind(null,t,e,n),e.then(t,t))}function $0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function q0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ns(-1,1),e.tag=2,wa(n,e,1))),n.lanes|=1),t)}var Q3=js.ReactCurrentOwner,Pr=!1;function gr(t,e,n,r){e.child=t===null?z5(e,null,n,r):Rl(e,t.child,n,r)}function W0(t,e,n,r,i){n=n.render;var s=e.ref;return kl(e,i),r=Hg(t,e,n,r,s,i),n=Vg(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):(ln&&n&&Ig(e),e.flags|=1,gr(t,e,r,i),e.child)}function H0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!nm(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,dy(t,e,s,r,i)):(t=rh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:fc,n(a,r)&&t.ref===e.ref)return Ps(t,e,i)}return e.flags|=1,t=_a(s,r),t.ref=e.ref,t.return=e,e.child=t}function dy(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fc(s,r)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,Ps(t,e,i)}return L1(t,e,n,r,i)}function py(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tn(wl,qr),qr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tn(wl,qr),qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,tn(wl,qr),qr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,tn(wl,qr),qr|=r;return gr(t,e,i,n),e.child}function gy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function L1(t,e,n,r,i){var s=Er(n)?uo:lr.current;return s=Il(e,s),kl(e,i),n=Hg(t,e,n,r,s,i),r=Vg(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):(ln&&r&&Ig(e),e.flags|=1,gr(t,e,n,i),e.child)}function V0(t,e,n,r,i){if(Er(n)){var s=!0;yh(e)}else s=!1;if(kl(e,i),e.stateNode===null)eh(t,e),cy(e,n,r),N1(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=hi(c):(c=Er(n)?uo:lr.current,c=Il(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&U0(e,a,r,c),sa=!1;var g=e.memoizedState;a.state=g,Sh(e,r,a,i),l=e.memoizedState,o!==r||g!==l||jr.current||sa?(typeof h=="function"&&(S1(e,n,h,r),l=e.memoizedState),(o=sa||B0(e,n,o,r,g,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,q5(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ki(e.type,o),a.props=c,d=e.pendingProps,g=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=hi(l):(l=Er(n)?uo:lr.current,l=Il(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||g!==l)&&U0(e,a,r,l),sa=!1,g=e.memoizedState,a.state=g,Sh(e,r,a,i);var _=e.memoizedState;o!==d||g!==_||jr.current||sa?(typeof m=="function"&&(S1(e,n,m,r),_=e.memoizedState),(c=sa||B0(e,n,c,r,g,_,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return A1(t,e,n,r,s,i)}function A1(t,e,n,r,i,s){gy(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&C0(e,n,!1),Ps(t,e,s);r=e.stateNode,Q3.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Rl(e,t.child,null,s),e.child=Rl(e,null,o,s)):gr(t,e,o,s),e.memoizedState=r.state,i&&C0(e,n,!0),e.child}function my(t){var e=t.stateNode;e.pendingContext?E0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E0(t,e.context,!1),zg(t,e.containerInfo)}function G0(t,e,n,r,i){return Tl(),Rg(i),e.flags|=256,gr(t,e,n,r),e.child}var P1={dehydrated:null,treeContext:null,retryLane:0};function j1(t){return{baseLanes:t,cachePool:null,transitions:null}}function vy(t,e,n){var r=e.pendingProps,i=cn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tn(cn,i&1),t===null)return x1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Zh(a,r,0,null),t=ao(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=j1(n),e.memoizedState=P1,t):Jg(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return X3(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=_a(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=_a(o,s):(s=ao(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?j1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=P1,r}return s=t.child,t=s.sibling,r=_a(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jg(t,e){return e=Zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Of(t,e,n,r){return r!==null&&Rg(r),Rl(e,t.child,null,n),t=Jg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X3(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=vp(Error(De(422))),Of(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Zh({mode:"visible",children:r.children},i,0,null),s=ao(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rl(e,t.child,null,a),e.child.memoizedState=j1(a),e.memoizedState=P1,s);if(!(e.mode&1))return Of(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(De(419)),r=vp(s,r,void 0),Of(t,e,a,r)}if(o=(a&t.childLanes)!==0,Pr||o){if(r=qn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,As(t,i),Ci(r,t,i,-1))}return tm(),r=vp(Error(De(421))),Of(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=f4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wr=ya(i.nextSibling),Vr=e,ln=!0,ji=null,t!==null&&(li[ui++]=_s,li[ui++]=Ss,li[ui++]=co,_s=t.id,Ss=t.overflow,co=e),e=Jg(e,r.children),e.flags|=4096,e)}function K0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_1(t.return,e,n)}function yp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yy(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(gr(t,e,r.children,n),r=cn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&K0(t,n,e);else if(t.tag===19)K0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(tn(cn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Nh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yp(e,!0,n,null,s);break;case"together":yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ps(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ho|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(De(153));if(e.child!==null){for(t=e.child,n=_a(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_a(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Z3(t,e,n){switch(e.tag){case 3:my(e),Tl();break;case 5:W5(e);break;case 1:Er(e.type)&&yh(e);break;case 4:zg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;tn(xh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(tn(cn,cn.current&1),e.flags|=128,null):n&e.child.childLanes?vy(t,e,n):(tn(cn,cn.current&1),t=Ps(t,e,n),t!==null?t.sibling:null);tn(cn,cn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tn(cn,cn.current),r)break;return null;case 22:case 23:return e.lanes=0,py(t,e,n)}return Ps(t,e,n)}var wy,E1,by,xy;wy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};E1=function(){};by=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,io(Zi.current);var s=null;switch(n){case"input":i=Xp(t,i),r=Xp(t,r),s=[];break;case"select":i=hn({},i,{value:void 0}),r=hn({},r,{value:void 0}),s=[];break;case"textarea":i=t1(t,i),r=t1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mh)}r1(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ic.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ic.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};xy=function(t,e,n,r){n!==r&&(e.flags|=4)};function ju(t,e){if(!ln)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function er(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function e4(t,e,n){var r=e.pendingProps;switch(Tg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(e),null;case 1:return Er(e.type)&&vh(),er(e),null;case 3:return r=e.stateNode,Fl(),an(jr),an(lr),qg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ef(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ji!==null&&(M1(ji),ji=null))),E1(t,e),er(e),null;case 5:$g(e);var i=io(mc.current);if(n=e.type,t!==null&&e.stateNode!=null)by(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return er(e),null}if(t=io(Zi.current),Ef(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Gi]=e,r[pc]=s,t=(e.mode&1)!==0,n){case"dialog":rn("cancel",r),rn("close",r);break;case"iframe":case"object":case"embed":rn("load",r);break;case"video":case"audio":for(i=0;i<$u.length;i++)rn($u[i],r);break;case"source":rn("error",r);break;case"img":case"image":case"link":rn("error",r),rn("load",r);break;case"details":rn("toggle",r);break;case"input":r0(r,s),rn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rn("invalid",r);break;case"textarea":s0(r,s),rn("invalid",r)}r1(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&jf(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&jf(r.textContent,o,t),i=["children",""+o]):ic.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&rn("scroll",r)}switch(n){case"input":xf(r),i0(r,s,!0);break;case"textarea":xf(r),a0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Gi]=e,t[pc]=r,wy(t,e,!1,!1),e.stateNode=t;e:{switch(a=i1(n,r),n){case"dialog":rn("cancel",t),rn("close",t),i=r;break;case"iframe":case"object":case"embed":rn("load",t),i=r;break;case"video":case"audio":for(i=0;i<$u.length;i++)rn($u[i],t);i=r;break;case"source":rn("error",t),i=r;break;case"img":case"image":case"link":rn("error",t),rn("load",t),i=r;break;case"details":rn("toggle",t),i=r;break;case"input":r0(t,r),i=Xp(t,r),rn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=hn({},r,{value:void 0}),rn("invalid",t);break;case"textarea":s0(t,r),i=t1(t,r),rn("invalid",t);break;default:i=r}r1(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Xv(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yv(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sc(t,l):typeof l=="number"&&sc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ic.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rn("scroll",t):l!=null&&wg(t,s,l,a))}switch(n){case"input":xf(t),i0(t,r,!1);break;case"textarea":xf(t),a0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Sa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?xl(t,!!r.multiple,s,!1):r.defaultValue!=null&&xl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return er(e),null;case 6:if(t&&e.stateNode!=null)xy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(n=io(mc.current),io(Zi.current),Ef(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gi]=e,(s=r.nodeValue!==n)&&(t=Vr,t!==null))switch(t.tag){case 3:jf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gi]=e,e.stateNode=r}return er(e),null;case 13:if(an(cn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ln&&Wr!==null&&e.mode&1&&!(e.flags&128))B5(),Tl(),e.flags|=98560,s=!1;else if(s=Ef(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(De(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[Gi]=e}else Tl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;er(e),s=!1}else ji!==null&&(M1(ji),ji=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||cn.current&1?Tn===0&&(Tn=3):tm())),e.updateQueue!==null&&(e.flags|=4),er(e),null);case 4:return Fl(),E1(t,e),t===null&&hc(e.stateNode.containerInfo),er(e),null;case 10:return Mg(e.type._context),er(e),null;case 17:return Er(e.type)&&vh(),er(e),null;case 19:if(an(cn),s=e.memoizedState,s===null)return er(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)ju(s,!1);else{if(Tn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Nh(t),a!==null){for(e.flags|=128,ju(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return tn(cn,cn.current&1|2),e.child}t=t.sibling}s.tail!==null&&xn()>Ml&&(e.flags|=128,r=!0,ju(s,!1),e.lanes=4194304)}else{if(!r)if(t=Nh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ju(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ln)return er(e),null}else 2*xn()-s.renderingStartTime>Ml&&n!==1073741824&&(e.flags|=128,r=!0,ju(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xn(),e.sibling=null,n=cn.current,tn(cn,r?n&1|2:n&1),e):(er(e),null);case 22:case 23:return em(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qr&1073741824&&(er(e),e.subtreeFlags&6&&(e.flags|=8192)):er(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function t4(t,e){switch(Tg(e),e.tag){case 1:return Er(e.type)&&vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fl(),an(jr),an(lr),qg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $g(e),null;case 13:if(an(cn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(De(340));Tl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return an(cn),null;case 4:return Fl(),null;case 10:return Mg(e.type._context),null;case 22:case 23:return em(),null;case 24:return null;default:return null}}var If=!1,ar=!1,n4=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function yl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yn(t,e,r)}else n.current=null}function C1(t,e,n){try{n()}catch(r){yn(t,e,r)}}var J0=!1;function r4(t,e){if(p1=dh,t=L5(),Og(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(I){n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,d=t,g=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(m=d.firstChild)!==null;)g=d,d=m;for(;;){if(d===t)break t;if(g===n&&++c===i&&(o=a),g===s&&++h===r&&(l=a),(m=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(g1={focusedElem:t,selectionRange:n},dh=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,k=_.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?S:ki(e.type,S),k);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(I){yn(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return _=J0,J0=!1,_}function Yu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&C1(e,n,s)}i=i.next}while(i!==r)}}function Qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function O1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _y(t){var e=t.alternate;e!==null&&(t.alternate=null,_y(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gi],delete e[pc],delete e[y1],delete e[B3],delete e[U3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sy(t){return t.tag===5||t.tag===3||t.tag===4}function Y0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function I1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mh));else if(r!==4&&(t=t.child,t!==null))for(I1(t,e,n),t=t.sibling;t!==null;)I1(t,e,n),t=t.sibling}function T1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(T1(t,e,n),t=t.sibling;t!==null;)T1(t,e,n),t=t.sibling}var Gn=null,Ai=!1;function Xs(t,e,n){for(n=n.child;n!==null;)Ny(t,e,n),n=n.sibling}function Ny(t,e,n){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(qh,n)}catch(o){}switch(n.tag){case 5:ar||yl(n,e);case 6:var r=Gn,i=Ai;Gn=null,Xs(t,e,n),Gn=r,Ai=i,Gn!==null&&(Ai?(t=Gn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gn.removeChild(n.stateNode));break;case 18:Gn!==null&&(Ai?(t=Gn,n=n.stateNode,t.nodeType===8?fp(t.parentNode,n):t.nodeType===1&&fp(t,n),uc(t)):fp(Gn,n.stateNode));break;case 4:r=Gn,i=Ai,Gn=n.stateNode.containerInfo,Ai=!0,Xs(t,e,n),Gn=r,Ai=i;break;case 0:case 11:case 14:case 15:if(!ar&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&C1(n,e,a),i=i.next}while(i!==r)}Xs(t,e,n);break;case 1:if(!ar&&(yl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){yn(n,e,o)}Xs(t,e,n);break;case 21:Xs(t,e,n);break;case 22:n.mode&1?(ar=(r=ar)||n.memoizedState!==null,Xs(t,e,n),ar=r):Xs(t,e,n);break;default:Xs(t,e,n)}}function Q0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new n4),e.forEach(function(r){var i=h4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Gn=o.stateNode,Ai=!1;break e;case 3:Gn=o.stateNode.containerInfo,Ai=!0;break e;case 4:Gn=o.stateNode.containerInfo,Ai=!0;break e}o=o.return}if(Gn===null)throw Error(De(160));Ny(s,a,i),Gn=null,Ai=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){yn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ky(e,t),e=e.sibling}function ky(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xi(e,t),$i(t),r&4){try{Yu(3,t,t.return),Qh(3,t)}catch(S){yn(t,t.return,S)}try{Yu(5,t,t.return)}catch(S){yn(t,t.return,S)}}break;case 1:xi(e,t),$i(t),r&512&&n!==null&&yl(n,n.return);break;case 5:if(xi(e,t),$i(t),r&512&&n!==null&&yl(n,n.return),t.flags&32){var i=t.stateNode;try{sc(i,"")}catch(S){yn(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Gv(i,s),i1(o,a);var c=i1(o,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?Xv(i,d):h==="dangerouslySetInnerHTML"?Yv(i,d):h==="children"?sc(i,d):wg(i,h,d,c)}switch(o){case"input":Zp(i,s);break;case"textarea":Kv(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?xl(i,!!s.multiple,m,!1):g!==!!s.multiple&&(s.defaultValue!=null?xl(i,!!s.multiple,s.defaultValue,!0):xl(i,!!s.multiple,s.multiple?[]:"",!1))}i[pc]=s}catch(S){yn(t,t.return,S)}}break;case 6:if(xi(e,t),$i(t),r&4){if(t.stateNode===null)throw Error(De(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){yn(t,t.return,S)}}break;case 3:if(xi(e,t),$i(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uc(e.containerInfo)}catch(S){yn(t,t.return,S)}break;case 4:xi(e,t),$i(t);break;case 13:xi(e,t),$i(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xg=xn())),r&4&&Q0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ar=(c=ar)||h,xi(e,t),ar=c):xi(e,t),$i(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Qe=t,h=t.child;h!==null;){for(d=Qe=h;Qe!==null;){switch(g=Qe,m=g.child,g.tag){case 0:case 11:case 14:case 15:Yu(4,g,g.return);break;case 1:yl(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){yn(r,n,S)}}break;case 5:yl(g,g.return);break;case 22:if(g.memoizedState!==null){Z0(d);continue}}m!==null?(m.return=g,Qe=m):Z0(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Qv("display",a))}catch(S){yn(t,t.return,S)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(S){yn(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xi(e,t),$i(t),r&4&&Q0(t);break;case 21:break;default:xi(e,t),$i(t)}}function $i(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sy(n)){var r=n;break e}n=n.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sc(i,""),r.flags&=-33);var s=Y0(t);T1(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Y0(t);I1(t,o,a);break;default:throw Error(De(161))}}catch(l){yn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function i4(t,e,n){Qe=t,Ly(t)}function Ly(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||If;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ar;o=If;var c=ar;if(If=a,(ar=l)&&!c)for(Qe=i;Qe!==null;)a=Qe,l=a.child,a.tag===22&&a.memoizedState!==null?e2(i):l!==null?(l.return=a,Qe=l):e2(i);for(;s!==null;)Qe=s,Ly(s),s=s.sibling;Qe=i,If=o,ar=c}X0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):X0(t)}}function X0(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ar||Qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ar)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ki(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&F0(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}F0(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&uc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}ar||e.flags&512&&O1(e)}catch(g){yn(e,e.return,g)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function Z0(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function e2(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qh(4,e)}catch(l){yn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yn(e,i,l)}}var s=e.return;try{O1(e)}catch(l){yn(e,s,l)}break;case 5:var a=e.return;try{O1(e)}catch(l){yn(e,a,l)}}}catch(l){yn(e,e.return,l)}if(e===t){Qe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Qe=o;break}Qe=e.return}}var s4=Math.ceil,Ah=js.ReactCurrentDispatcher,Yg=js.ReactCurrentOwner,fi=js.ReactCurrentBatchConfig,Tt=0,qn=null,Pn=null,Kn=0,qr=0,wl=ja(0),Tn=0,bc=null,ho=0,Xh=0,Qg=0,Qu=null,Lr=null,Xg=0,Ml=1/0,ws=null,Ph=!1,R1=null,ba=null,Tf=!1,fa=null,jh=0,Xu=0,F1=null,th=-1,nh=0;function mr(){return Tt&6?xn():th!==-1?th:th=xn()}function xa(t){return t.mode&1?Tt&2&&Kn!==0?Kn&-Kn:$3.transition!==null?(nh===0&&(nh=c5()),nh):(t=Wt,t!==0||(t=window.event,t=t===void 0?16:v5(t.type)),t):1}function Ci(t,e,n,r){if(50<Xu)throw Xu=0,F1=null,Error(De(185));Pc(t,n,r),(!(Tt&2)||t!==qn)&&(t===qn&&(!(Tt&2)&&(Xh|=n),Tn===4&&la(t,Kn)),Cr(t,r),n===1&&Tt===0&&!(e.mode&1)&&(Ml=xn()+500,Kh&&Ea()))}function Cr(t,e){var n=t.callbackNode;$x(t,e);var r=hh(t,t===qn?Kn:0);if(r===0)n!==null&&u0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&u0(n),e===1)t.tag===0?z3(t2.bind(null,t)):F5(t2.bind(null,t)),D3(function(){!(Tt&6)&&Ea()}),n=null;else{switch(f5(r)){case 1:n=Ng;break;case 4:n=l5;break;case 16:n=fh;break;case 536870912:n=u5;break;default:n=fh}n=Ty(n,Ay.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ay(t,e){if(th=-1,nh=0,Tt&6)throw Error(De(327));var n=t.callbackNode;if(Ll()&&t.callbackNode!==n)return null;var r=hh(t,t===qn?Kn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eh(t,r);else{e=r;var i=Tt;Tt|=2;var s=jy();(qn!==t||Kn!==e)&&(ws=null,Ml=xn()+500,so(t,e));do try{l4();break}catch(o){Py(t,o)}while(!0);Dg(),Ah.current=s,Tt=i,Pn!==null?e=0:(qn=null,Kn=0,e=Tn)}if(e!==0){if(e===2&&(i=u1(t),i!==0&&(r=i,e=D1(t,i))),e===1)throw n=bc,so(t,0),la(t,r),Cr(t,xn()),n;if(e===6)la(t,r);else{if(i=t.current.alternate,!(r&30)&&!a4(i)&&(e=Eh(t,r),e===2&&(s=u1(t),s!==0&&(r=s,e=D1(t,s))),e===1))throw n=bc,so(t,0),la(t,r),Cr(t,xn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:Ya(t,Lr,ws);break;case 3:if(la(t,r),(r&130023424)===r&&(e=Xg+500-xn(),10<e)){if(hh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=v1(Ya.bind(null,t,Lr,ws),e);break}Ya(t,Lr,ws);break;case 4:if(la(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ei(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=xn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s4(r/1960))-r,10<r){t.timeoutHandle=v1(Ya.bind(null,t,Lr,ws),r);break}Ya(t,Lr,ws);break;case 5:Ya(t,Lr,ws);break;default:throw Error(De(329))}}}return Cr(t,xn()),t.callbackNode===n?Ay.bind(null,t):null}function D1(t,e){var n=Qu;return t.current.memoizedState.isDehydrated&&(so(t,e).flags|=256),t=Eh(t,e),t!==2&&(e=Lr,Lr=n,e!==null&&M1(e)),t}function M1(t){Lr===null?Lr=t:Lr.push.apply(Lr,t)}function a4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ii(s(),i))return!1}catch(a){return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function la(t,e){for(e&=~Qg,e&=~Xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ei(e),r=1<<n;t[n]=-1,e&=~r}}function t2(t){if(Tt&6)throw Error(De(327));Ll();var e=hh(t,0);if(!(e&1))return Cr(t,xn()),null;var n=Eh(t,e);if(t.tag!==0&&n===2){var r=u1(t);r!==0&&(e=r,n=D1(t,r))}if(n===1)throw n=bc,so(t,0),la(t,e),Cr(t,xn()),n;if(n===6)throw Error(De(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ya(t,Lr,ws),Cr(t,xn()),null}function Zg(t,e){var n=Tt;Tt|=1;try{return t(e)}finally{Tt=n,Tt===0&&(Ml=xn()+500,Kh&&Ea())}}function po(t){fa!==null&&fa.tag===0&&!(Tt&6)&&Ll();var e=Tt;Tt|=1;var n=fi.transition,r=Wt;try{if(fi.transition=null,Wt=1,t)return t()}finally{Wt=r,fi.transition=n,Tt=e,!(Tt&6)&&Ea()}}function em(){qr=wl.current,an(wl)}function so(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,F3(n)),Pn!==null)for(n=Pn.return;n!==null;){var r=n;switch(Tg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vh();break;case 3:Fl(),an(jr),an(lr),qg();break;case 5:$g(r);break;case 4:Fl();break;case 13:an(cn);break;case 19:an(cn);break;case 10:Mg(r.type._context);break;case 22:case 23:em()}n=n.return}if(qn=t,Pn=t=_a(t.current,null),Kn=qr=e,Tn=0,bc=null,Qg=Xh=ho=0,Lr=Qu=null,ro!==null){for(e=0;e<ro.length;e++)if(n=ro[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ro=null}return t}function Py(t,e){do{var n=Pn;try{if(Dg(),Xf.current=Lh,kh){for(var r=fn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kh=!1}if(fo=0,Un=In=fn=null,Ju=!1,vc=0,Yg.current=null,n===null||n.return===null){Tn=1,bc=e,Pn=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Kn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=$0(a);if(m!==null){m.flags&=-257,q0(m,a,o,s,e),m.mode&1&&z0(s,c,e),e=m,l=c;var _=e.updateQueue;if(_===null){var S=new Set;S.add(l),e.updateQueue=S}else _.add(l);break e}else{if(!(e&1)){z0(s,c,e),tm();break e}l=Error(De(426))}}else if(ln&&o.mode&1){var k=$0(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),q0(k,a,o,s,e),Rg(Dl(l,o));break e}}s=l=Dl(l,o),Tn!==4&&(Tn=2),Qu===null?Qu=[s]:Qu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=fy(s,l,e);R0(s,y);break e;case 1:o=l;var b=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ba===null||!ba.has(N)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=hy(s,o,e);R0(s,I);break e}}s=s.return}while(s!==null)}Cy(n)}catch(D){e=D,Pn===n&&n!==null&&(Pn=n=n.return);continue}break}while(!0)}function jy(){var t=Ah.current;return Ah.current=Lh,t===null?Lh:t}function tm(){(Tn===0||Tn===3||Tn===2)&&(Tn=4),qn===null||!(ho&268435455)&&!(Xh&268435455)||la(qn,Kn)}function Eh(t,e){var n=Tt;Tt|=2;var r=jy();(qn!==t||Kn!==e)&&(ws=null,so(t,e));do try{o4();break}catch(i){Py(t,i)}while(!0);if(Dg(),Tt=n,Ah.current=r,Pn!==null)throw Error(De(261));return qn=null,Kn=0,Tn}function o4(){for(;Pn!==null;)Ey(Pn)}function l4(){for(;Pn!==null&&!Ix();)Ey(Pn)}function Ey(t){var e=Iy(t.alternate,t,qr);t.memoizedProps=t.pendingProps,e===null?Cy(t):Pn=e,Yg.current=null}function Cy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=t4(n,e),n!==null){n.flags&=32767,Pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tn=6,Pn=null;return}}else if(n=e4(n,e,qr),n!==null){Pn=n;return}if(e=e.sibling,e!==null){Pn=e;return}Pn=e=t}while(e!==null);Tn===0&&(Tn=5)}function Ya(t,e,n){var r=Wt,i=fi.transition;try{fi.transition=null,Wt=1,u4(t,e,n,r)}finally{fi.transition=i,Wt=r}return null}function u4(t,e,n,r){do Ll();while(fa!==null);if(Tt&6)throw Error(De(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(De(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(qx(t,s),t===qn&&(Pn=qn=null,Kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tf||(Tf=!0,Ty(fh,function(){return Ll(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=fi.transition,fi.transition=null;var a=Wt;Wt=1;var o=Tt;Tt|=4,Yg.current=null,r4(t,n),ky(n,t),j3(g1),dh=!!p1,g1=p1=null,t.current=n,i4(n),Tx(),Tt=o,Wt=a,fi.transition=s}else t.current=n;if(Tf&&(Tf=!1,fa=t,jh=i),s=t.pendingLanes,s===0&&(ba=null),Dx(n.stateNode),Cr(t,xn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ph)throw Ph=!1,t=R1,R1=null,t;return jh&1&&t.tag!==0&&Ll(),s=t.pendingLanes,s&1?t===F1?Xu++:(Xu=0,F1=t):Xu=0,Ea(),null}function Ll(){if(fa!==null){var t=f5(jh),e=fi.transition,n=Wt;try{if(fi.transition=null,Wt=16>t?16:t,fa===null)var r=!1;else{if(t=fa,fa=null,jh=0,Tt&6)throw Error(De(331));var i=Tt;for(Tt|=4,Qe=t.current;Qe!==null;){var s=Qe,a=s.child;if(Qe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Qe=c;Qe!==null;){var h=Qe;switch(h.tag){case 0:case 11:case 15:Yu(8,h,s)}var d=h.child;if(d!==null)d.return=h,Qe=d;else for(;Qe!==null;){h=Qe;var g=h.sibling,m=h.return;if(_y(h),h===c){Qe=null;break}if(g!==null){g.return=m,Qe=g;break}Qe=m}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var k=S.sibling;S.sibling=null,S=k}while(S!==null)}}Qe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Qe=a;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Yu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Qe=y;break e}Qe=s.return}}var b=t.current;for(Qe=b;Qe!==null;){a=Qe;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,Qe=N;else e:for(a=b;Qe!==null;){if(o=Qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Qh(9,o)}}catch(D){yn(o,o.return,D)}if(o===a){Qe=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,Qe=I;break e}Qe=o.return}}if(Tt=i,Ea(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(qh,t)}catch(D){}r=!0}return r}finally{Wt=n,fi.transition=e}}return!1}function n2(t,e,n){e=Dl(n,e),e=fy(t,e,1),t=wa(t,e,1),e=mr(),t!==null&&(Pc(t,1,e),Cr(t,e))}function yn(t,e,n){if(t.tag===3)n2(t,t,n);else for(;e!==null;){if(e.tag===3){n2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ba===null||!ba.has(r))){t=Dl(n,t),t=hy(e,t,1),e=wa(e,t,1),t=mr(),e!==null&&(Pc(e,1,t),Cr(e,t));break}}e=e.return}}function c4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mr(),t.pingedLanes|=t.suspendedLanes&n,qn===t&&(Kn&n)===n&&(Tn===4||Tn===3&&(Kn&130023424)===Kn&&500>xn()-Xg?so(t,0):Qg|=n),Cr(t,e)}function Oy(t,e){e===0&&(t.mode&1?(e=Nf,Nf<<=1,!(Nf&130023424)&&(Nf=4194304)):e=1);var n=mr();t=As(t,e),t!==null&&(Pc(t,e,n),Cr(t,n))}function f4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Oy(t,n)}function h4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),Oy(t,n)}var Iy;Iy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jr.current)Pr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pr=!1,Z3(t,e,n);Pr=!!(t.flags&131072)}else Pr=!1,ln&&e.flags&1048576&&D5(e,bh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eh(t,e),t=e.pendingProps;var i=Il(e,lr.current);kl(e,n),i=Hg(null,e,r,t,i,n);var s=Vg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Er(r)?(s=!0,yh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ug(e),i.updater=Yh,e.stateNode=i,i._reactInternals=e,N1(e,r,t,n),e=A1(null,e,r,!0,s,n)):(e.tag=0,ln&&s&&Ig(e),gr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=p4(r),t=ki(r,t),i){case 0:e=L1(null,e,r,t,n);break e;case 1:e=V0(null,e,r,t,n);break e;case 11:e=W0(null,e,r,t,n);break e;case 14:e=H0(null,e,r,ki(r.type,t),n);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ki(r,i),L1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ki(r,i),V0(t,e,r,i,n);case 3:e:{if(my(e),t===null)throw Error(De(387));r=e.pendingProps,s=e.memoizedState,i=s.element,q5(t,e),Sh(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Dl(Error(De(423)),e),e=G0(t,e,r,n,i);break e}else if(r!==i){i=Dl(Error(De(424)),e),e=G0(t,e,r,n,i);break e}else for(Wr=ya(e.stateNode.containerInfo.firstChild),Vr=e,ln=!0,ji=null,n=z5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tl(),r===i){e=Ps(t,e,n);break e}gr(t,e,r,n)}e=e.child}return e;case 5:return W5(e),t===null&&x1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,m1(r,i)?a=null:s!==null&&m1(r,s)&&(e.flags|=32),gy(t,e),gr(t,e,a,n),e.child;case 6:return t===null&&x1(e),null;case 13:return vy(t,e,n);case 4:return zg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rl(e,null,r,n):gr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ki(r,i),W0(t,e,r,i,n);case 7:return gr(t,e,e.pendingProps,n),e.child;case 8:return gr(t,e,e.pendingProps.children,n),e.child;case 12:return gr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,tn(xh,r._currentValue),r._currentValue=a,s!==null)if(Ii(s.value,a)){if(s.children===i.children&&!jr.current){e=Ps(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ns(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),_1(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(De(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),_1(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}gr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,kl(e,n),i=hi(i),r=r(i),e.flags|=1,gr(t,e,r,n),e.child;case 14:return r=e.type,i=ki(r,e.pendingProps),i=ki(r.type,i),H0(t,e,r,i,n);case 15:return dy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ki(r,i),eh(t,e),e.tag=1,Er(r)?(t=!0,yh(e)):t=!1,kl(e,n),cy(e,r,i),N1(e,r,i,n),A1(null,e,r,!0,t,n);case 19:return yy(t,e,n);case 22:return py(t,e,n)}throw Error(De(156,e.tag))};function Ty(t,e){return o5(t,e)}function d4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(t,e,n,r){return new d4(t,e,n,r)}function nm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function p4(t){if(typeof t=="function")return nm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xg)return 11;if(t===_g)return 14}return 2}function _a(t,e){var n=t.alternate;return n===null?(n=ci(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rh(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")nm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ul:return ao(n.children,i,s,e);case bg:a=8,i|=8;break;case Kp:return t=ci(12,n,e,i|2),t.elementType=Kp,t.lanes=s,t;case Jp:return t=ci(13,n,e,i),t.elementType=Jp,t.lanes=s,t;case Yp:return t=ci(19,n,e,i),t.elementType=Yp,t.lanes=s,t;case Wv:return Zh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $v:a=10;break e;case qv:a=9;break e;case xg:a=11;break e;case _g:a=14;break e;case ia:a=16,r=null;break e}throw Error(De(130,t==null?t:typeof t,""))}return e=ci(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ao(t,e,n,r){return t=ci(7,t,r,e),t.lanes=n,t}function Zh(t,e,n,r){return t=ci(22,t,r,e),t.elementType=Wv,t.lanes=n,t.stateNode={isHidden:!1},t}function wp(t,e,n){return t=ci(6,t,null,e),t.lanes=n,t}function bp(t,e,n){return e=ci(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function g4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rm(t,e,n,r,i,s,a,o,l){return t=new g4(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ci(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(s),t}function m4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ll,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ry(t){if(!t)return Na;t=t._reactInternals;e:{if(yo(t)!==t||t.tag!==1)throw Error(De(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(t.tag===1){var n=t.type;if(Er(n))return R5(t,n,e)}return e}function Fy(t,e,n,r,i,s,a,o,l){return t=rm(n,r,!0,t,i,s,a,o,l),t.context=Ry(null),n=t.current,r=mr(),i=xa(n),s=Ns(r,i),s.callback=e!=null?e:null,wa(n,s,i),t.current.lanes=i,Pc(t,i,r),Cr(t,r),t}function ed(t,e,n,r){var i=e.current,s=mr(),a=xa(i);return n=Ry(n),e.context===null?e.context=n:e.pendingContext=n,e=Ns(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wa(i,e,a),t!==null&&(Ci(t,i,a,s),Qf(t,i,a)),a}function Ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function r2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function im(t,e){r2(t,e),(t=t.alternate)&&r2(t,e)}function v4(){return null}var Dy=typeof reportError=="function"?reportError:function(t){console.error(t)};function sm(t){this._internalRoot=t}td.prototype.render=sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(De(409));ed(t,e,null,null)};td.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;po(function(){ed(null,t,null,null)}),e[Ls]=null}};function td(t){this._internalRoot=t}td.prototype.unstable_scheduleHydration=function(t){if(t){var e=p5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oa.length&&e!==0&&e<oa[n].priority;n++);oa.splice(n,0,t),n===0&&m5(t)}};function am(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function i2(){}function y4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Ch(a);s.call(c)}}var a=Fy(e,r,t,0,null,!1,!1,"",i2);return t._reactRootContainer=a,t[Ls]=a.current,hc(t.nodeType===8?t.parentNode:t),po(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=Ch(l);o.call(c)}}var l=rm(t,0,!1,null,null,!1,!1,"",i2);return t._reactRootContainer=l,t[Ls]=l.current,hc(t.nodeType===8?t.parentNode:t),po(function(){ed(e,l,n,r)}),l}function rd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Ch(a);o.call(l)}}ed(e,a,t,i)}else a=y4(n,e,t,i,r);return Ch(a)}h5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zu(e.pendingLanes);n!==0&&(kg(e,n|1),Cr(e,xn()),!(Tt&6)&&(Ml=xn()+500,Ea()))}break;case 13:po(function(){var r=As(t,1);if(r!==null){var i=mr();Ci(r,t,1,i)}}),im(t,1)}};Lg=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var n=mr();Ci(e,t,134217728,n)}im(t,134217728)}};d5=function(t){if(t.tag===13){var e=xa(t),n=As(t,e);if(n!==null){var r=mr();Ci(n,t,e,r)}im(t,e)}};p5=function(){return Wt};g5=function(t,e){var n=Wt;try{return Wt=t,e()}finally{Wt=n}};a1=function(t,e,n){switch(e){case"input":if(Zp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gh(r);if(!i)throw Error(De(90));Vv(r),Zp(r,i)}}}break;case"textarea":Kv(t,n);break;case"select":e=n.value,e!=null&&xl(t,!!n.multiple,e,!1)}};t5=Zg;n5=po;var w4={usingClientEntryPoint:!1,Events:[Ec,dl,Gh,Zv,e5,Zg]},Eu={findFiberByHostInstance:no,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},b4={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s5(t),t===null?null:t.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||v4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{qh=Rf.inject(b4),Xi=Rf}catch(t){}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w4;Kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!am(e))throw Error(De(200));return m4(t,e,null,n)};Kr.createRoot=function(t,e){if(!am(t))throw Error(De(299));var n=!1,r="",i=Dy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rm(t,1,!1,null,null,n,!1,r,i),t[Ls]=e.current,hc(t.nodeType===8?t.parentNode:t),new sm(e)};Kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(De(188)):(t=Object.keys(t).join(","),Error(De(268,t)));return t=s5(e),t=t===null?null:t.stateNode,t};Kr.flushSync=function(t){return po(t)};Kr.hydrate=function(t,e,n){if(!nd(e))throw Error(De(200));return rd(null,t,e,!0,n)};Kr.hydrateRoot=function(t,e,n){if(!am(t))throw Error(De(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=Dy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Fy(e,null,t,1,n!=null?n:null,i,!1,s,a),t[Ls]=e.current,hc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new td(e)};Kr.render=function(t,e,n){if(!nd(e))throw Error(De(200));return rd(null,t,e,!1,n)};Kr.unmountComponentAtNode=function(t){if(!nd(t))throw Error(De(40));return t._reactRootContainer?(po(function(){rd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ls]=null})}),!0):!1};Kr.unstable_batchedUpdates=Zg;Kr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nd(n))throw Error(De(200));if(t==null||t._reactInternals===void 0)throw Error(De(38));return rd(t,e,n,!1,r)};Kr.version="18.3.1-next-f1338f8080-20240426";function My(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(My)}catch(t){console.error(t)}}My(),Mv.exports=Kr;var x4=Mv.exports,s2=x4;Vp.createRoot=s2.createRoot,Vp.hydrateRoot=s2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(this,arguments)}var ha;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ha||(ha={}));const a2="popstate";function _4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return B1("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Uy(i)}return N4(e,n,null,t)}function jn(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function By(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function S4(){return Math.random().toString(36).substr(2,8)}function o2(t,e){return{usr:t.state,key:t.key,idx:e}}function B1(t,e,n,r){return n===void 0&&(n=null),xc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wl(e):e,{state:n,key:e&&e.key||r||S4()})}function Uy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function N4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ha.Pop,l=null,c=h();c==null&&(c=0,a.replaceState(xc({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function d(){o=ha.Pop;let k=h(),y=k==null?null:k-c;c=k,l&&l({action:o,location:S.location,delta:y})}function g(k,y){o=ha.Push;let b=B1(S.location,k,y);c=h()+1;let N=o2(b,c),I=S.createHref(b);try{a.pushState(N,"",I)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(I)}s&&l&&l({action:o,location:S.location,delta:1})}function m(k,y){o=ha.Replace;let b=B1(S.location,k,y);c=h();let N=o2(b,c),I=S.createHref(b);a.replaceState(N,"",I),s&&l&&l({action:o,location:S.location,delta:0})}function _(k){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof k=="string"?k:Uy(k);return b=b.replace(/ $/,"%20"),jn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let S={get action(){return o},get location(){return t(i,a)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(a2,d),l=k,()=>{i.removeEventListener(a2,d),l=null}},createHref(k){return e(i,k)},createURL:_,encodeLocation(k){let y=_(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:m,go(k){return a.go(k)}};return S}var l2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(l2||(l2={}));function k4(t,e,n){return n===void 0&&(n="/"),L4(t,e,n)}function L4(t,e,n,r){let i=typeof e=="string"?Wl(e):e,s=qy(i.pathname||"/",n);if(s==null)return null;let a=zy(t);A4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=B4(s);o=F4(a[l],c)}return o}function zy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(jn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=oo([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(jn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),zy(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:T4(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of $y(s.path))i(s,a,l)}),e}function $y(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=$y(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function A4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:R4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const P4=/^:[\w-]+$/,j4=3,E4=2,C4=1,O4=10,I4=-2,u2=t=>t==="*";function T4(t,e){let n=t.split("/"),r=n.length;return n.some(u2)&&(r+=I4),e&&(r+=E4),n.filter(i=>!u2(i)).reduce((i,s)=>i+(P4.test(s)?j4:s===""?C4:O4),r)}function R4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function F4(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=D4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),g=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:oo([s,d.pathname]),pathnameBase:q4(oo([s,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(s=oo([s,d.pathnameBase]))}return a}function D4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:g,isOptional:m}=h;if(g==="*"){let S=o[d]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=o[d];return m&&!_?c[g]=void 0:c[g]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function M4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),By(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function B4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return By(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Wl(t):t;return{pathname:n?n.startsWith("/")?n:z4(n,e):e,search:W4(r),hash:H4(i)}}function z4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wy(t,e){let n=$4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Wl(t):(i=xc({},t),jn(!i.pathname||!i.pathname.includes("?"),xp("?","pathname","search",i)),jn(!i.pathname||!i.pathname.includes("#"),xp("#","pathname","hash",i)),jn(!i.search||!i.search.includes("#"),xp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}o=d>=0?e[d]:"/"}let l=U4(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const oo=t=>t.join("/").replace(/\/\/+/g,"/"),q4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,H4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Vy=["post","put","patch","delete"];new Set(Vy);const G4=["get",...Vy];new Set(G4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}const om=je.createContext(null),K4=je.createContext(null),Oc=je.createContext(null),id=je.createContext(null),Ca=je.createContext({outlet:null,matches:[],isDataRoute:!1}),Gy=je.createContext(null);function Ic(){return je.useContext(id)!=null}function sd(){return Ic()||jn(!1),je.useContext(id).location}function Ky(t){je.useContext(Oc).static||je.useLayoutEffect(t)}function Tc(){let{isDataRoute:t}=je.useContext(Ca);return t?l_():J4()}function J4(){Ic()||jn(!1);let t=je.useContext(om),{basename:e,future:n,navigator:r}=je.useContext(Oc),{matches:i}=je.useContext(Ca),{pathname:s}=sd(),a=JSON.stringify(Wy(i,n.v7_relativeSplatPath)),o=je.useRef(!1);return Ky(()=>{o.current=!0}),je.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=Hy(c,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:oo([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,a,s,t])}function Y4(){let{matches:t}=je.useContext(Ca),e=t[t.length-1];return e?e.params:{}}function Q4(t,e){return X4(t,e)}function X4(t,e,n,r){Ic()||jn(!1);let{navigator:i}=je.useContext(Oc),{matches:s}=je.useContext(Ca),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=sd(),h;if(e){var d;let k=typeof e=="string"?Wl(e):e;l==="/"||(d=k.pathname)!=null&&d.startsWith(l)||jn(!1),h=k}else h=c;let g=h.pathname||"/",m=g;if(l!=="/"){let k=l.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=k4(t,{pathname:m}),S=r_(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:oo([l,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:oo([l,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return e&&S?je.createElement(id.Provider,{value:{location:_c({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ha.Pop}},S):S}function Z4(){let t=o_(),e=V4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return je.createElement(je.Fragment,null,je.createElement("h2",null,"Unexpected Application Error!"),je.createElement("h3",{style:{fontStyle:"italic"}},e),n?je.createElement("pre",{style:i},n):null,null)}const e_=je.createElement(Z4,null);class t_ extends je.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?je.createElement(Ca.Provider,{value:this.props.routeContext},je.createElement(Gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n_(t){let{routeContext:e,match:n,children:r}=t,i=je.useContext(om);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),je.createElement(Ca.Provider,{value:e},r)}function r_(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);h>=0||jn(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:g,errors:m}=n,_=d.route.loader&&g[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||_){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,d,g)=>{let m,_=!1,S=null,k=null;n&&(m=o&&d.route.id?o[d.route.id]:void 0,S=d.route.errorElement||e_,l&&(c<0&&g===0?(u_("route-fallback"),_=!0,k=null):c===g&&(_=!0,k=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,g+1)),b=()=>{let N;return m?N=S:_?N=k:d.route.Component?N=je.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=h,je.createElement(n_,{match:d,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:N})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?je.createElement(t_,{location:n.location,revalidation:n.revalidation,component:S,error:m,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var Jy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Jy||{}),Yy=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yy||{});function i_(t){let e=je.useContext(om);return e||jn(!1),e}function s_(t){let e=je.useContext(K4);return e||jn(!1),e}function a_(t){let e=je.useContext(Ca);return e||jn(!1),e}function Qy(t){let e=a_(),n=e.matches[e.matches.length-1];return n.route.id||jn(!1),n.route.id}function o_(){var t;let e=je.useContext(Gy),n=s_(),r=Qy();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function l_(){let{router:t}=i_(Jy.UseNavigateStable),e=Qy(Yy.UseNavigateStable),n=je.useRef(!1);return Ky(()=>{n.current=!0}),je.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_c({fromRouteId:e},s)))},[t,e])}const c2={};function u_(t,e,n){c2[t]||(c2[t]=!0)}function c_(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Zu(t){let{to:e,replace:n,state:r,relative:i}=t;Ic()||jn(!1);let{future:s,static:a}=je.useContext(Oc),{matches:o}=je.useContext(Ca),{pathname:l}=sd(),c=Tc(),h=Hy(e,Wy(o,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return je.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function Wi(t){jn(!1)}function f_(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ha.Pop,navigator:s,static:a=!1,future:o}=t;Ic()&&jn(!1);let l=e.replace(/^\/*/,"/"),c=je.useMemo(()=>({basename:l,navigator:s,static:a,future:_c({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Wl(r));let{pathname:h="/",search:d="",hash:g="",state:m=null,key:_="default"}=r,S=je.useMemo(()=>{let k=qy(h,l);return k==null?null:{location:{pathname:k,search:d,hash:g,state:m,key:_},navigationType:i}},[l,h,d,g,m,_,i]);return S==null?null:je.createElement(Oc.Provider,{value:c},je.createElement(id.Provider,{children:n,value:S}))}function h_(t){let{children:e,location:n}=t;return Q4(U1(e),n)}new Promise(()=>{});function U1(t,e){e===void 0&&(e=[]);let n=[];return je.Children.forEach(t,(r,i)=>{if(!je.isValidElement(r))return;let s=[...e,i];if(r.type===je.Fragment){n.push.apply(n,U1(r.props.children,s));return}r.type!==Wi&&jn(!1),!r.props.index||!r.props.children||jn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=U1(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const d_="6";try{window.__reactRouterVersion=d_}catch(t){}const p_="startTransition",f2=cx[p_];function g_(t){let{basename:e,children:n,future:r,window:i}=t,s=je.useRef();s.current==null&&(s.current=_4({window:i,v5Compat:!0}));let a=s.current,[o,l]=je.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=je.useCallback(d=>{c&&f2?f2(()=>l(d)):l(d)},[l,c]);return je.useLayoutEffect(()=>a.listen(h),[a,h]),je.useEffect(()=>c_(r),[r]),je.createElement(f_,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var h2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(h2||(h2={}));var d2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d2||(d2={}));const m_="modulepreload",v_=function(t){return"/"+t},p2={},ka=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=v_(l),l in p2)return;p2[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":m_,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((g,m)=>{d.addEventListener("load",g),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},y_=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=(...n)=>ka(()=>ie(void 0,null,function*(){const{default:r}=yield Promise.resolve().then(()=>Hl);return{default:r}}),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class lm extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class w_ extends lm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class g2 extends lm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class m2 extends lm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var z1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(z1||(z1={}));var b_=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{c(r.next(h))}catch(d){a(d)}}function l(h){try{c(r.throw(h))}catch(d){a(d)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class x_{constructor(e,{headers:n={},customFetch:r,region:i=z1.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=y_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return b_(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=n;let o={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob!="undefined"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(o["Content-Type"]="text/plain",h=a):typeof FormData!="undefined"&&a instanceof FormData?h=a:(o["Content-Type"]="application/json",h=JSON.stringify(a)));const d=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:h}).catch(S=>{throw new w_(S)}),g=d.headers.get("x-relay-error");if(g&&g==="true")throw new g2(d);if(!d.ok)throw new m2(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return m==="application/json"?_=yield d.json():m==="application/octet-stream"?_=yield d.blob():m==="text/event-stream"?_=d:m==="multipart/form-data"?_=yield d.formData():_=yield d.text(),{data:_,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof m2||i instanceof g2?i.context:void 0}}})}}var Ar={},um={},ad={},Rc={},od={},ld={},__=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},Bl=__();const S_=Bl.fetch,Xy=Bl.fetch.bind(Bl),Zy=Bl.Headers,N_=Bl.Request,k_=Bl.Response,Hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Zy,Request:N_,Response:k_,default:Xy,fetch:S_},Symbol.toStringTag,{value:"Module"})),L_=kv(Hl);var ud={};Object.defineProperty(ud,"__esModule",{value:!0});let A_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ud.default=A_;var ew=$n&&$n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ld,"__esModule",{value:!0});const P_=ew(L_),j_=ew(ud);let E_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch=="undefined"?this.fetch=P_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>ie(this,null,function*(){var a,o,l;let c=null,h=null,d=null,g=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=yield s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=y:h=JSON.parse(y))}const S=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),k=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");S&&k&&k.length>1&&(d=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,d=null,g=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const S=yield s.text();try{c=JSON.parse(S),Array.isArray(c)&&s.status===404&&(h=[],c=null,g=200,m="OK")}catch(k){s.status===404&&S===""?(g=204,m="No Content"):c={message:S}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,g=200,m="OK"),c&&this.shouldThrowOnError)throw new j_.default(c)}return{error:c,data:h,count:d,status:g,statusText:m}}));return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}returns(){return this}overrideTypes(){return this}};ld.default=E_;var C_=$n&&$n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(od,"__esModule",{value:!0});const O_=C_(ld);let I_=class extends O_.default{select(e){let n=!1;const r=(e!=null?e:"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i=="undefined"?"offset":`${i}.offset`,a=typeof i=="undefined"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};od.default=I_;var T_=$n&&$n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rc,"__esModule",{value:!0});const R_=T_(od);let F_=class extends R_.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Rc.default=F_;var D_=$n&&$n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ad,"__esModule",{value:!0});const Cu=D_(Rc);let M_=class{constructor(e,{headers:n={},schema:r,fetch:i}){this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const a=(e!=null?e:"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Cu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Cu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(l.length>0){const c=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new Cu.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Cu.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Cu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ad.default=M_;var cd={},fd={};Object.defineProperty(fd,"__esModule",{value:!0});fd.version=void 0;fd.version="0.0.0-automated";Object.defineProperty(cd,"__esModule",{value:!0});cd.DEFAULT_HEADERS=void 0;const B_=fd;cd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${B_.version}`};var tw=$n&&$n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(um,"__esModule",{value:!0});const U_=tw(ad),z_=tw(Rc),$_=cd;let q_=class nw{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},$_.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new U_.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new nw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,d])=>d!==void 0).map(([h,d])=>[h,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([h,d])=>{o.searchParams.append(h,d)})):(a="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new z_.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};um.default=q_;var Vl=$n&&$n.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.PostgrestError=Ar.PostgrestBuilder=Ar.PostgrestTransformBuilder=Ar.PostgrestFilterBuilder=Ar.PostgrestQueryBuilder=Ar.PostgrestClient=void 0;const rw=Vl(um);Ar.PostgrestClient=rw.default;const iw=Vl(ad);Ar.PostgrestQueryBuilder=iw.default;const sw=Vl(Rc);Ar.PostgrestFilterBuilder=sw.default;const aw=Vl(od);Ar.PostgrestTransformBuilder=aw.default;const ow=Vl(ld);Ar.PostgrestBuilder=ow.default;const lw=Vl(ud);Ar.PostgrestError=lw.default;var W_=Ar.default={PostgrestClient:rw.default,PostgrestQueryBuilder:iw.default,PostgrestFilterBuilder:sw.default,PostgrestTransformBuilder:aw.default,PostgrestBuilder:ow.default,PostgrestError:lw.default};const{PostgrestClient:H_,PostgrestQueryBuilder:fA,PostgrestFilterBuilder:hA,PostgrestTransformBuilder:dA,PostgrestBuilder:pA,PostgrestError:gA}=W_;function V_(){if(typeof WebSocket!="undefined")return WebSocket;if(typeof global.WebSocket!="undefined")return global.WebSocket;if(typeof window.WebSocket!="undefined")return window.WebSocket;if(typeof self.WebSocket!="undefined")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const G_=V_(),K_="2.11.15",J_=`realtime-js/${K_}`,Y_="1.0.0",uw=1e4,Q_=1e3;var ec;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ec||(ec={}));var sr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(sr||(sr={}));var Pi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pi||(Pi={}));var $1;(function(t){t.websocket="websocket"})($1||($1={}));var eo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(eo||(eo={}));class X_{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2);let a=this.HEADER_LENGTH+2;const o=r.decode(e.slice(a,a+i));a=a+i;const l=r.decode(e.slice(a,a+s));a=a+s;const c=JSON.parse(r.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class cw{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var en;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(en||(en={}));const v2=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((s,a)=>(s[a]=Z_(a,t,e,i),s),{})},Z_=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?fw(s,a):q1(a)},fw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return rS(e,n)}switch(t){case en.bool:return eS(e);case en.float4:case en.float8:case en.int2:case en.int4:case en.int8:case en.numeric:case en.oid:return tS(e);case en.json:case en.jsonb:return nS(e);case en.timestamp:return iS(e);case en.abstime:case en.date:case en.daterange:case en.int4range:case en.int8range:case en.money:case en.reltime:case en.text:case en.time:case en.timestamptz:case en.timetz:case en.tsrange:case en.tstzrange:return q1(e);default:return q1(e)}},q1=t=>t,eS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rS=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch(o){s=a?a.split(","):[]}return s.map(o=>fw(e,o))}return t},iS=t=>typeof t=="string"?t.replace(" ","T"):t,hw=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class _p{constructor(e,n,r={},i=uw){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var y2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(y2||(y2={}));class tc{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=tc.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=tc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(c,h)=>{a[c]||(l[c]=h)}),this.map(a,(c,h)=>{const d=s[c];if(d){const g=h.map(k=>k.presence_ref),m=d.map(k=>k.presence_ref),_=h.filter(k=>m.indexOf(k.presence_ref)<0),S=d.filter(k=>g.indexOf(k.presence_ref)<0);_.length>0&&(o[c]=_),S.length>0&&(l[c]=S)}else o[c]=h}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const h=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),h.length>0){const d=e[o].map(m=>m.presence_ref),g=h.filter(m=>d.indexOf(m.presence_ref)<0);e[o].unshift(...g)}r(o,h,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const h=l.map(d=>d.presence_ref);c=c.filter(d=>h.indexOf(d.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(w2||(w2={}));var b2;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(b2||(b2={}));var bs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(bs||(bs={}));class cm{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new _p(this,Pi.join,this.params,this.timeout),this.rejoinTimer=new cw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new tc(this),this.broadcastEndpointURL=hw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(h=>e==null?void 0:e(bs.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(bs.CLOSED));const l={},c={broadcast:s,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",d=>ie(this,[d],function*({postgres_changes:h}){var g;if(this.socket.setAuth(),h===void 0){e==null||e(bs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,_=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,S=[];for(let k=0;k<_;k++){const y=m[k],{filter:{event:b,schema:N,table:I,filter:D}}=y,V=h&&h[k];if(V&&V.event===b&&V.schema===N&&V.table===I&&V.filter===D)S.push(Object.assign(Object.assign({},y),{id:V.id}));else{this.unsubscribe(),this.state=sr.errored,e==null||e(bs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(bs.SUBSCRIBED);return}})).receive("error",h=>{this.state=sr.errored,e==null||e(bs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(bs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return ie(this,arguments,function*(e,n={}){return yield this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)})}untrack(){return ie(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,n,r){return this._on(e,n,r)}send(r){return ie(this,arguments,function*(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const h=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(s=h.body)===null||s===void 0?void 0:s.cancel(),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new _p(this,Pi.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,n,r){return ie(this,null,function*(){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=yield this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a})}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new _p(this,e,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:h}=Pi;if(r&&[o,l,c,h].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var _,S,k;return((_=m.filter)===null||_===void 0?void 0:_.event)==="*"||((k=(S=m.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(m=>m.callback(g,r)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var _,S,k,y,b,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const I=m.id,D=(_=m.filter)===null||_===void 0?void 0:_.event;return I&&((S=n.ids)===null||S===void 0?void 0:S.includes(I))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const I=(b=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return I==="*"||I===((N=n==null?void 0:n.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof g=="object"&&"ids"in g){const _=g.data,{schema:S,table:k,commit_timestamp:y,type:b,errors:N}=_;g=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:y,eventType:b,new:{},old:{},errors:N}),this._getPayloadRecords(_))}m.callback(g,r)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&cm.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pi.close,{},e)}_onError(e){this._on(Pi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=v2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=v2(e.columns,e.old_record)),n}}const x2=()=>{},sS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aS{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uw,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=x2,this.ref=0,this.logger=x2,this.conn=null,this.sendBuffer=[],this.serializer=new X_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch=="undefined"?a=(...o)=>ka(()=>ie(this,null,function*(){const{default:l}=yield Promise.resolve().then(()=>Hl);return{default:l}}),void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${$1.websocket}`,this.httpEndpoint=hw(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,a)=>a(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new cw(()=>ie(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=G_),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Y_}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(e){return ie(this,null,function*(){const n=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return ie(this,null,function*(){const e=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ec.connecting:return eo.Connecting;case ec.open:return eo.Open;case ec.closing:return eo.Closing;default:return eo.Closed}}isConnected(){return this.connectionState()===eo.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new cm(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(e=null){return ie(this,null,function*(){let n=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:J_};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Pi.access_token,{access_token:n})}))})}sendHeartbeat(){return ie(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Q_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:i,payload:s,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(r)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([sS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class fm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Bn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class oS extends fm{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class W1 extends fm{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var lS=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{c(r.next(h))}catch(d){a(d)}}function l(h){try{c(r.throw(h))}catch(d){a(d)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const dw=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=(...n)=>ka(()=>ie(void 0,null,function*(){const{default:r}=yield Promise.resolve().then(()=>Hl);return{default:r}}),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},uS=()=>lS(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield ka(()=>Promise.resolve().then(()=>Hl),void 0)).Response:Response}),H1=t=>{if(Array.isArray(t))return t.map(n=>H1(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=H1(r)}),e};var wo=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{c(r.next(h))}catch(d){a(d)}}function l(h){try{c(r.throw(h))}catch(d){a(d)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const Sp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cS=(t,e,n)=>wo(void 0,void 0,void 0,function*(){const r=yield uS();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new oS(Sp(i),t.status||500))}).catch(i=>{e(new W1(Sp(i),i))}):e(new W1(Sp(t),t))}),fS=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Fc(t,e,n,r,i,s){return wo(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,fS(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>cS(l,o,r))})})}function Oh(t,e,n,r){return wo(this,void 0,void 0,function*(){return Fc(t,"GET",e,n,r)})}function aa(t,e,n,r,i){return wo(this,void 0,void 0,function*(){return Fc(t,"POST",e,r,i,n)})}function hS(t,e,n,r,i){return wo(this,void 0,void 0,function*(){return Fc(t,"PUT",e,r,i,n)})}function dS(t,e,n,r){return wo(this,void 0,void 0,function*(){return Fc(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function pw(t,e,n,r,i){return wo(this,void 0,void 0,function*(){return Fc(t,"DELETE",e,r,i,n)})}var kr=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{c(r.next(h))}catch(d){a(d)}}function l(h){try{c(r.throw(h))}catch(d){a(d)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const pS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gS{constructor(e,n={},r,i){this.url=e,this.headers=n,this.bucketId=r,this.fetch=dw(i)}uploadOrUpdate(e,n,r,i){return kr(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},_2),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob!="undefined"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(s=r,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),h=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:e,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),g=yield d.json();return d.ok?{data:{path:c,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(s){if(Bn(s))return{data:null,error:s};throw s}})}upload(e,n,r){return kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return kr(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:_2.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob!="undefined"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType);const d=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:h}),g=yield d.json();return d.ok?{data:{path:s,fullPath:g.Key},error:null}:{data:null,error:g}}catch(l){if(Bn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return kr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield aa(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new fm("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}update(e,n,r){return kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return kr(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}copy(e,n,r){return kr(this,void 0,void 0,function*(){try{return{data:{path:(yield aa(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return kr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield aa(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return kr(this,void 0,void 0,function*(){try{const i=yield aa(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}download(e,n){return kr(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)!="undefined"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Oh(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Bn(o))return{data:null,error:o};throw o}})}info(e){return kr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Oh(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:H1(r),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}exists(e){return kr(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield dS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Bn(r)&&r instanceof W1){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)!="undefined"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return kr(this,void 0,void 0,function*(){try{return{data:yield pw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}list(e,n,r){return kr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pS),n),{prefix:e||""});return{data:yield aa(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Bn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const mS="2.7.1",vS={"X-Client-Info":`storage-js/${mS}`};var Vo=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{c(r.next(h))}catch(d){a(d)}}function l(h){try{c(r.throw(h))}catch(d){a(d)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class yS{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},vS),n),this.fetch=dw(r)}listBuckets(){return Vo(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Bn(e))return{data:null,error:e};throw e}})}getBucket(e){return Vo(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Vo(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Vo(this,void 0,void 0,function*(){try{return{data:yield hS(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Bn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Vo(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Vo(this,void 0,void 0,function*(){try{return{data:yield pw(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Bn(n))return{data:null,error:n};throw n}})}}class wS extends yS{constructor(e,n={},r){super(e,n,r)}from(e){return new gS(this.url,this.headers,e,this.fetch)}}const bS="2.52.1";let qu="";typeof Deno!="undefined"?qu="deno":typeof document!="undefined"?qu="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?qu="react-native":qu="node";const xS={"X-Client-Info":`supabase-js-${qu}/${bS}`},_S={headers:xS},SS={schema:"public"},NS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kS={};var LS=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{c(r.next(h))}catch(d){a(d)}}function l(h){try{c(r.throw(h))}catch(d){a(d)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const AS=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=Xy:e=fetch,(...n)=>e(...n)},PS=()=>typeof Headers=="undefined"?Zy:Headers,jS=(t,e,n)=>{const r=AS(n),i=PS();return(s,a)=>LS(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},a),{headers:c}))})};var ES=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{c(r.next(h))}catch(d){a(d)}}function l(h){try{c(r.throw(h))}catch(d){a(d)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};function CS(t){return t.endsWith("/")?t:t+"/"}function OS(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:h,global:d}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},h),a),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ES(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const gw="2.71.1",il=30*1e3,V1=3,Np=V1*il,IS="http://localhost:9999",TS="supabase.auth.token",RS={"X-Client-Info":`gotrue-js/${gw}`},G1="X-Supabase-Api-Version",mw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DS=10*60*1e3;class hm extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function bt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class MS extends hm{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function BS(t){return bt(t)&&t.name==="AuthApiError"}class vw extends hm{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Oa extends hm{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class ra extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function US(t){return bt(t)&&t.name==="AuthSessionMissingError"}class Ff extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Df extends Oa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Mf extends Oa{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zS(t){return bt(t)&&t.name==="AuthImplicitGrantRedirectError"}class S2 extends Oa{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class K1 extends Oa{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function kp(t){return bt(t)&&t.name==="AuthRetryableFetchError"}class N2 extends Oa{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class J1 extends Oa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),k2=` 	
\r=`.split(""),$S=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<k2.length;e+=1)t[k2[e].charCodeAt(0)]=-2;for(let e=0;e<Ih.length;e+=1)t[Ih[e].charCodeAt(0)]=e;return t})();function L2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ih[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Ih[r]),e.queuedBits-=6}}function yw(t,e,n){const r=$S[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function A2(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{HS(a,r,n)};for(let a=0;a<t.length;a+=1)yw(t.charCodeAt(a),i,s);return e.join("")}function qS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function WS(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}qS(r,e)}}function HS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function VS(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)yw(t.charCodeAt(i),n,r);return new Uint8Array(e)}function GS(t){const e=[];return WS(t,n=>e.push(n)),new Uint8Array(e)}function KS(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>L2(i,n,r)),L2(null,n,r),e.join("")}function JS(t){return Math.round(Date.now()/1e3)+t}function YS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ni=()=>typeof window!="undefined"&&typeof document!="undefined",Ga={tested:!1,writable:!1},ww=()=>{if(!Ni())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Ga.tested)return Ga.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ga.tested=!0,Ga.writable=!0}catch(e){Ga.tested=!0,Ga.writable=!1}return Ga.writable};function QS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch(r){}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const bw=t=>{let e;return t?e=t:typeof fetch=="undefined"?e=(...n)=>ka(()=>ie(void 0,null,function*(){const{default:r}=yield Promise.resolve().then(()=>Hl);return{default:r}}),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},XS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",sl=(t,e,n)=>ie(void 0,null,function*(){yield t.setItem(e,JSON.stringify(n))}),Ka=(t,e)=>ie(void 0,null,function*(){const n=yield t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}}),Zs=(t,e)=>ie(void 0,null,function*(){yield t.removeItem(e)});class hd{constructor(){this.promise=new hd.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}hd.promiseConstructor=Promise;function Lp(t){const e=t.split(".");if(e.length!==3)throw new J1("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!FS.test(e[r]))throw new J1("JWT not in base64url format");return{header:JSON.parse(A2(e[0])),payload:JSON.parse(A2(e[1])),signature:VS(e[2]),raw:{header:e[0],payload:e[1]}}}function ZS(t){return ie(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),t)})})}function eN(t,e){return new Promise((r,i)=>{ie(this,null,function*(){for(let s=0;s<1/0;s++)try{const a=yield t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})})}function tN(t){return("0"+t.toString(16)).substr(-2)}function nN(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,tN).join("")}function rN(t){return ie(this,null,function*(){const n=new TextEncoder().encode(t),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})}function iN(t){return ie(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=yield rN(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Go(t,e,n=!1){return ie(this,null,function*(){const r=nN();let i=r;n&&(i+="/PASSWORD_RECOVERY"),yield sl(t,`${e}-code-verifier`,i);const s=yield iN(r);return[s,r===s?"plain":"s256"]})}const sN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aN(t){const e=t.headers.get(G1);if(!e||!e.match(sN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(n){return null}}function oN(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ko(t){if(!uN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ap(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P2(t){return JSON.parse(JSON.stringify(t))}var cN=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Qa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fN=[502,503,504];function j2(t){return ie(this,null,function*(){var e;if(!XS(t))throw new K1(Qa(t),0);if(fN.includes(t.status))throw new K1(Qa(t),t.status);let n;try{n=yield t.json()}catch(s){throw new vw(Qa(s),s)}let r;const i=aN(t);if(i&&i.getTime()>=mw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new N2(Qa(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ra}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new N2(Qa(n),t.status,n.weak_password.reasons);throw new MS(Qa(n),t.status||500,r)})}const hN=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function St(t,e,n,r){return ie(this,null,function*(){var i;const s=Object.assign({},r==null?void 0:r.headers);s[G1]||(s[G1]=mw["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=yield dN(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}})}function dN(t,e,n,r,i,s){return ie(this,null,function*(){const a=hN(e,r,i,s);let o;try{o=yield t(n,Object.assign({},a))}catch(l){throw console.error(l),new K1(Qa(l),0)}if(o.ok||(yield j2(o)),r!=null&&r.noResolveJson)return o;try{return yield o.json()}catch(l){yield j2(l)}})}function ys(t){var e;let n=null;vN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=JS(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function E2(t){const e=ys(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ua(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function pN(t){return{data:t,error:null}}function gN(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=cN(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function mN(t){return t}function vN(t){return t.access_token&&t.refresh_token&&t.expires_in}const Pp=["global","local","others"];var yN=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};class wN{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=bw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return ie(this,arguments,function*(e,n=Pp[0]){if(Pp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pp.join(", ")}`);try{return yield St(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(bt(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return ie(this,arguments,function*(e,n={}){try{return yield St(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ua})}catch(i){if(bt(i))return{data:{user:null},error:i};throw i}})}generateLink(e){return ie(this,null,function*(){try{const{options:n}=e,r=yN(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),yield St(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:gN,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(bt(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(e){return ie(this,null,function*(){try{return yield St(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ua})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}})}listUsers(e){return ie(this,null,function*(){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},h=yield St(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:mN});if(h.error)throw h.error;const d=yield h.json(),g=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(_=>{const S=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(_.split(";")[1].split("=")[1]);c[`${k}Page`]=S}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(bt(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return ie(this,null,function*(){Ko(e);try{return yield St(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ua})}catch(n){if(bt(n))return{data:{user:null},error:n};throw n}})}updateUserById(e,n){return ie(this,null,function*(){Ko(e);try{return yield St(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:ua})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,n=!1){return ie(this,null,function*(){Ko(e);try{return yield St(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:ua})}catch(r){if(bt(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return ie(this,null,function*(){Ko(e.userId);try{const{data:n,error:r}=yield St(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}_deleteFactor(e){return ie(this,null,function*(){Ko(e.userId),Ko(e.id);try{return{data:yield St(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}}function C2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function bN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(t){typeof self!="undefined"&&(self.globalThis=self)}}const Jo={debug:!!(globalThis&&ww()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xN extends xw{}function _N(t,e,n){return ie(this,null,function*(){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>ie(this,null,function*(){if(i){Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return yield n()}finally{Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Jo.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}bN();const SN={url:IS,storageKey:TS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function O2(t,e,n){return ie(this,null,function*(){return yield n()})}const Yo={};class Sc{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Sc.nextInstanceID,Sc.nextInstanceID+=1,this.instanceID>0&&Ni()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},SN),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new wN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=bw(i.fetch),this.lock=i.lock||O2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ni()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_N:this.lock=O2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ww()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=C2(this.memoryStorage)),Ni()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",s=>ie(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}get jwks(){var e,n;return(n=(e=Yo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Yo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Yo[this.storageKey]=Object.assign(Object.assign({},Yo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${gw}) ${new Date().toISOString()}`,...e),this}initialize(){return ie(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=ie(this,null,function*(){return yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return ie(this,null,function*(){var e;try{const n=QS(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":(yield this._isPKCECallback(n))&&(r="pkce"),Ni()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=yield this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),zS(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),yield this._saveSession(a),setTimeout(()=>ie(this,null,function*(){o==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return bt(n)?{error:n}:{error:new vw("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return ie(this,null,function*(){var n,r,i;try{const s=yield St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ys}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(bt(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(e){return ie(this,null,function*(){var n,r,i;try{let s;if("email"in e){const{email:h,password:d,options:g}=e;let m=null,_=null;this.flowType==="pkce"&&([m,_]=yield Go(this.storage,this.storageKey)),s=yield St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:d,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:_},xform:ys})}else if("phone"in e){const{phone:h,password:d,options:g}=e;s=yield St(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:ys})}else throw new Df("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(bt(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(e){return ie(this,null,function*(){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=yield St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:E2})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=yield St(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:E2})}else throw new Df("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ff}:(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(e){return ie(this,null,function*(){var n,r,i,s;return yield this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(e){return ie(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>ie(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return ie(this,null,function*(){const{chain:n}=e;if(n==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)})}signInWithSolana(e){return ie(this,null,function*(){var n,r,i,s,a,o,l,c,h,d,g,m;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:k,wallet:y,statement:b,options:N}=e;let I;if(Ni())if(typeof y=="object")I=y;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))I=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(N!=null&&N.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=y}const D=new URL((n=N==null?void 0:N.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const V=yield I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N==null?void 0:N.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),b?{statement:b}:null));let $;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")$=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)$=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)_=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),S=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${D.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=N==null?void 0:N.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=N==null?void 0:N.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((a=N==null?void 0:N.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((o=N==null?void 0:N.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((l=N==null?void 0:N.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((c=N==null?void 0:N.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((d=(h=N==null?void 0:N.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...N.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const V=yield I.signMessage(new TextEncoder().encode(_),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=V}}try{const{data:k,error:y}=yield St(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:KS(S)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ys});if(y)throw y;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Ff}:(k.session&&(yield this._saveSession(k.session),yield this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:y})}catch(k){if(bt(k))return{data:{user:null,session:null},error:k};throw k}})}_exchangeCodeForSession(e){return ie(this,null,function*(){const n=yield Ka(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n!=null?n:"").split("/");try{const{data:s,error:a}=yield St(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ys});if(yield Zs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Ff}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i!=null?i:null}),error:a})}catch(s){if(bt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(e){return ie(this,null,function*(){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=yield St(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ys}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ff}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOtp(e){return ie(this,null,function*(){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=yield Go(this.storage,this.storageKey));const{error:d}=yield St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:h}=yield St(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Df("You must provide either an email or phone number.")}catch(o){if(bt(o))return{data:{user:null,session:null},error:o};throw o}})}verifyOtp(e){return ie(this,null,function*(){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=yield St(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:ys});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(bt(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(e){return ie(this,null,function*(){var n,r,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield Go(this.storage,this.storageKey)),yield St(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:pN})}catch(s){if(bt(s))return{data:null,error:s};throw s}})}reauthenticate(){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return ie(this,null,function*(){try{return yield this._useSession(e=>ie(this,null,function*(){const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ra;const{error:i}=yield St(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}}))}catch(e){if(bt(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return ie(this,null,function*(){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=yield St(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=yield St(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Df("You must provide either an email or phone number and a type")}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}})}getSession(){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return this._useSession(n=>ie(this,null,function*(){return n}))}))})}_acquireLock(e,n){return ie(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=ie(this,null,function*(){return yield r,yield n()});return this.pendingInLock.push(ie(this,null,function*(){try{yield i}catch(s){}})),i}return yield this.lock(`lock:${this.storageKey}`,e,()=>ie(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push(ie(this,null,function*(){try{yield r}catch(i){}})),yield r;this.pendingInLock.length;){const i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return ie(this,null,function*(){this._debug("#_useSession","begin");try{const n=yield this.__loadSession();return yield e(n)}finally{this._debug("#_useSession","end")}})}__loadSession(){return ie(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=yield Ka(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Np:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=yield Ka(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Ap()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,h)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,h))})}return{data:{session:e},error:null}}const{session:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return ie(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return ie(this,null,function*(){try{return e?yield St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ua}):yield this._useSession(n=>ie(this,null,function*(){var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ra}:yield St(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ua})}))}catch(n){if(bt(n))return US(n)&&(yield this._removeSession(),yield Zs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}})}updateUser(r){return ie(this,arguments,function*(e,n={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._updateUser(e,n)}))})}_updateUser(r){return ie(this,arguments,function*(e,n={}){try{return yield this._useSession(i=>ie(this,null,function*(){const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new ra;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=yield Go(this.storage,this.storageKey));const{data:h,error:d}=yield St(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ua});if(d)throw d;return o.user=h.user,yield this._saveSession(o),yield this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}))}catch(i){if(bt(i))return{data:{user:null},error:i};throw i}})}setSession(e){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return ie(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ra;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Lp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{session:o,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=yield this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(bt(n))return{data:{session:null,user:null},error:n};throw n}})}refreshSession(e){return ie(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return ie(this,null,function*(){try{return yield this._useSession(n=>ie(this,null,function*(){var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ra;const{session:i,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(n){if(bt(n))return{data:{user:null,session:null},error:n};throw n}})}_getSessionFromURL(e,n){return ie(this,null,function*(){try{if(!Ni())throw new Mf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Mf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new S2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Mf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new S2("No code detected.");const{data:b,error:N}=yield this._exchangeCodeForSession(e.code);if(N)throw N;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new Mf("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(o);let g=h+d;l&&(g=parseInt(l));const m=g-h;m*1e3<=il&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const _=g-d;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,g,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,g,h);const{data:S,error:k}=yield this._getUser(s);if(k)throw k;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:g,refresh_token:a,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(bt(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return ie(this,null,function*(){const n=yield Ka(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)})}signOut(){return ie(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return ie(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(n=>ie(this,null,function*(){var r;const{data:i,error:s}=n;if(s)return{error:s};const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=yield this.admin.signOut(a,e);if(o&&!(BS(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(yield this._removeSession(),yield Zs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const n=YS(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),ie(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){this._emitInitialSession(n)}))}),{data:{subscription:r}}}_emitInitialSession(e){return ie(this,null,function*(){return yield this._useSession(n=>ie(this,null,function*(){var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;yield(r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}}))})}resetPasswordForEmail(r){return ie(this,arguments,function*(e,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield Go(this.storage,this.storageKey,!0));try{return yield St(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(bt(a))return{data:null,error:a};throw a}})}getUserIdentities(){return ie(this,null,function*(){var e;try{const{data:n,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}linkIdentity(e){return ie(this,null,function*(){var n;try{const{data:r,error:i}=yield this._useSession(s=>ie(this,null,function*(){var a,o,l,c,h;const{data:d,error:g}=s;if(g)throw g;const m=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield St(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})}));if(i)throw i;return Ni()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(bt(r))return{data:{provider:e.provider,url:null},error:r};throw r}})}unlinkIdentity(e){return ie(this,null,function*(){try{return yield this._useSession(n=>ie(this,null,function*(){var r,i;const{data:s,error:a}=n;if(a)throw a;return yield St(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})}))}catch(n){if(bt(n))return{data:null,error:n};throw n}})}_refreshAccessToken(e){return ie(this,null,function*(){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return yield eN(i=>ie(this,null,function*(){return i>0&&(yield ZS(200*Math.pow(2,i-1))),this._debug(n,"refreshing attempt",i),yield St(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ys})}),(i,s)=>{const a=200*Math.pow(2,i);return s&&kp(s)&&Date.now()+a-r<il})}catch(r){if(this._debug(n,"error",r),bt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,n){return ie(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ni()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){return ie(this,null,function*(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=yield Ka(this.storage,this.storageKey);if(i&&this.userStorage){let a=yield Ka(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},yield sl(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Ap()}else if(i&&!i.user&&!i.user){const a=yield Ka(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,yield Zs(this.storage,this.storageKey+"-user"),yield sl(this.storage,this.storageKey,i)):i.user=Ap()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Np;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Np}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),kp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=yield this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(e){return ie(this,null,function*(){var n,r;if(!e)throw new ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new hd;const{data:s,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new ra;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),bt(s)){const a={session:null,error:s};return kp(s)||(yield this._removeSession()),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(e,n,r=!0){return ie(this,null,function*(){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(o=>ie(this,null,function*(){try{yield o.callback(e,n)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(e){return ie(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&(yield sl(this.userStorage,this.storageKey+"-user",{user:n.user}));const i=Object.assign({},n);delete i.user;const s=P2(i);yield sl(this.storage,this.storageKey,s)}else{const i=P2(n);yield sl(this.storage,this.storageKey,i)}})}_removeSession(){return ie(this,null,function*(){this._debug("#_removeSession()"),yield Zs(this.storage,this.storageKey),yield Zs(this.storage,this.storageKey+"-code-verifier"),yield Zs(this.storage,this.storageKey+"-user"),this.userStorage&&(yield Zs(this.userStorage,this.storageKey+"-user")),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ni()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}_startAutoRefresh(){return ie(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),il);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>ie(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return ie(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return ie(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return ie(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return ie(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>ie(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(n=>ie(this,null,function*(){const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/il);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${il}ms, refresh threshold is ${V1} ticks`),i<=V1&&(yield this._callRefreshToken(r.refresh_token))}))}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof xw)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return ie(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Ni()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>ie(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return ie(this,null,function*(){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>ie(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,n,r){return ie(this,null,function*(){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=yield Go(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`})}_unenroll(e){return ie(this,null,function*(){try{return yield this._useSession(n=>ie(this,null,function*(){var r;const{data:i,error:s}=n;return s?{data:null,error:s}:yield St(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})}))}catch(n){if(bt(n))return{data:null,error:n};throw n}})}_enroll(e){return ie(this,null,function*(){try{return yield this._useSession(n=>ie(this,null,function*(){var r,i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=yield St(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(n){if(bt(n))return{data:null,error:n};throw n}})}_verify(e){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){try{return yield this._useSession(n=>ie(this,null,function*(){var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:a,error:o}=yield St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})}))}catch(n){if(bt(n))return{data:null,error:n};throw n}}))})}_challenge(e){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){try{return yield this._useSession(n=>ie(this,null,function*(){var r;const{data:i,error:s}=n;return s?{data:null,error:s}:yield St(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})}))}catch(n){if(bt(n))return{data:null,error:n};throw n}}))})}_challengeAndVerify(e){return ie(this,null,function*(){const{data:n,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})})}_listFactors(){return ie(this,null,function*(){const{data:{user:e},error:n}=yield this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],i=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return ie(this,null,function*(){return this._acquireLock(-1,()=>ie(this,null,function*(){return yield this._useSession(e=>ie(this,null,function*(){var n,r;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Lp(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const h=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}))})}fetchJwk(r){return ie(this,arguments,function*(e,n={keys:[]}){let i=n.keys.find(l=>l.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+DS>s)return i;const{data:a,error:o}=yield St(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(l=>l.kid===e),!i)?null:i})}getClaims(r){return ie(this,arguments,function*(e,n={}){try{let i=e;if(!i){const{data:_,error:S}=yield this.getSession();if(S||!_.session)return{data:null,error:S};i=_.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Lp(i);n!=null&&n.allowExpired||oN(a.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:yield this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:_}=yield this.getUser(i);if(_)throw _;return{data:{claims:a,header:s,signature:o},error:null}}const d=lN(s.alg),g=yield crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,g,o,GS(`${l}.${c}`))))throw new J1("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(i){if(bt(i))return{data:null,error:i};throw i}})}}Sc.nextInstanceID=0;const NN=Sc;class kN extends NN{constructor(e){super(e)}}var LN=function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{c(r.next(h))}catch(d){a(d)}}function l(h){try{c(r.throw(h))}catch(d){a(d)}}function c(h){h.done?s(h.value):i(h.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};class AN{constructor(e,n,r){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const o=CS(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:SS,realtime:kS,auth:Object.assign(Object.assign({},NS),{storageKey:c}),global:_S},d=OS(r!=null?r:{},h);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=jS(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new H_(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new x_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new wS(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return LN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:a,lock:o,debug:l},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kN({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:o,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new aS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const PN=(t,e,n)=>new AN(t,e,n);function jN(){if(typeof window!="undefined"||typeof process=="undefined"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}jN()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EN="https://your-project.supabase.co",CN="your-anon-key",Ou=PN(EN,CN,{auth:{persistSession:!0,autoRefreshToken:!0},realtime:{params:{eventsPerSecond:10}}}),Iu={USERS:"users",REPORTS:"reports",INVOLVED_PERSONS:"involved_persons",PHOTOS:"photos",AUDIO_NOTES:"audio_notes",REPORT_ACTIVITIES:"report_activities"};function Bf(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _w={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function a(c,h){if(!i[c]){if(!r[c]){var d=typeof Bf=="function"&&Bf;if(!h&&d)return d(c,!0);if(o)return o(c,!0);var g=new Error("Cannot find module '"+c+"'");throw g.code="MODULE_NOT_FOUND",g}var m=i[c]={exports:{}};r[c][0].call(m.exports,function(_){var S=r[c][1][_];return a(S||_)},m,m.exports,n,r,i,s)}return i[c].exports}for(var o=typeof Bf=="function"&&Bf,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(n,r,i){(function(s){var a=s.MutationObserver||s.WebKitMutationObserver,o;if(a){var l=0,c=new a(_),h=s.document.createTextNode("");c.observe(h,{characterData:!0}),o=function(){h.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel!="undefined"){var d=new s.MessageChannel;d.port1.onmessage=_,o=function(){d.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var k=s.document.createElement("script");k.onreadystatechange=function(){_(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},s.document.documentElement.appendChild(k)}:o=function(){setTimeout(_,0)};var g,m=[];function _(){g=!0;for(var k,y,b=m.length;b;){for(y=m,m=[],k=-1;++k<b;)y[k]();b=m.length}g=!1}r.exports=S;function S(k){m.push(k)===1&&!g&&o()}}).call(this,typeof $n!="undefined"?$n:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,r,i){var s=n(1);function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];r.exports=d;function d(D){if(typeof D!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,D!==a&&S(this,D)}d.prototype.catch=function(D){return this.then(null,D)},d.prototype.then=function(D,V){if(typeof D!="function"&&this.state===c||typeof V!="function"&&this.state===l)return this;var $=new this.constructor(a);if(this.state!==h){var M=this.state===c?D:V;m($,M,this.outcome)}else this.queue.push(new g($,D,V));return $};function g(D,V,$){this.promise=D,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof $=="function"&&(this.onRejected=$,this.callRejected=this.otherCallRejected)}g.prototype.callFulfilled=function(D){o.resolve(this.promise,D)},g.prototype.otherCallFulfilled=function(D){m(this.promise,this.onFulfilled,D)},g.prototype.callRejected=function(D){o.reject(this.promise,D)},g.prototype.otherCallRejected=function(D){m(this.promise,this.onRejected,D)};function m(D,V,$){s(function(){var M;try{M=V($)}catch(Q){return o.reject(D,Q)}M===D?o.reject(D,new TypeError("Cannot resolve promise with itself")):o.resolve(D,M)})}o.resolve=function(D,V){var $=k(_,V);if($.status==="error")return o.reject(D,$.value);var M=$.value;if(M)S(D,M);else{D.state=c,D.outcome=V;for(var Q=-1,X=D.queue.length;++Q<X;)D.queue[Q].callFulfilled(V)}return D},o.reject=function(D,V){D.state=l,D.outcome=V;for(var $=-1,M=D.queue.length;++$<M;)D.queue[$].callRejected(V);return D};function _(D){var V=D&&D.then;if(D&&(typeof D=="object"||typeof D=="function")&&typeof V=="function")return function(){V.apply(D,arguments)}}function S(D,V){var $=!1;function M(C){$||($=!0,o.reject(D,C))}function Q(C){$||($=!0,o.resolve(D,C))}function X(){V(Q,M)}var L=k(X);L.status==="error"&&M(L.value)}function k(D,V){var $={};try{$.value=D(V),$.status="success"}catch(M){$.status="error",$.value=M}return $}d.resolve=y;function y(D){return D instanceof this?D:o.resolve(new this(a),D)}d.reject=b;function b(D){var V=new this(a);return o.reject(V,D)}d.all=N;function N(D){var V=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=D.length,M=!1;if(!$)return this.resolve([]);for(var Q=new Array($),X=0,L=-1,C=new this(a);++L<$;)B(D[L],L);return C;function B(K,ve){V.resolve(K).then(ge,function(ye){M||(M=!0,o.reject(C,ye))});function ge(ye){Q[ve]=ye,++X===$&&!M&&(M=!0,o.resolve(C,Q))}}}d.race=I;function I(D){var V=this;if(Object.prototype.toString.call(D)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=D.length,M=!1;if(!$)return this.resolve([]);for(var Q=-1,X=new this(a);++Q<$;)L(D[Q]);return X;function L(C){V.resolve(C).then(function(B){M||(M=!0,o.resolve(X,B))},function(B){M||(M=!0,o.reject(X,B))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof $n!="undefined"?$n:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R};function a(R,Y){if(!(R instanceof Y))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch(R){return}}var l=o();function c(){try{if(!l||!l.open)return!1;var R=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Y=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!R||Y)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch(z){return!1}}function h(R,Y){R=R||[],Y=Y||{};try{return new Blob(R,Y)}catch(re){if(re.name!=="TypeError")throw re;for(var z=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,oe=new z,ce=0;ce<R.length;ce+=1)oe.append(R[ce]);return oe.getBlob(Y.type)}}typeof Promise=="undefined"&&n(3);var d=Promise;function g(R,Y){Y&&R.then(function(z){Y(null,z)},function(z){Y(z)})}function m(R,Y,z){typeof Y=="function"&&R.then(Y),typeof z=="function"&&R.catch(z)}function _(R){return typeof R!="string"&&(console.warn(R+" used as a key, but it is not a string."),R=String(R)),R}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var k="local-forage-detect-blob-support",y=void 0,b={},N=Object.prototype.toString,I="readonly",D="readwrite";function V(R){for(var Y=R.length,z=new ArrayBuffer(Y),oe=new Uint8Array(z),ce=0;ce<Y;ce++)oe[ce]=R.charCodeAt(ce);return z}function $(R){return new d(function(Y){var z=R.transaction(k,D),oe=h([""]);z.objectStore(k).put(oe,"key"),z.onabort=function(ce){ce.preventDefault(),ce.stopPropagation(),Y(!1)},z.oncomplete=function(){var ce=navigator.userAgent.match(/Chrome\/(\d+)/),re=navigator.userAgent.match(/Edge\//);Y(re||!ce||parseInt(ce[1],10)>=43)}}).catch(function(){return!1})}function M(R){return typeof y=="boolean"?d.resolve(y):$(R).then(function(Y){return y=Y,y})}function Q(R){var Y=b[R.name],z={};z.promise=new d(function(oe,ce){z.resolve=oe,z.reject=ce}),Y.deferredOperations.push(z),Y.dbReady?Y.dbReady=Y.dbReady.then(function(){return z.promise}):Y.dbReady=z.promise}function X(R){var Y=b[R.name],z=Y.deferredOperations.pop();if(z)return z.resolve(),z.promise}function L(R,Y){var z=b[R.name],oe=z.deferredOperations.pop();if(oe)return oe.reject(Y),oe.promise}function C(R,Y){return new d(function(z,oe){if(b[R.name]=b[R.name]||j(),R.db)if(Y)Q(R),R.db.close();else return z(R.db);var ce=[R.name];Y&&ce.push(R.version);var re=l.open.apply(l,ce);Y&&(re.onupgradeneeded=function(Ne){var Ce=re.result;try{Ce.createObjectStore(R.storeName),Ne.oldVersion<=1&&Ce.createObjectStore(k)}catch(Oe){if(Oe.name==="ConstraintError")console.warn('The database "'+R.name+'" has been upgraded from version '+Ne.oldVersion+" to version "+Ne.newVersion+', but the storage "'+R.storeName+'" already exists.');else throw Oe}}),re.onerror=function(Ne){Ne.preventDefault(),oe(re.error)},re.onsuccess=function(){var Ne=re.result;Ne.onversionchange=function(Ce){Ce.target.close()},z(Ne),X(R)}})}function B(R){return C(R,!1)}function K(R){return C(R,!0)}function ve(R,Y){if(!R.db)return!0;var z=!R.db.objectStoreNames.contains(R.storeName),oe=R.version<R.db.version,ce=R.version>R.db.version;if(oe&&(R.version!==Y&&console.warn('The database "'+R.name+`" can't be downgraded from version `+R.db.version+" to version "+R.version+"."),R.version=R.db.version),ce||z){if(z){var re=R.db.version+1;re>R.version&&(R.version=re)}return!0}return!1}function ge(R){return new d(function(Y,z){var oe=new FileReader;oe.onerror=z,oe.onloadend=function(ce){var re=btoa(ce.target.result||"");Y({__local_forage_encoded_blob:!0,data:re,type:R.type})},oe.readAsBinaryString(R)})}function ye(R){var Y=V(atob(R.data));return h([Y],{type:R.type})}function H(R){return R&&R.__local_forage_encoded_blob}function le(R){var Y=this,z=Y._initReady().then(function(){var oe=b[Y._dbInfo.name];if(oe&&oe.dbReady)return oe.dbReady});return m(z,R,R),z}function he(R){Q(R);for(var Y=b[R.name],z=Y.forages,oe=0;oe<z.length;oe++){var ce=z[oe];ce._dbInfo.db&&(ce._dbInfo.db.close(),ce._dbInfo.db=null)}return R.db=null,B(R).then(function(re){return R.db=re,ve(R)?K(R):re}).then(function(re){R.db=Y.db=re;for(var Ne=0;Ne<z.length;Ne++)z[Ne]._dbInfo.db=re}).catch(function(re){throw L(R,re),re})}function Ae(R,Y,z,oe){oe===void 0&&(oe=1);try{var ce=R.db.transaction(R.storeName,Y);z(null,ce)}catch(re){if(oe>0&&(!R.db||re.name==="InvalidStateError"||re.name==="NotFoundError"))return d.resolve().then(function(){if(!R.db||re.name==="NotFoundError"&&!R.db.objectStoreNames.contains(R.storeName)&&R.version<=R.db.version)return R.db&&(R.version=R.db.version+1),K(R)}).then(function(){return he(R).then(function(){Ae(R,Y,z,oe-1)})}).catch(z);z(re)}}function j(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function q(R){var Y=this,z={db:null};if(R)for(var oe in R)z[oe]=R[oe];var ce=b[z.name];ce||(ce=j(),b[z.name]=ce),ce.forages.push(Y),Y._initReady||(Y._initReady=Y.ready,Y.ready=le);var re=[];function Ne(){return d.resolve()}for(var Ce=0;Ce<ce.forages.length;Ce++){var Oe=ce.forages[Ce];Oe!==Y&&re.push(Oe._initReady().catch(Ne))}var Re=ce.forages.slice(0);return d.all(re).then(function(){return z.db=ce.db,B(z)}).then(function(Be){return z.db=Be,ve(z,Y._defaultConfig.version)?K(z):Be}).then(function(Be){z.db=ce.db=Be,Y._dbInfo=z;for(var Ze=0;Ze<Re.length;Ze++){var vt=Re[Ze];vt!==Y&&(vt._dbInfo.db=z.db,vt._dbInfo.version=z.version)}})}function G(R,Y){var z=this;R=_(R);var oe=new d(function(ce,re){z.ready().then(function(){Ae(z._dbInfo,I,function(Ne,Ce){if(Ne)return re(Ne);try{var Oe=Ce.objectStore(z._dbInfo.storeName),Re=Oe.get(R);Re.onsuccess=function(){var Be=Re.result;Be===void 0&&(Be=null),H(Be)&&(Be=ye(Be)),ce(Be)},Re.onerror=function(){re(Re.error)}}catch(Be){re(Be)}})}).catch(re)});return g(oe,Y),oe}function Z(R,Y){var z=this,oe=new d(function(ce,re){z.ready().then(function(){Ae(z._dbInfo,I,function(Ne,Ce){if(Ne)return re(Ne);try{var Oe=Ce.objectStore(z._dbInfo.storeName),Re=Oe.openCursor(),Be=1;Re.onsuccess=function(){var Ze=Re.result;if(Ze){var vt=Ze.value;H(vt)&&(vt=ye(vt));var Pt=R(vt,Ze.key,Be++);Pt!==void 0?ce(Pt):Ze.continue()}else ce()},Re.onerror=function(){re(Re.error)}}catch(Ze){re(Ze)}})}).catch(re)});return g(oe,Y),oe}function se(R,Y,z){var oe=this;R=_(R);var ce=new d(function(re,Ne){var Ce;oe.ready().then(function(){return Ce=oe._dbInfo,N.call(Y)==="[object Blob]"?M(Ce.db).then(function(Oe){return Oe?Y:ge(Y)}):Y}).then(function(Oe){Ae(oe._dbInfo,D,function(Re,Be){if(Re)return Ne(Re);try{var Ze=Be.objectStore(oe._dbInfo.storeName);Oe===null&&(Oe=void 0);var vt=Ze.put(Oe,R);Be.oncomplete=function(){Oe===void 0&&(Oe=null),re(Oe)},Be.onabort=Be.onerror=function(){var Pt=vt.error?vt.error:vt.transaction.error;Ne(Pt)}}catch(Pt){Ne(Pt)}})}).catch(Ne)});return g(ce,z),ce}function me(R,Y){var z=this;R=_(R);var oe=new d(function(ce,re){z.ready().then(function(){Ae(z._dbInfo,D,function(Ne,Ce){if(Ne)return re(Ne);try{var Oe=Ce.objectStore(z._dbInfo.storeName),Re=Oe.delete(R);Ce.oncomplete=function(){ce()},Ce.onerror=function(){re(Re.error)},Ce.onabort=function(){var Be=Re.error?Re.error:Re.transaction.error;re(Be)}}catch(Be){re(Be)}})}).catch(re)});return g(oe,Y),oe}function we(R){var Y=this,z=new d(function(oe,ce){Y.ready().then(function(){Ae(Y._dbInfo,D,function(re,Ne){if(re)return ce(re);try{var Ce=Ne.objectStore(Y._dbInfo.storeName),Oe=Ce.clear();Ne.oncomplete=function(){oe()},Ne.onabort=Ne.onerror=function(){var Re=Oe.error?Oe.error:Oe.transaction.error;ce(Re)}}catch(Re){ce(Re)}})}).catch(ce)});return g(z,R),z}function be(R){var Y=this,z=new d(function(oe,ce){Y.ready().then(function(){Ae(Y._dbInfo,I,function(re,Ne){if(re)return ce(re);try{var Ce=Ne.objectStore(Y._dbInfo.storeName),Oe=Ce.count();Oe.onsuccess=function(){oe(Oe.result)},Oe.onerror=function(){ce(Oe.error)}}catch(Re){ce(Re)}})}).catch(ce)});return g(z,R),z}function Me(R,Y){var z=this,oe=new d(function(ce,re){if(R<0){ce(null);return}z.ready().then(function(){Ae(z._dbInfo,I,function(Ne,Ce){if(Ne)return re(Ne);try{var Oe=Ce.objectStore(z._dbInfo.storeName),Re=!1,Be=Oe.openKeyCursor();Be.onsuccess=function(){var Ze=Be.result;if(!Ze){ce(null);return}R===0||Re?ce(Ze.key):(Re=!0,Ze.advance(R))},Be.onerror=function(){re(Be.error)}}catch(Ze){re(Ze)}})}).catch(re)});return g(oe,Y),oe}function Fe(R){var Y=this,z=new d(function(oe,ce){Y.ready().then(function(){Ae(Y._dbInfo,I,function(re,Ne){if(re)return ce(re);try{var Ce=Ne.objectStore(Y._dbInfo.storeName),Oe=Ce.openKeyCursor(),Re=[];Oe.onsuccess=function(){var Be=Oe.result;if(!Be){oe(Re);return}Re.push(Be.key),Be.continue()},Oe.onerror=function(){ce(Oe.error)}}catch(Be){ce(Be)}})}).catch(ce)});return g(z,R),z}function We(R,Y){Y=S.apply(this,arguments);var z=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||z.name,R.storeName=R.storeName||z.storeName);var oe=this,ce;if(!R.name)ce=d.reject("Invalid arguments");else{var re=R.name===z.name&&oe._dbInfo.db,Ne=re?d.resolve(oe._dbInfo.db):B(R).then(function(Ce){var Oe=b[R.name],Re=Oe.forages;Oe.db=Ce;for(var Be=0;Be<Re.length;Be++)Re[Be]._dbInfo.db=Ce;return Ce});R.storeName?ce=Ne.then(function(Ce){if(Ce.objectStoreNames.contains(R.storeName)){var Oe=Ce.version+1;Q(R);var Re=b[R.name],Be=Re.forages;Ce.close();for(var Ze=0;Ze<Be.length;Ze++){var vt=Be[Ze];vt._dbInfo.db=null,vt._dbInfo.version=Oe}var Pt=new d(function(jt,on){var Vt=l.open(R.name,Oe);Vt.onerror=function(Qn){var ls=Vt.result;ls.close(),on(Qn)},Vt.onupgradeneeded=function(){var Qn=Vt.result;Qn.deleteObjectStore(R.storeName)},Vt.onsuccess=function(){var Qn=Vt.result;Qn.close(),jt(Qn)}});return Pt.then(function(jt){Re.db=jt;for(var on=0;on<Be.length;on++){var Vt=Be[on];Vt._dbInfo.db=jt,X(Vt._dbInfo)}}).catch(function(jt){throw(L(R,jt)||d.resolve()).catch(function(){}),jt})}}):ce=Ne.then(function(Ce){Q(R);var Oe=b[R.name],Re=Oe.forages;Ce.close();for(var Be=0;Be<Re.length;Be++){var Ze=Re[Be];Ze._dbInfo.db=null}var vt=new d(function(Pt,jt){var on=l.deleteDatabase(R.name);on.onerror=function(){var Vt=on.result;Vt&&Vt.close(),jt(on.error)},on.onblocked=function(){console.warn('dropInstance blocked for database "'+R.name+'" until all open connections are closed')},on.onsuccess=function(){var Vt=on.result;Vt&&Vt.close(),Pt(Vt)}});return vt.then(function(Pt){Oe.db=Pt;for(var jt=0;jt<Re.length;jt++){var on=Re[jt];X(on._dbInfo)}}).catch(function(Pt){throw(L(R,Pt)||d.resolve()).catch(function(){}),Pt})})}return g(ce,Y),ce}var $e={_driver:"asyncStorage",_initStorage:q,_support:c(),iterate:Z,getItem:G,setItem:se,removeItem:me,clear:we,length:be,key:Me,keys:Fe,dropInstance:We};function st(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="~~local_forage_type~",ct=/^~~local_forage_type~([^~]+)~/,Xe="__lfsc__:",Te=Xe.length,Ue="arbf",He="blob",qe="si08",tt="ui08",ut="uic8",pt="si16",xt="si32",kt="ur16",Ft="ui32",at="fl32",_t="fl64",Ke=Te+Ue.length,En=Object.prototype.toString;function At(R){var Y=R.length*.75,z=R.length,oe,ce=0,re,Ne,Ce,Oe;R[R.length-1]==="="&&(Y--,R[R.length-2]==="="&&Y--);var Re=new ArrayBuffer(Y),Be=new Uint8Array(Re);for(oe=0;oe<z;oe+=4)re=xe.indexOf(R[oe]),Ne=xe.indexOf(R[oe+1]),Ce=xe.indexOf(R[oe+2]),Oe=xe.indexOf(R[oe+3]),Be[ce++]=re<<2|Ne>>4,Be[ce++]=(Ne&15)<<4|Ce>>2,Be[ce++]=(Ce&3)<<6|Oe&63;return Re}function cr(R){var Y=new Uint8Array(R),z="",oe;for(oe=0;oe<Y.length;oe+=3)z+=xe[Y[oe]>>2],z+=xe[(Y[oe]&3)<<4|Y[oe+1]>>4],z+=xe[(Y[oe+1]&15)<<2|Y[oe+2]>>6],z+=xe[Y[oe+2]&63];return Y.length%3===2?z=z.substring(0,z.length-1)+"=":Y.length%3===1&&(z=z.substring(0,z.length-2)+"=="),z}function Bt(R,Y){var z="";if(R&&(z=En.call(R)),R&&(z==="[object ArrayBuffer]"||R.buffer&&En.call(R.buffer)==="[object ArrayBuffer]")){var oe,ce=Xe;R instanceof ArrayBuffer?(oe=R,ce+=Ue):(oe=R.buffer,z==="[object Int8Array]"?ce+=qe:z==="[object Uint8Array]"?ce+=tt:z==="[object Uint8ClampedArray]"?ce+=ut:z==="[object Int16Array]"?ce+=pt:z==="[object Uint16Array]"?ce+=kt:z==="[object Int32Array]"?ce+=xt:z==="[object Uint32Array]"?ce+=Ft:z==="[object Float32Array]"?ce+=at:z==="[object Float64Array]"?ce+=_t:Y(new Error("Failed to get type for BinaryArray"))),Y(ce+cr(oe))}else if(z==="[object Blob]"){var re=new FileReader;re.onload=function(){var Ne=J+R.type+"~"+cr(this.result);Y(Xe+He+Ne)},re.readAsArrayBuffer(R)}else try{Y(JSON.stringify(R))}catch(Ne){console.error("Couldn't convert value into a JSON string: ",R),Y(null,Ne)}}function Qt(R){if(R.substring(0,Te)!==Xe)return JSON.parse(R);var Y=R.substring(Ke),z=R.substring(Te,Ke),oe;if(z===He&&ct.test(Y)){var ce=Y.match(ct);oe=ce[1],Y=Y.substring(ce[0].length)}var re=At(Y);switch(z){case Ue:return re;case He:return h([re],{type:oe});case qe:return new Int8Array(re);case tt:return new Uint8Array(re);case ut:return new Uint8ClampedArray(re);case pt:return new Int16Array(re);case kt:return new Uint16Array(re);case xt:return new Int32Array(re);case Ft:return new Uint32Array(re);case at:return new Float32Array(re);case _t:return new Float64Array(re);default:throw new Error("Unkown type: "+z)}}var wr={serialize:Bt,deserialize:Qt,stringToBuffer:At,bufferToString:cr};function Ot(R,Y,z,oe){R.executeSql("CREATE TABLE IF NOT EXISTS "+Y.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],z,oe)}function rs(R){var Y=this,z={db:null};if(R)for(var oe in R)z[oe]=typeof R[oe]!="string"?R[oe].toString():R[oe];var ce=new d(function(re,Ne){try{z.db=openDatabase(z.name,String(z.version),z.description,z.size)}catch(Ce){return Ne(Ce)}z.db.transaction(function(Ce){Ot(Ce,z,function(){Y._dbInfo=z,re()},function(Oe,Re){Ne(Re)})},Ne)});return z.serializer=wr,ce}function Dt(R,Y,z,oe,ce,re){R.executeSql(z,oe,ce,function(Ne,Ce){Ce.code===Ce.SYNTAX_ERR?Ne.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Y.storeName],function(Oe,Re){Re.rows.length?re(Oe,Ce):Ot(Oe,Y,function(){Oe.executeSql(z,oe,ce,re)},re)},re):re(Ne,Ce)},re)}function Ir(R,Y){var z=this;R=_(R);var oe=new d(function(ce,re){z.ready().then(function(){var Ne=z._dbInfo;Ne.db.transaction(function(Ce){Dt(Ce,Ne,"SELECT * FROM "+Ne.storeName+" WHERE key = ? LIMIT 1",[R],function(Oe,Re){var Be=Re.rows.length?Re.rows.item(0).value:null;Be&&(Be=Ne.serializer.deserialize(Be)),ce(Be)},function(Oe,Re){re(Re)})})}).catch(re)});return g(oe,Y),oe}function pi(R,Y){var z=this,oe=new d(function(ce,re){z.ready().then(function(){var Ne=z._dbInfo;Ne.db.transaction(function(Ce){Dt(Ce,Ne,"SELECT * FROM "+Ne.storeName,[],function(Oe,Re){for(var Be=Re.rows,Ze=Be.length,vt=0;vt<Ze;vt++){var Pt=Be.item(vt),jt=Pt.value;if(jt&&(jt=Ne.serializer.deserialize(jt)),jt=R(jt,Pt.key,vt+1),jt!==void 0){ce(jt);return}}ce()},function(Oe,Re){re(Re)})})}).catch(re)});return g(oe,Y),oe}function nn(R,Y,z,oe){var ce=this;R=_(R);var re=new d(function(Ne,Ce){ce.ready().then(function(){Y===void 0&&(Y=null);var Oe=Y,Re=ce._dbInfo;Re.serializer.serialize(Y,function(Be,Ze){Ze?Ce(Ze):Re.db.transaction(function(vt){Dt(vt,Re,"INSERT OR REPLACE INTO "+Re.storeName+" (key, value) VALUES (?, ?)",[R,Be],function(){Ne(Oe)},function(Pt,jt){Ce(jt)})},function(vt){if(vt.code===vt.QUOTA_ERR){if(oe>0){Ne(nn.apply(ce,[R,Oe,z,oe-1]));return}Ce(vt)}})})}).catch(Ce)});return g(re,z),re}function ft(R,Y,z){return nn.apply(this,[R,Y,z,1])}function Rt(R,Y){var z=this;R=_(R);var oe=new d(function(ce,re){z.ready().then(function(){var Ne=z._dbInfo;Ne.db.transaction(function(Ce){Dt(Ce,Ne,"DELETE FROM "+Ne.storeName+" WHERE key = ?",[R],function(){ce()},function(Oe,Re){re(Re)})})}).catch(re)});return g(oe,Y),oe}function is(R){var Y=this,z=new d(function(oe,ce){Y.ready().then(function(){var re=Y._dbInfo;re.db.transaction(function(Ne){Dt(Ne,re,"DELETE FROM "+re.storeName,[],function(){oe()},function(Ce,Oe){ce(Oe)})})}).catch(ce)});return g(z,R),z}function Cn(R){var Y=this,z=new d(function(oe,ce){Y.ready().then(function(){var re=Y._dbInfo;re.db.transaction(function(Ne){Dt(Ne,re,"SELECT COUNT(key) as c FROM "+re.storeName,[],function(Ce,Oe){var Re=Oe.rows.item(0).c;oe(Re)},function(Ce,Oe){ce(Oe)})})}).catch(ce)});return g(z,R),z}function Yr(R,Y){var z=this,oe=new d(function(ce,re){z.ready().then(function(){var Ne=z._dbInfo;Ne.db.transaction(function(Ce){Dt(Ce,Ne,"SELECT key FROM "+Ne.storeName+" WHERE id = ? LIMIT 1",[R+1],function(Oe,Re){var Be=Re.rows.length?Re.rows.item(0).key:null;ce(Be)},function(Oe,Re){re(Re)})})}).catch(re)});return g(oe,Y),oe}function Qr(R){var Y=this,z=new d(function(oe,ce){Y.ready().then(function(){var re=Y._dbInfo;re.db.transaction(function(Ne){Dt(Ne,re,"SELECT key FROM "+re.storeName,[],function(Ce,Oe){for(var Re=[],Be=0;Be<Oe.rows.length;Be++)Re.push(Oe.rows.item(Be).key);oe(Re)},function(Ce,Oe){ce(Oe)})})}).catch(ce)});return g(z,R),z}function rt(R){return new d(function(Y,z){R.transaction(function(oe){oe.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ce,re){for(var Ne=[],Ce=0;Ce<re.rows.length;Ce++)Ne.push(re.rows.item(Ce).name);Y({db:R,storeNames:Ne})},function(ce,re){z(re)})},function(oe){z(oe)})})}function Tr(R,Y){Y=S.apply(this,arguments);var z=this.config();R=typeof R!="function"&&R||{},R.name||(R.name=R.name||z.name,R.storeName=R.storeName||z.storeName);var oe=this,ce;return R.name?ce=new d(function(re){var Ne;R.name===z.name?Ne=oe._dbInfo.db:Ne=openDatabase(R.name,"","",0),R.storeName?re({db:Ne,storeNames:[R.storeName]}):re(rt(Ne))}).then(function(re){return new d(function(Ne,Ce){re.db.transaction(function(Oe){function Re(Pt){return new d(function(jt,on){Oe.executeSql("DROP TABLE IF EXISTS "+Pt,[],function(){jt()},function(Vt,Qn){on(Qn)})})}for(var Be=[],Ze=0,vt=re.storeNames.length;Ze<vt;Ze++)Be.push(Re(re.storeNames[Ze]));d.all(Be).then(function(){Ne()}).catch(function(Pt){Ce(Pt)})},function(Oe){Ce(Oe)})})}):ce=d.reject("Invalid arguments"),g(ce,Y),ce}var Xr={_driver:"webSQLStorage",_initStorage:rs,_support:st(),iterate:pi,getItem:Ir,setItem:ft,removeItem:Rt,clear:is,length:Cn,key:Yr,keys:Qr,dropInstance:Tr};function Yn(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch(R){return!1}}function dn(R,Y){var z=R.name+"/";return R.storeName!==Y.storeName&&(z+=R.storeName+"/"),z}function pn(){var R="_localforage_support_test";try{return localStorage.setItem(R,!0),localStorage.removeItem(R),!1}catch(Y){return!0}}function fr(){return!pn()||localStorage.length>0}function Cs(R){var Y=this,z={};if(R)for(var oe in R)z[oe]=R[oe];return z.keyPrefix=dn(R,Y._defaultConfig),fr()?(Y._dbInfo=z,z.serializer=wr,d.resolve()):d.reject()}function gi(R){var Y=this,z=Y.ready().then(function(){for(var oe=Y._dbInfo.keyPrefix,ce=localStorage.length-1;ce>=0;ce--){var re=localStorage.key(ce);re.indexOf(oe)===0&&localStorage.removeItem(re)}});return g(z,R),z}function Rr(R,Y){var z=this;R=_(R);var oe=z.ready().then(function(){var ce=z._dbInfo,re=localStorage.getItem(ce.keyPrefix+R);return re&&(re=ce.serializer.deserialize(re)),re});return g(oe,Y),oe}function Fr(R,Y){var z=this,oe=z.ready().then(function(){for(var ce=z._dbInfo,re=ce.keyPrefix,Ne=re.length,Ce=localStorage.length,Oe=1,Re=0;Re<Ce;Re++){var Be=localStorage.key(Re);if(Be.indexOf(re)===0){var Ze=localStorage.getItem(Be);if(Ze&&(Ze=ce.serializer.deserialize(Ze)),Ze=R(Ze,Be.substring(Ne),Oe++),Ze!==void 0)return Ze}}});return g(oe,Y),oe}function Dr(R,Y){var z=this,oe=z.ready().then(function(){var ce=z._dbInfo,re;try{re=localStorage.key(R)}catch(Ne){re=null}return re&&(re=re.substring(ce.keyPrefix.length)),re});return g(oe,Y),oe}function Zr(R){var Y=this,z=Y.ready().then(function(){for(var oe=Y._dbInfo,ce=localStorage.length,re=[],Ne=0;Ne<ce;Ne++){var Ce=localStorage.key(Ne);Ce.indexOf(oe.keyPrefix)===0&&re.push(Ce.substring(oe.keyPrefix.length))}return re});return g(z,R),z}function br(R){var Y=this,z=Y.keys().then(function(oe){return oe.length});return g(z,R),z}function ei(R,Y){var z=this;R=_(R);var oe=z.ready().then(function(){var ce=z._dbInfo;localStorage.removeItem(ce.keyPrefix+R)});return g(oe,Y),oe}function ss(R,Y,z){var oe=this;R=_(R);var ce=oe.ready().then(function(){Y===void 0&&(Y=null);var re=Y;return new d(function(Ne,Ce){var Oe=oe._dbInfo;Oe.serializer.serialize(Y,function(Re,Be){if(Be)Ce(Be);else try{localStorage.setItem(Oe.keyPrefix+R,Re),Ne(re)}catch(Ze){(Ze.name==="QuotaExceededError"||Ze.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ce(Ze),Ce(Ze)}})})});return g(ce,z),ce}function Os(R,Y){if(Y=S.apply(this,arguments),R=typeof R!="function"&&R||{},!R.name){var z=this.config();R.name=R.name||z.name,R.storeName=R.storeName||z.storeName}var oe=this,ce;return R.name?ce=new d(function(re){R.storeName?re(dn(R,oe._defaultConfig)):re(R.name+"/")}).then(function(re){for(var Ne=localStorage.length-1;Ne>=0;Ne--){var Ce=localStorage.key(Ne);Ce.indexOf(re)===0&&localStorage.removeItem(Ce)}}):ce=d.reject("Invalid arguments"),g(ce,Y),ce}var Is={_driver:"localStorageWrapper",_initStorage:Cs,_support:Yn(),iterate:Fr,getItem:Rr,setItem:ss,removeItem:ei,clear:gi,length:br,key:Dr,keys:Zr,dropInstance:Os},Ts=function(Y,z){return Y===z||typeof Y=="number"&&typeof z=="number"&&isNaN(Y)&&isNaN(z)},Rs=function(Y,z){for(var oe=Y.length,ce=0;ce<oe;){if(Ts(Y[ce],z))return!0;ce++}return!1},Ia=Array.isArray||function(R){return Object.prototype.toString.call(R)==="[object Array]"},as={},xo={},Mr={INDEXEDDB:$e,WEBSQL:Xr,LOCALSTORAGE:Is},_o=[Mr.INDEXEDDB._driver,Mr.WEBSQL._driver,Mr.LOCALSTORAGE._driver],Fs=["dropInstance"],os=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Fs),Jl={description:"",driver:_o.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function So(R,Y){R[Y]=function(){var z=arguments;return R.ready().then(function(){return R[Y].apply(R,z)})}}function Ta(){for(var R=1;R<arguments.length;R++){var Y=arguments[R];if(Y)for(var z in Y)Y.hasOwnProperty(z)&&(Ia(Y[z])?arguments[0][z]=Y[z].slice():arguments[0][z]=Y[z])}return arguments[0]}var Ds=function(){function R(Y){a(this,R);for(var z in Mr)if(Mr.hasOwnProperty(z)){var oe=Mr[z],ce=oe._driver;this[z]=ce,as[ce]||this.defineDriver(oe)}this._defaultConfig=Ta({},Jl),this._config=Ta({},this._defaultConfig,Y),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return R.prototype.config=function(z){if((typeof z=="undefined"?"undefined":s(z))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var oe in z){if(oe==="storeName"&&(z[oe]=z[oe].replace(/\W/g,"_")),oe==="version"&&typeof z[oe]!="number")return new Error("Database version must be a number.");this._config[oe]=z[oe]}return"driver"in z&&z.driver?this.setDriver(this._config.driver):!0}else return typeof z=="string"?this._config[z]:this._config},R.prototype.defineDriver=function(z,oe,ce){var re=new d(function(Ne,Ce){try{var Oe=z._driver,Re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!z._driver){Ce(Re);return}for(var Be=os.concat("_initStorage"),Ze=0,vt=Be.length;Ze<vt;Ze++){var Pt=Be[Ze],jt=!Rs(Fs,Pt);if((jt||z[Pt])&&typeof z[Pt]!="function"){Ce(Re);return}}var on=function(){for(var ls=function(No){return function(){var Rn=new Error("Method "+No+" is not implemented by the current driver"),ko=d.reject(Rn);return g(ko,arguments[arguments.length-1]),ko}},Ra=0,mi=Fs.length;Ra<mi;Ra++){var Di=Fs[Ra];z[Di]||(z[Di]=ls(Di))}};on();var Vt=function(ls){as[Oe]&&console.info("Redefining LocalForage driver: "+Oe),as[Oe]=z,xo[Oe]=ls,Ne()};"_support"in z?z._support&&typeof z._support=="function"?z._support().then(Vt,Ce):Vt(!!z._support):Vt(!0)}catch(Qn){Ce(Qn)}});return m(re,oe,ce),re},R.prototype.driver=function(){return this._driver||null},R.prototype.getDriver=function(z,oe,ce){var re=as[z]?d.resolve(as[z]):d.reject(new Error("Driver not found."));return m(re,oe,ce),re},R.prototype.getSerializer=function(z){var oe=d.resolve(wr);return m(oe,z),oe},R.prototype.ready=function(z){var oe=this,ce=oe._driverSet.then(function(){return oe._ready===null&&(oe._ready=oe._initDriver()),oe._ready});return m(ce,z,z),ce},R.prototype.setDriver=function(z,oe,ce){var re=this;Ia(z)||(z=[z]);var Ne=this._getSupportedDrivers(z);function Ce(){re._config.driver=re.driver()}function Oe(Ze){return re._extend(Ze),Ce(),re._ready=re._initStorage(re._config),re._ready}function Re(Ze){return function(){var vt=0;function Pt(){for(;vt<Ze.length;){var jt=Ze[vt];return vt++,re._dbInfo=null,re._ready=null,re.getDriver(jt).then(Oe).catch(Pt)}Ce();var on=new Error("No available storage method found.");return re._driverSet=d.reject(on),re._driverSet}return Pt()}}var Be=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=Be.then(function(){var Ze=Ne[0];return re._dbInfo=null,re._ready=null,re.getDriver(Ze).then(function(vt){re._driver=vt._driver,Ce(),re._wrapLibraryMethodsWithReady(),re._initDriver=Re(Ne)})}).catch(function(){Ce();var Ze=new Error("No available storage method found.");return re._driverSet=d.reject(Ze),re._driverSet}),m(this._driverSet,oe,ce),this._driverSet},R.prototype.supports=function(z){return!!xo[z]},R.prototype._extend=function(z){Ta(this,z)},R.prototype._getSupportedDrivers=function(z){for(var oe=[],ce=0,re=z.length;ce<re;ce++){var Ne=z[ce];this.supports(Ne)&&oe.push(Ne)}return oe},R.prototype._wrapLibraryMethodsWithReady=function(){for(var z=0,oe=os.length;z<oe;z++)So(this,os[z])},R.prototype.createInstance=function(z){return new R(z)},R}(),Yl=new Ds;r.exports=Yl},{3:3}]},{},[4])(4)})})(_w);var ON=_w.exports;const dd=hg(ON),Tu=dd.createInstance({name:"tamboura-reports",description:"Offline reports storage"}),qi=dd.createInstance({name:"tamboura-media",description:"Offline media storage"}),Qo=dd.createInstance({name:"tamboura-user",description:"User data storage"}),Ru=dd.createInstance({name:"tamboura-sync",description:"Sync queue storage"});class Oi{static saveReport(e){return ie(this,null,function*(){yield Tu.setItem(e.id,e)})}static getReport(e){return ie(this,null,function*(){return yield Tu.getItem(e)})}static getAllReports(){return ie(this,null,function*(){const e=[];return yield Tu.iterate(n=>{e.push(n)}),e.sort((n,r)=>new Date(r.createdAt).getTime()-new Date(n.createdAt).getTime())})}static deleteReport(e){return ie(this,null,function*(){yield Tu.removeItem(e)})}static getUnsyncedReports(){return ie(this,null,function*(){return(yield this.getAllReports()).filter(n=>!n.isSynced)})}static savePhoto(e,n){return ie(this,null,function*(){yield qi.setItem(`photo-${e.id}`,n),yield qi.setItem(`photo-meta-${e.id}`,e)})}static getPhoto(e){return ie(this,null,function*(){const n=yield qi.getItem(`photo-${e}`),r=yield qi.getItem(`photo-meta-${e}`);return n&&r?{blob:n,meta:r}:null})}static saveAudio(e,n){return ie(this,null,function*(){yield qi.setItem(`audio-${e.id}`,n),yield qi.setItem(`audio-meta-${e.id}`,e)})}static getAudio(e){return ie(this,null,function*(){const n=yield qi.getItem(`audio-${e}`),r=yield qi.getItem(`audio-meta-${e}`);return n&&r?{blob:n,meta:r}:null})}static saveUser(e){return ie(this,null,function*(){yield Qo.setItem("currentUser",e)})}static getUser(){return ie(this,null,function*(){return yield Qo.getItem("currentUser")})}static clearUser(){return ie(this,null,function*(){yield Qo.removeItem("currentUser")})}static addToSyncQueue(e){return ie(this,null,function*(){const n=yield this.getSyncQueue();n.push(e),yield Ru.setItem("syncQueue",n)})}static getSyncQueue(){return ie(this,null,function*(){return(yield Ru.getItem("syncQueue"))||[]})}static clearSyncQueue(){return ie(this,null,function*(){yield Ru.setItem("syncQueue",[])})}static removeFromSyncQueue(e){return ie(this,null,function*(){const n=yield this.getSyncQueue();n.splice(e,1),yield Ru.setItem("syncQueue",n)})}static saveSettings(e){return ie(this,null,function*(){yield Qo.setItem("appSettings",e)})}static getSettings(){return ie(this,null,function*(){return(yield Qo.getItem("appSettings"))||{language:"fr",autoSync:!0,offlineMode:!1,notifications:!0}})}static clearAllData(){return ie(this,null,function*(){yield Promise.all([Tu.clear(),qi.clear(),Qo.clear(),Ru.clear()])})}static getStorageInfo(){return ie(this,null,function*(){const e=yield this.getAllReports(),n=yield this.getSyncQueue();let r=0;return yield qi.iterate(()=>{r++}),{reportsCount:e.length,mediaCount:Math.floor(r/2),syncQueueLength:n.length}})}}class jp{static login(e){return ie(this,null,function*(){try{if(navigator.onLine){const{data:n,error:r}=yield Ou.from(Iu.USERS).select("*").eq("matricule",e.matricule).eq("isActive",!0).single();if(r||!n)return{success:!1,error:"Matricule ou mot de passe incorrect",data:null};if(!(yield this.verifyPassword(e.password,n.passwordHash||"demo123")))return{success:!1,error:"Matricule ou mot de passe incorrect",data:null};const s={id:n.id,matricule:n.matricule,firstName:n.firstName||n.first_name,lastName:n.lastName||n.last_name,role:n.role,zone:n.zone,unit:n.unit,isActive:n.isActive,createdAt:n.createdAt||n.created_at,lastLogin:new Date().toISOString()},a=this.generateToken(s);return yield Oi.saveUser(s),yield Ou.from(Iu.USERS).update({lastLogin:s.lastLogin}).eq("id",s.id),{success:!0,data:{user:s,token:a}}}else return yield this.offlineLogin(e)}catch(n){return console.error("Login error:",n),{success:!1,error:"Erreur de connexion",data:null}}})}static offlineLogin(e){return ie(this,null,function*(){const n=yield Oi.getUser();if(!n||n.matricule!==e.matricule)return{success:!1,error:"Aucune session hors ligne disponible pour ce matricule",data:null};if(e.password==="demo123"||e.password===n.matricule){const r=this.generateToken(n);return{success:!0,data:{user:n,token:r}}}return{success:!1,error:"Mot de passe incorrect",data:null}})}static logout(){return ie(this,null,function*(){yield Oi.clearUser(),localStorage.removeItem("tamboura-token")})}static getCurrentUser(){return ie(this,null,function*(){const e=localStorage.getItem("tamboura-token");if(!e)return null;try{return this.verifyToken(e)}catch(n){return null}})}static createUser(e){return ie(this,null,function*(){try{const{data:n,error:r}=yield Ou.from(Iu.USERS).insert([{matricule:e.matricule,firstName:e.firstName,lastName:e.lastName,role:e.role,zone:e.zone,unit:e.unit,isActive:e.isActive,passwordHash:yield this.hashPassword("demo123"),createdAt:new Date().toISOString()}]).select().single();return r?{success:!1,error:"Erreur lors de la création de l'utilisateur",data:null}:{success:!0,data:{id:n.id,matricule:n.matricule,firstName:n.firstName,lastName:n.lastName,role:n.role,zone:n.zone,unit:n.unit,isActive:n.isActive,createdAt:n.createdAt}}}catch(n){return{success:!1,error:"Erreur lors de la création de l'utilisateur",data:null}}})}static updateUser(e,n){return ie(this,null,function*(){try{const{data:r,error:i}=yield Ou.from(Iu.USERS).update(n).eq("id",e).select().single();return i?{success:!1,error:"Erreur lors de la mise à jour",data:null}:{success:!0,data:r}}catch(r){return{success:!1,error:"Erreur lors de la mise à jour",data:null}}})}static getUsers(){return ie(this,null,function*(){try{const{data:e,error:n}=yield Ou.from(Iu.USERS).select("*").order("createdAt",{ascending:!1});return n?{success:!1,error:"Erreur lors du chargement des utilisateurs",data:[]}:{success:!0,data:e}}catch(e){return{success:!1,error:"Erreur lors du chargement des utilisateurs",data:[]}}})}static hasPermission(e,n){const r={agent:1,supervisor:2,admin:3};return r[e]>=r[n]}static generateToken(e){const n={id:e.id,matricule:e.matricule,role:e.role,exp:Date.now()+864e5},r=btoa(JSON.stringify(n));return localStorage.setItem("tamboura-token",r),r}static verifyToken(e){try{const n=JSON.parse(atob(e));if(n.exp<Date.now())throw new Error("Token expired");return n}catch(n){return null}}static hashPassword(e){return ie(this,null,function*(){return btoa(e)})}static verifyPassword(e,n){return ie(this,null,function*(){return btoa(e)===n||e==="demo123"})}}const Sw=je.createContext(void 0),IN=(t,e)=>{switch(e.type){case"LOGIN_START":return Ct(Ge({},t),{isLoading:!0,error:null});case"LOGIN_SUCCESS":return Ct(Ge({},t),{user:e.payload,isAuthenticated:!0,isLoading:!1,error:null});case"LOGIN_ERROR":return Ct(Ge({},t),{user:null,isAuthenticated:!1,isLoading:!1,error:e.payload});case"LOGOUT":return{user:null,isAuthenticated:!1,isLoading:!1,error:null};case"UPDATE_USER":return Ct(Ge({},t),{user:e.payload});case"CLEAR_ERROR":return Ct(Ge({},t),{error:null});default:return t}},TN={user:null,isAuthenticated:!1,isLoading:!1,error:null},RN=({children:t})=>{const[e,n]=je.useReducer(IN,TN);je.useEffect(()=>{ie(void 0,null,function*(){n({type:"LOGIN_START"});try{const l=yield jp.getCurrentUser();if(l)n({type:"LOGIN_SUCCESS",payload:l});else{const c=yield Oi.getUser();n(c?{type:"LOGIN_SUCCESS",payload:c}:{type:"LOGOUT"})}}catch(l){n({type:"LOGOUT"})}})},[]);const r=o=>ie(void 0,null,function*(){n({type:"LOGIN_START"});try{const l=yield jp.login(o);return l.success&&l.data?(n({type:"LOGIN_SUCCESS",payload:l.data.user}),!0):(n({type:"LOGIN_ERROR",payload:l.error||"Erreur de connexion"}),!1)}catch(l){return n({type:"LOGIN_ERROR",payload:"Erreur de connexion"}),!1}}),i=()=>ie(void 0,null,function*(){yield jp.logout(),n({type:"LOGOUT"})}),s=o=>{n({type:"UPDATE_USER",payload:o})},a=Ct(Ge({},e),{login:r,logout:i,updateUser:s});return x.jsx(Sw.Provider,{value:a,children:t})},Es=()=>{const t=je.useContext(Sw);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};function FN(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const I2={};function Y1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];typeof e[0]=="string"&&I2[e[0]]||(typeof e[0]=="string"&&(I2[e[0]]=new Date),FN(...e))}const Nw=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}};function T2(t,e,n){t.loadNamespaces(e,Nw(t,n))}function R2(t,e,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Nw(t,r))}function DN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=e.services.backendConnector.state[`${o}|${l}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(r,t)&&(!i||a(s,t)))}function MN(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Y1("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):DN(t,e,n)}const BN=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,UN={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},zN=t=>UN[t],$N=t=>t.replace(BN,zN);let Q1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:$N};function qN(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Q1=Ge(Ge({},Q1),t)}function WN(){return Q1}let kw;function HN(t){kw=t}function VN(){return kw}const GN={type:"3rdParty",init(t){qN(t.options.react),HN(t)}},KN=je.createContext();class JN{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const YN=(t,e)=>{const n=je.useRef();return je.useEffect(()=>{n.current=t},[t,e]),n.current};function ts(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=je.useContext(KN)||{},s=n||r||VN();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new JN),!s){Y1("You will need to pass in an i18next instance by using initReactI18next");const N=(D,V)=>typeof V=="string"?V:V&&typeof V=="object"&&typeof V.defaultValue=="string"?V.defaultValue:Array.isArray(D)?D[D.length-1]:D,I=[N,{},!1];return I.t=N,I.i18n={},I.ready=!1,I}s.options.react&&s.options.react.wait!==void 0&&Y1("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a=Ge(Ge(Ge({},WN()),s.options.react),e),{useSuspense:o,keyPrefix:l}=a;let c=i||s.options&&s.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(c);const h=(s.isInitialized||s.initializedStoreOnce)&&c.every(N=>MN(N,s,a));function d(){return s.getFixedT(e.lng||null,a.nsMode==="fallback"?c:c[0],l)}const[g,m]=je.useState(d);let _=c.join();e.lng&&(_=`${e.lng}${_}`);const S=YN(_),k=je.useRef(!0);je.useEffect(()=>{const{bindI18n:N,bindI18nStore:I}=a;k.current=!0,!h&&!o&&(e.lng?R2(s,e.lng,c,()=>{k.current&&m(d)}):T2(s,c,()=>{k.current&&m(d)})),h&&S&&S!==_&&k.current&&m(d);function D(){k.current&&m(d)}return N&&s&&s.on(N,D),I&&s&&s.store.on(I,D),()=>{k.current=!1,N&&s&&N.split(" ").forEach(V=>s.off(V,D)),I&&s&&I.split(" ").forEach(V=>s.store.off(V,D))}},[s,_]);const y=je.useRef(!0);je.useEffect(()=>{k.current&&!y.current&&m(d),y.current=!1},[s,l]);const b=[g,s,h];if(b.t=g,b.i18n=s,b.ready=h,h||!h&&!o)return b;throw new Promise(N=>{e.lng?R2(s,e.lng,c,()=>N()):T2(s,c,()=>N())})}const Gl=({size:t="md",text:e="Chargement..."})=>{const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return x.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-900",children:[x.jsx("div",{className:`animate-spin rounded-full border-4 border-gray-700 border-t-tamboura-500 ${n[t]}`}),e&&x.jsx("p",{className:"mt-4 text-gray-400 text-sm",children:e})]})};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Yt=(t,e)=>{const n=je.forwardRef((d,h)=>{var g=d,{color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l}=g,c=Jm(g,["color","size","strokeWidth","absoluteStrokeWidth","className","children"]);return je.createElement("svg",Ge(Ct(Ge({ref:h},QN),{width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${XN(t)}`,o].join(" ")}),c),[...e.map(([m,_])=>je.createElement(m,_)),...Array.isArray(l)?l:[l]])});return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Yt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=Yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=Yt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Yt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=Yt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Yt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=Yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=Yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Yt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Yt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Yt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Yt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Yt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Yt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Yt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Yt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=Yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Yt("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),d6=()=>{const{t}=ts(),{login:e,isLoading:n,error:r}=Es(),[i,s]=je.useState(!1),[a,o]=je.useState({matricule:"",password:""}),l=h=>ie(void 0,null,function*(){h.preventDefault(),a.matricule&&a.password&&(yield e(a))}),c=h=>{o(d=>Ct(Ge({},d),{[h.target.name]:h.target.value}))};return n?x.jsx(Gl,{text:"Connexion en cours..."}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4",children:x.jsxs("div",{className:"w-full max-w-md",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"w-20 h-20 bg-tamboura-500 rounded-full flex items-center justify-center mx-auto mb-4",children:x.jsx(u6,{size:40,className:"text-gray-900"})}),x.jsx("h1",{className:"text-3xl font-bold text-tamboura-500 mb-2",children:t("app.name")}),x.jsx("p",{className:"text-gray-400 text-lg",children:t("app.subtitle")})]}),x.jsxs("div",{className:"card",children:[x.jsxs("form",{onSubmit:l,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"matricule",className:"block text-sm font-medium text-gray-300 mb-2",children:t("auth.matricule")}),x.jsx("input",{type:"text",id:"matricule",name:"matricule",value:a.matricule,onChange:c,placeholder:t("auth.enterMatricule"),className:"input-field",required:!0,autoComplete:"username"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:t("auth.password")}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:i?"text":"password",id:"password",name:"password",value:a.password,onChange:c,placeholder:t("auth.enterPassword"),className:"input-field pr-12",required:!0,autoComplete:"current-password"}),x.jsx("button",{type:"button",onClick:()=>s(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:i?x.jsx(n6,{size:20}):x.jsx(r6,{size:20})})]})]}),r&&x.jsx("div",{className:"bg-red-600/20 border border-red-600 rounded-lg p-3",children:x.jsx("p",{className:"text-red-400 text-sm",children:r})}),x.jsx("button",{type:"submit",disabled:n||!a.matricule||!a.password,className:"btn-primary w-full text-lg py-4 touch-manipulation",children:t("auth.login")})]}),x.jsxs("div",{className:"mt-6 p-4 bg-gray-700/50 rounded-lg",children:[x.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-2",children:"Comptes de démonstration:"}),x.jsxs("div",{className:"space-y-2 text-xs text-gray-400",children:[x.jsxs("div",{children:["Agent: ",x.jsx("span",{className:"text-white",children:"A001"})," / ",x.jsx("span",{className:"text-white",children:"demo123"})]}),x.jsxs("div",{children:["Chef: ",x.jsx("span",{className:"text-white",children:"S001"})," / ",x.jsx("span",{className:"text-white",children:"demo123"})]}),x.jsxs("div",{children:["Admin: ",x.jsx("span",{className:"text-white",children:"ADM001"})," / ",x.jsx("span",{className:"text-white",children:"demo123"})]})]})]})]}),!navigator.onLine&&x.jsx("div",{className:"mt-4 p-4 bg-orange-600/20 border border-orange-600 rounded-lg",children:x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx(Cw,{size:16,className:"text-orange-400"}),x.jsx("p",{className:"text-orange-400 text-sm",children:"Mode hors ligne - Utilisez vos identifiants précédemment sauvegardés"})]})}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx("button",{onClick:()=>{const d=(localStorage.getItem("i18nextLng")||"fr")==="fr"?"bm":"fr";localStorage.setItem("i18nextLng",d),window.location.reload()},className:"text-gray-400 hover:text-tamboura-500 text-sm",children:localStorage.getItem("i18nextLng")==="bm"?"Français":"Bambara"})})]})})},Kl=()=>{const{t}=ts(),{user:e,logout:n}=Es(),r=sd(),i=Tc(),a=[{path:"/dashboard",icon:s6,label:t("navigation.dashboard"),roles:["agent","supervisor","admin"]},{path:"/new-report",icon:jw,label:t("navigation.newReport"),roles:["agent","supervisor","admin"]},{path:"/reports",icon:da,label:t("navigation.reports"),roles:["agent","supervisor","admin"]},{path:"/administration",icon:Ew,label:t("navigation.administration"),roles:["admin"]},{path:"/profile",icon:Ow,label:t("navigation.profile"),roles:["agent","supervisor","admin"]}].filter(h=>e&&h.roles.includes(e.role)),o=h=>r.pathname===h,l=h=>{i(h)},c=()=>ie(void 0,null,function*(){yield n()});return x.jsxs(x.Fragment,{children:[x.jsxs("header",{className:"navbar safe-area-top",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("div",{className:"w-8 h-8 bg-tamboura-500 rounded-lg flex items-center justify-center",children:x.jsx("span",{className:"text-gray-900 font-bold text-sm",children:"T"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-white font-bold text-lg",children:t("app.name")}),e&&x.jsxs("p",{className:"text-gray-400 text-xs",children:[e.firstName," ",e.lastName," - ",t(`roles.${e.role}`)]})]})]}),x.jsx("button",{onClick:c,className:"p-2 text-gray-400 hover:text-white rounded-lg",children:x.jsx(a6,{size:20})})]}),x.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 safe-area-bottom z-40",children:x.jsx("div",{className:"flex items-center justify-around py-2",children:a.map(h=>{const d=h.icon,g=o(h.path);return x.jsxs("button",{onClick:()=>l(h.path),className:`flex flex-col items-center space-y-1 py-2 px-4 rounded-lg touch-manipulation ${g?"text-tamboura-500 bg-tamboura-500/10":"text-gray-400 hover:text-white"}`,children:[x.jsx(d,{size:20}),x.jsx("span",{className:"text-xs font-medium",children:h.label})]},h.path)})})}),x.jsx("div",{className:"h-20 safe-area-bottom"})]})};function Ti(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function go(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Iw=6048e5,p6=864e5;let g6={};function gd(){return g6}function Nc(t,e){var o,l,c,h,d,g,m,_;const n=gd(),r=(_=(m=(h=(c=e==null?void 0:e.weekStartsOn)!=null?c:(l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)!=null?h:n.weekStartsOn)!=null?m:(g=(d=n.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)!=null?_:0,i=Ti(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Rh(t){return Nc(t,{weekStartsOn:1})}function Tw(t){const e=Ti(t),n=e.getFullYear(),r=go(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Rh(r),s=go(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Rh(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function F2(t){const e=Ti(t);return e.setHours(0,0,0,0),e}function D2(t){const e=Ti(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function m6(t,e){const n=F2(t),r=F2(e),i=+n-D2(n),s=+r-D2(r);return Math.round((i-s)/p6)}function v6(t){const e=Tw(t),n=go(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Rh(n)}function y6(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function w6(t){if(!y6(t)&&typeof t!="number")return!1;const e=Ti(t);return!isNaN(Number(e))}function b6(t){const e=Ti(t),n=go(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const x6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_6=(t,e,n)=>{let r;const i=x6[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Al(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const S6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},N6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},k6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},L6={date:Al({formats:S6,defaultWidth:"full"}),time:Al({formats:N6,defaultWidth:"full"}),dateTime:Al({formats:k6,defaultWidth:"full"})},A6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P6=(t,e,n,r)=>A6[t];function Ki(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const j6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},E6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},I6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R6=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},F6={ordinalNumber:R6,era:Ki({values:j6,defaultWidth:"wide"}),quarter:Ki({values:E6,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ki({values:C6,defaultWidth:"wide"}),day:Ki({values:O6,defaultWidth:"wide"}),dayPeriod:Ki({values:I6,defaultWidth:"wide",formattingValues:T6,defaultFormattingWidth:"wide"})};function Ji(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?M6(o,d=>d.test(a)):D6(o,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(a.length);return{value:c,rest:h}}}function D6(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function M6(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Rw(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const B6=/^(\d+)(th|st|nd|rd)?/i,U6=/\d+/i,z6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$6={any:[/^b/i,/^(a|c)/i]},q6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W6={any:[/1/i,/2/i,/3/i,/4/i]},H6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},V6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},J6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Q6={ordinalNumber:Rw({matchPattern:B6,parsePattern:U6,valueCallback:t=>parseInt(t,10)}),era:Ji({matchPatterns:z6,defaultMatchWidth:"wide",parsePatterns:$6,defaultParseWidth:"any"}),quarter:Ji({matchPatterns:q6,defaultMatchWidth:"wide",parsePatterns:W6,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ji({matchPatterns:H6,defaultMatchWidth:"wide",parsePatterns:V6,defaultParseWidth:"any"}),day:Ji({matchPatterns:G6,defaultMatchWidth:"wide",parsePatterns:K6,defaultParseWidth:"any"}),dayPeriod:Ji({matchPatterns:J6,defaultMatchWidth:"any",parsePatterns:Y6,defaultParseWidth:"any"})},X6={code:"en-US",formatDistance:_6,formatLong:L6,formatRelative:P6,localize:F6,match:Q6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z6(t){const e=Ti(t);return m6(e,b6(e))+1}function ek(t){const e=Ti(t),n=+Rh(e)-+v6(e);return Math.round(n/Iw)+1}function Fw(t,e){var h,d,g,m,_,S,k,y;const n=Ti(t),r=n.getFullYear(),i=gd(),s=(y=(k=(m=(g=e==null?void 0:e.firstWeekContainsDate)!=null?g:(d=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)!=null?m:i.firstWeekContainsDate)!=null?k:(S=(_=i.locale)==null?void 0:_.options)==null?void 0:S.firstWeekContainsDate)!=null?y:1,a=go(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Nc(a,e),l=go(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Nc(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function tk(t,e){var o,l,c,h,d,g,m,_;const n=gd(),r=(_=(m=(h=(c=e==null?void 0:e.firstWeekContainsDate)!=null?c:(l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)!=null?h:n.firstWeekContainsDate)!=null?m:(g=(d=n.locale)==null?void 0:d.options)==null?void 0:g.firstWeekContainsDate)!=null?_:1,i=Fw(t,e),s=go(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Nc(s,e)}function nk(t,e){const n=Ti(t),r=+Nc(n,e)-+tk(n,e);return Math.round(r/Iw)+1}function $t(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ea={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return $t(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$t(n+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return $t(i,e.length)}},Xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},M2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ea.y(t,e)},Y:function(t,e,n,r){const i=Fw(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return $t(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):$t(s,e.length)},R:function(t,e){const n=Tw(t);return $t(n,e.length)},u:function(t,e){const n=t.getFullYear();return $t(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return $t(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return $t(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ea.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return $t(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=nk(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):$t(i,e.length)},I:function(t,e,n){const r=ek(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ea.d(t,e)},D:function(t,e,n){const r=Z6(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):$t(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return $t(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return $t(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return $t(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xo.noon:r===0?i=Xo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xo.evening:r>=12?i=Xo.afternoon:r>=4?i=Xo.morning:i=Xo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ea.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ea.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):$t(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ea.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ea.s(t,e)},S:function(t,e){return ea.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return U2(r);case"XXXX":case"XX":return Xa(r);case"XXXXX":case"XXX":default:return Xa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return U2(r);case"xxxx":case"xx":return Xa(r);case"xxxxx":case"xxx":default:return Xa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+B2(r,":");case"OOOO":default:return"GMT"+Xa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+B2(r,":");case"zzzz":default:return"GMT"+Xa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return $t(r,e.length)},T:function(t,e,n){const r=t.getTime();return $t(r,e.length)}};function B2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+$t(s,2)}function U2(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):Xa(t,e)}function Xa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=$t(Math.trunc(r/60),2),s=$t(r%60,2);return n+i+e+s}const z2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Dw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},rk=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return z2(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",z2(r,e)).replace("{{time}}",Dw(i,e))},ik={p:Dw,P:rk},sk=/^D+$/,ak=/^Y+$/,ok=["D","DD","YY","YYYY"];function lk(t){return sk.test(t)}function uk(t){return ak.test(t)}function ck(t,e,n){const r=fk(t,e,n);if(console.warn(r),ok.includes(t))throw new RangeError(r)}function fk(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pk=/^'([^]*?)'?$/,gk=/''/g,mk=/[a-zA-Z]/;function Ul(t,e,n){var h,d,g,m,_,S,k,y,b,N,I,D,V,$,M,Q,X,L;const r=gd(),i=(d=(h=n==null?void 0:n.locale)!=null?h:r.locale)!=null?d:X6,s=(N=(b=(S=(_=n==null?void 0:n.firstWeekContainsDate)!=null?_:(m=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)!=null?S:r.firstWeekContainsDate)!=null?b:(y=(k=r.locale)==null?void 0:k.options)==null?void 0:y.firstWeekContainsDate)!=null?N:1,a=(L=(X=($=(V=n==null?void 0:n.weekStartsOn)!=null?V:(D=(I=n==null?void 0:n.locale)==null?void 0:I.options)==null?void 0:D.weekStartsOn)!=null?$:r.weekStartsOn)!=null?X:(Q=(M=r.locale)==null?void 0:M.options)==null?void 0:Q.weekStartsOn)!=null?L:0,o=Ti(t);if(!w6(o))throw new RangeError("Invalid time value");let l=e.match(dk).map(C=>{const B=C[0];if(B==="p"||B==="P"){const K=ik[B];return K(C,i.formatLong)}return C}).join("").match(hk).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const B=C[0];if(B==="'")return{isToken:!1,value:vk(C)};if(M2[B])return{isToken:!0,value:C};if(B.match(mk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:C}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(C=>{if(!C.isToken)return C.value;const B=C.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&uk(B)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&lk(B))&&ck(B,e,String(t));const K=M2[B[0]];return K(o,B,i.localize,c)}).join("")}function vk(t){const e=t.match(pk);return e?e[1].replace(gk,"'"):t}const yk={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},wk=(t,e,n)=>{let r;const i=yk[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dans "+r:"il y a "+r:r},bk={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},xk={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_k={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sk={date:Al({formats:bk,defaultWidth:"full"}),time:Al({formats:xk,defaultWidth:"full"}),dateTime:Al({formats:_k,defaultWidth:"full"})},Nk={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},kk=(t,e,n,r)=>Nk[t],Lk={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Ak={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Pk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},jk={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Ek={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Ck=(t,e)=>{const n=Number(t),r=e==null?void 0:e.unit;if(n===0)return"0";const i=["year","week","hour","minute","second"];let s;return n===1?s=r&&i.includes(r)?"ère":"er":s="ème",n+s},Ok=["MMM","MMMM"],Ik={preprocessor:(t,e)=>t.getDate()===1||!e.some(r=>r.isToken&&Ok.includes(r.value))?e:e.map(r=>r.isToken&&r.value==="do"?{isToken:!0,value:"d"}:r),ordinalNumber:Ck,era:Ki({values:Lk,defaultWidth:"wide"}),quarter:Ki({values:Ak,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ki({values:Pk,defaultWidth:"wide"}),day:Ki({values:jk,defaultWidth:"wide"}),dayPeriod:Ki({values:Ek,defaultWidth:"wide"})},Tk=/^(\d+)(ième|ère|ème|er|e)?/i,Rk=/\d+/i,Fk={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},Dk={any:[/^av/i,/^ap/i]},Mk={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Bk={any:[/1/i,/2/i,/3/i,/4/i]},Uk={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},zk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},$k={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},qk={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Wk={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},Hk={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Vk={ordinalNumber:Rw({matchPattern:Tk,parsePattern:Rk,valueCallback:t=>parseInt(t)}),era:Ji({matchPatterns:Fk,defaultMatchWidth:"wide",parsePatterns:Dk,defaultParseWidth:"any"}),quarter:Ji({matchPatterns:Mk,defaultMatchWidth:"wide",parsePatterns:Bk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ji({matchPatterns:Uk,defaultMatchWidth:"wide",parsePatterns:zk,defaultParseWidth:"any"}),day:Ji({matchPatterns:$k,defaultMatchWidth:"wide",parsePatterns:qk,defaultParseWidth:"any"}),dayPeriod:Ji({matchPatterns:Wk,defaultMatchWidth:"any",parsePatterns:Hk,defaultParseWidth:"any"})},pm={code:"fr",formatDistance:wk,formatLong:Sk,formatRelative:kk,localize:Ik,match:Vk,options:{weekStartsOn:1,firstWeekContainsDate:4}},Gk=()=>{const{t}=ts(),{user:e}=Es(),[n,r]=je.useState(null),[i,s]=je.useState([]),[a,o]=je.useState(!0);je.useEffect(()=>{ie(void 0,null,function*(){o(!0);try{const d=yield Oi.getAllReports();let g=d;(e==null?void 0:e.role)==="agent"?g=d.filter(k=>k.agentId===e.id):(e==null?void 0:e.role)==="supervisor"&&(g=d.filter(k=>k.agentId===e.id||!0));const m=g.length,_=g.filter(k=>k.status==="pending"||k.status==="draft").length,S=g.filter(k=>k.status==="completed"||k.status==="signed").length;r({totalReports:m,pendingReports:_,completedReports:S,recentActivity:[]}),s(g.slice(0,5))}catch(d){console.error("Error loading dashboard data:",d)}finally{o(!1)}})},[e]);const l=h=>{switch(h){case"draft":return"text-yellow-400 bg-yellow-400/10";case"pending":return"text-orange-400 bg-orange-400/10";case"completed":return"text-green-400 bg-green-400/10";case"signed":return"text-blue-400 bg-blue-400/10";default:return"text-gray-400 bg-gray-400/10"}},c=()=>x.jsx(Lw,{size:16});return a?x.jsx(Gl,{text:"Chargement du tableau de bord..."}):x.jsxs("div",{className:"min-h-screen bg-gray-900",children:[x.jsx(Kl,{}),x.jsxs("main",{className:"p-4 pb-24",children:[x.jsxs("div",{className:"mb-6",children:[x.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:[t("dashboard.welcome"),e!=null&&e.firstName?`, ${e.firstName}`:""]}),x.jsx("p",{className:"text-gray-400",children:Ul(new Date,"EEEE d MMMM yyyy",{locale:pm})})]}),n&&x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[x.jsx("div",{className:"card",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-400 text-sm",children:t("dashboard.totalReports")}),x.jsx("p",{className:"text-2xl font-bold text-white",children:n.totalReports})]}),x.jsx(da,{className:"text-tamboura-500",size:24})]})}),x.jsx("div",{className:"card",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-400 text-sm",children:t("dashboard.pendingReports")}),x.jsx("p",{className:"text-2xl font-bold text-orange-400",children:n.pendingReports})]}),x.jsx(Aw,{className:"text-orange-400",size:24})]})}),x.jsx("div",{className:"card",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-400 text-sm",children:t("dashboard.completedReports")}),x.jsx("p",{className:"text-2xl font-bold text-green-400",children:n.completedReports})]}),x.jsx(Th,{className:"text-green-400",size:24})]})}),x.jsx("div",{className:"card",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-gray-400 text-sm",children:"Cette semaine"}),x.jsx("p",{className:"text-2xl font-bold text-blue-400",children:i.filter(h=>{const d=new Date(h.createdAt),g=new Date;return g.setDate(g.getDate()-7),d>g}).length})]}),x.jsx(c6,{className:"text-blue-400",size:24})]})})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Actions rapides"}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("button",{onClick:()=>window.location.href="/new-report",className:"btn-primary flex items-center justify-center space-x-2 py-4",children:[x.jsx(da,{size:20}),x.jsx("span",{children:"Nouveau constat"})]}),x.jsxs("button",{onClick:()=>window.location.href="/reports",className:"btn-secondary flex items-center justify-center space-x-2 py-4",children:[x.jsx(X1,{size:20}),x.jsx("span",{children:"Mes constats"})]})]})]}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("h3",{className:"text-lg font-semibold text-white",children:t("dashboard.recentReports")}),x.jsx("button",{onClick:()=>window.location.href="/reports",className:"text-tamboura-500 text-sm",children:t("dashboard.viewAll")})]}),i.length>0?x.jsx("div",{className:"space-y-3",children:i.map(h=>x.jsx("div",{className:"card",children:x.jsx("div",{className:"flex items-start justify-between",children:x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c(),x.jsx("span",{className:"text-white font-medium",children:t(`incidentTypes.${h.incidentType}`)}),x.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${l(h.status)}`,children:t(`status.${h.status}`)})]}),x.jsx("p",{className:"text-gray-400 text-sm mb-2 line-clamp-2",children:h.description}),x.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[x.jsxs("div",{className:"flex items-center space-x-1",children:[x.jsx(pd,{size:12}),x.jsxs("span",{children:[h.location.address.substring(0,30),"..."]})]}),x.jsxs("div",{className:"flex items-center space-x-1",children:[x.jsx(X1,{size:12}),x.jsx("span",{children:Ul(new Date(h.dateTime),"dd/MM HH:mm")})]})]})]})})},h.id))}):x.jsxs("div",{className:"card text-center py-8",children:[x.jsx(da,{className:"mx-auto text-gray-600 mb-3",size:48}),x.jsx("p",{className:"text-gray-400",children:t("dashboard.noReports")})]})]}),(e==null?void 0:e.role)!=="agent"&&x.jsxs("div",{className:"card",children:[x.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Statistiques de zone"}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-tamboura-500",children:(e==null?void 0:e.zone)||"Bamako"}),x.jsx("div",{className:"text-gray-400 text-sm",children:"Zone assignée"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-blue-400",children:(e==null?void 0:e.unit)||"Unité 1"}),x.jsx("div",{className:"text-gray-400 text-sm",children:"Unité"})]})]})]})]})]})};function qt(t){"@babel/helpers - typeof";return qt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(t)}var or=Uint8Array,Hr=Uint16Array,gm=Int32Array,md=new or([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),vd=new or([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eg=new or([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Mw=function(t,e){for(var n=new Hr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new gm(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Bw=Mw(md,2),Uw=Bw.b,tg=Bw.r;Uw[28]=258,tg[258]=28;var zw=Mw(vd,0),Kk=zw.b,$2=zw.r,ng=new Hr(32768);for(var sn=0;sn<32768;++sn){var ta=(sn&43690)>>1|(sn&21845)<<1;ta=(ta&52428)>>2|(ta&13107)<<2,ta=(ta&61680)>>4|(ta&3855)<<4,ng[sn]=((ta&65280)>>8|(ta&255)<<8)>>1}var es=function(t,e,n){for(var r=t.length,i=0,s=new Hr(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Hr(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Hr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],h=e-t[i],d=a[t[i]-1]++<<h,g=d|(1<<h)-1;d<=g;++d)o[ng[d]>>l]=c}else for(o=new Hr(r),i=0;i<r;++i)t[i]&&(o[i]=ng[a[t[i]-1]++]>>15-t[i]);return o},La=new or(288);for(var sn=0;sn<144;++sn)La[sn]=8;for(var sn=144;sn<256;++sn)La[sn]=9;for(var sn=256;sn<280;++sn)La[sn]=7;for(var sn=280;sn<288;++sn)La[sn]=8;var kc=new or(32);for(var sn=0;sn<32;++sn)kc[sn]=5;var Jk=es(La,9,0),Yk=es(La,9,1),Qk=es(kc,5,0),Xk=es(kc,5,1),Ep=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},_i=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Cp=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},mm=function(t){return(t+7)/8|0},$w=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new or(t.subarray(e,n))},Zk=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Li=function(t,e,n){var r=new Error(e||Zk[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Li),!n)throw r;return r},eL=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new or(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new or(i*3));var c=function(Fe){var We=n.length;if(Fe>We){var $e=new or(Math.max(We*2,Fe));$e.set(n),n=$e}},h=e.f||0,d=e.p||0,g=e.b||0,m=e.l,_=e.d,S=e.m,k=e.n,y=i*8;do{if(!m){h=_i(t,d,1);var b=_i(t,d+1,3);if(d+=3,b)if(b==1)m=Yk,_=Xk,S=9,k=5;else if(b==2){var V=_i(t,d,31)+257,$=_i(t,d+10,15)+4,M=V+_i(t,d+5,31)+1;d+=14;for(var Q=new or(M),X=new or(19),L=0;L<$;++L)X[eg[L]]=_i(t,d+L*3,7);d+=$*3;for(var C=Ep(X),B=(1<<C)-1,K=es(X,C,1),L=0;L<M;){var ve=K[_i(t,d,B)];d+=ve&15;var N=ve>>4;if(N<16)Q[L++]=N;else{var ge=0,ye=0;for(N==16?(ye=3+_i(t,d,3),d+=2,ge=Q[L-1]):N==17?(ye=3+_i(t,d,7),d+=3):N==18&&(ye=11+_i(t,d,127),d+=7);ye--;)Q[L++]=ge}}var H=Q.subarray(0,V),le=Q.subarray(V);S=Ep(H),k=Ep(le),m=es(H,S,1),_=es(le,k,1)}else Li(1);else{var N=mm(d)+4,I=t[N-4]|t[N-3]<<8,D=N+I;if(D>i){l&&Li(0);break}o&&c(g+I),n.set(t.subarray(N,D),g),e.b=g+=I,e.p=d=D*8,e.f=h;continue}if(d>y){l&&Li(0);break}}o&&c(g+131072);for(var he=(1<<S)-1,Ae=(1<<k)-1,j=d;;j=d){var ge=m[Cp(t,d)&he],q=ge>>4;if(d+=ge&15,d>y){l&&Li(0);break}if(ge||Li(2),q<256)n[g++]=q;else if(q==256){j=d,m=null;break}else{var G=q-254;if(q>264){var L=q-257,Z=md[L];G=_i(t,d,(1<<Z)-1)+Uw[L],d+=Z}var se=_[Cp(t,d)&Ae],me=se>>4;se||Li(3),d+=se&15;var le=Kk[me];if(me>3){var Z=vd[me];le+=Cp(t,d)&(1<<Z)-1,d+=Z}if(d>y){l&&Li(0);break}o&&c(g+131072);var we=g+G;if(g<le){var be=s-le,Me=Math.min(le,we);for(be+g<0&&Li(3);g<Me;++g)n[g]=r[be+g]}for(;g<we;++g)n[g]=n[g-le]}}e.l=m,e.p=j,e.b=g,e.f=h,m&&(h=1,e.m=S,e.d=_,e.n=k)}while(!h);return g!=n.length&&a?$w(n,0,g):n.subarray(0,g)},vs=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Fu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Op=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Ww,l:0};if(i==1){var a=new or(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(D,V){return D.f-V.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,h=1,d=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=n[n[c].f<n[d].f?c++:d++],l=n[c!=h&&n[c].f<n[d].f?c++:d++],n[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var m=new Hr(g+1),_=rg(n[h-1],m,0);if(_>e){var r=0,S=0,k=_-e,y=1<<k;for(s.sort(function(V,$){return m[$.s]-m[V.s]||V.f-$.f});r<i;++r){var b=s[r].s;if(m[b]>e)S+=y-(1<<_-m[b]),m[b]=e;else break}for(S>>=k;S>0;){var N=s[r].s;m[N]<e?S-=1<<e-m[N]++-1:++r}for(;r>=0&&S;--r){var I=s[r].s;m[I]==e&&(--m[I],++S)}_=e}return{t:new or(m),l:_}},rg=function(t,e,n){return t.s==-1?Math.max(rg(t.l,e,n+1),rg(t.r,e,n+1)):e[t.s]=n},q2=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Hr(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Du=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},qw=function(t,e,n){var r=n.length,i=mm(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},W2=function(t,e,n,r,i,s,a,o,l,c,h){vs(e,h++,n),++i[256];for(var d=Op(i,15),g=d.t,m=d.l,_=Op(s,15),S=_.t,k=_.l,y=q2(g),b=y.c,N=y.n,I=q2(S),D=I.c,V=I.n,$=new Hr(19),M=0;M<b.length;++M)++$[b[M]&31];for(var M=0;M<D.length;++M)++$[D[M]&31];for(var Q=Op($,7),X=Q.t,L=Q.l,C=19;C>4&&!X[eg[C-1]];--C);var B=c+5<<3,K=Du(i,La)+Du(s,kc)+a,ve=Du(i,g)+Du(s,S)+a+14+3*C+Du($,X)+2*$[16]+3*$[17]+7*$[18];if(l>=0&&B<=K&&B<=ve)return qw(e,h,t.subarray(l,l+c));var ge,ye,H,le;if(vs(e,h,1+(ve<K)),h+=2,ve<K){ge=es(g,m,0),ye=g,H=es(S,k,0),le=S;var he=es(X,L,0);vs(e,h,N-257),vs(e,h+5,V-1),vs(e,h+10,C-4),h+=14;for(var M=0;M<C;++M)vs(e,h+3*M,X[eg[M]]);h+=3*C;for(var Ae=[b,D],j=0;j<2;++j)for(var q=Ae[j],M=0;M<q.length;++M){var G=q[M]&31;vs(e,h,he[G]),h+=X[G],G>15&&(vs(e,h,q[M]>>5&127),h+=q[M]>>12)}}else ge=Jk,ye=La,H=Qk,le=kc;for(var M=0;M<o;++M){var Z=r[M];if(Z>255){var G=Z>>18&31;Fu(e,h,ge[G+257]),h+=ye[G+257],G>7&&(vs(e,h,Z>>23&31),h+=md[G]);var se=Z&31;Fu(e,h,H[se]),h+=le[se],se>3&&(Fu(e,h,Z>>5&8191),h+=vd[se])}else Fu(e,h,ge[Z]),h+=ye[Z]}return Fu(e,h,ge[256]),h+ye[256]},tL=new gm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ww=new or(0),nL=function(t,e,n,r,i,s){var a=s.z||t.length,o=new or(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var d=tL[e-1],g=d>>13,m=d&8191,_=(1<<n)-1,S=s.p||new Hr(32768),k=s.h||new Hr(_+1),y=Math.ceil(n/3),b=2*y,N=function(st){return(t[st]^t[st+1]<<y^t[st+2]<<b)&_},I=new gm(25e3),D=new Hr(288),V=new Hr(32),$=0,M=0,Q=s.i||0,X=0,L=s.w||0,C=0;Q+2<a;++Q){var B=N(Q),K=Q&32767,ve=k[B];if(S[K]=ve,k[B]=K,L<=Q){var ge=a-Q;if(($>7e3||X>24576)&&(ge>423||!c)){h=W2(t,l,0,I,D,V,M,X,C,Q-C,h),X=$=M=0,C=Q;for(var ye=0;ye<286;++ye)D[ye]=0;for(var ye=0;ye<30;++ye)V[ye]=0}var H=2,le=0,he=m,Ae=K-ve&32767;if(ge>2&&B==N(Q-Ae))for(var j=Math.min(g,ge)-1,q=Math.min(32767,Q),G=Math.min(258,ge);Ae<=q&&--he&&K!=ve;){if(t[Q+H]==t[Q+H-Ae]){for(var Z=0;Z<G&&t[Q+Z]==t[Q+Z-Ae];++Z);if(Z>H){if(H=Z,le=Ae,Z>j)break;for(var se=Math.min(Ae,Z-2),me=0,ye=0;ye<se;++ye){var we=Q-Ae+ye&32767,be=S[we],Me=we-be&32767;Me>me&&(me=Me,ve=we)}}}K=ve,ve=S[K],Ae+=K-ve&32767}if(le){I[X++]=268435456|tg[H]<<18|$2[le];var Fe=tg[H]&31,We=$2[le]&31;M+=md[Fe]+vd[We],++D[257+Fe],++V[We],L=Q+H,++$}else I[X++]=t[Q],++D[t[Q]]}}for(Q=Math.max(Q,L);Q<a;++Q)I[X++]=t[Q],++D[t[Q]];h=W2(t,l,c,I,D,V,M,X,C,Q-C,h),c||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=k,s.p=S,s.i=Q,s.w=L)}else{for(var Q=s.w||0;Q<a+c;Q+=65535){var $e=Q+65535;$e>=a&&(l[h/8|0]=c,$e=a),h=qw(l,h+1,t.subarray(Q,$e))}s.i=a}return $w(o,0,r+mm(h)+i)},Hw=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},rL=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new or(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return nL(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Vw=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},iL=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Hw();i.p(e.dictionary),Vw(t,2,i.d())}},sL=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Li(6,"invalid zlib data"),(t[1]>>5&1)==1&&Li(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function ig(t,e){e||(e={});var n=Hw();n.p(t);var r=rL(t,e,e.dictionary?6:2,4);return iL(r,e),Vw(r,r.length-4,n.d()),r}function aL(t,e){return eL(t.subarray(sL(t),-4),{i:2},e,e)}var oL=typeof TextDecoder!="undefined"&&new TextDecoder,lL=0;try{oL.decode(Ww,{stream:!0}),lL=1}catch(t){}var lt=function(){return typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this}();function Ip(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Kt={log:Ip,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):Ip.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):Ip(t))}};function Tp(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Za(r.response,e,n)},r.onerror=function(){Kt.error("could not download file")},r.send()}function H2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return e.status>=200&&e.status<=299}function Uf(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var nc,sg,Za=lt.saveAs||((typeof window=="undefined"?"undefined":qt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?H2(i.href)?Tp(t,e,n):Uf(i,i.target="_blank"):Uf(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Uf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(H2(t))Tp(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Uf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:qt(s)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Tp(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(lt.HTMLElement)||lt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader=="undefined"?"undefined":qt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=h:location=h,r=null},o.readAsDataURL(t)}else{var l=lt.URL||lt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Gw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rp(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=tr(n,r,i,s,e[0],7,-680876936),s=tr(s,n,r,i,e[1],12,-389564586),i=tr(i,s,n,r,e[2],17,606105819),r=tr(r,i,s,n,e[3],22,-1044525330),n=tr(n,r,i,s,e[4],7,-176418897),s=tr(s,n,r,i,e[5],12,1200080426),i=tr(i,s,n,r,e[6],17,-1473231341),r=tr(r,i,s,n,e[7],22,-45705983),n=tr(n,r,i,s,e[8],7,1770035416),s=tr(s,n,r,i,e[9],12,-1958414417),i=tr(i,s,n,r,e[10],17,-42063),r=tr(r,i,s,n,e[11],22,-1990404162),n=tr(n,r,i,s,e[12],7,1804603682),s=tr(s,n,r,i,e[13],12,-40341101),i=tr(i,s,n,r,e[14],17,-1502002290),n=nr(n,r=tr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=nr(s,n,r,i,e[6],9,-1069501632),i=nr(i,s,n,r,e[11],14,643717713),r=nr(r,i,s,n,e[0],20,-373897302),n=nr(n,r,i,s,e[5],5,-701558691),s=nr(s,n,r,i,e[10],9,38016083),i=nr(i,s,n,r,e[15],14,-660478335),r=nr(r,i,s,n,e[4],20,-405537848),n=nr(n,r,i,s,e[9],5,568446438),s=nr(s,n,r,i,e[14],9,-1019803690),i=nr(i,s,n,r,e[3],14,-187363961),r=nr(r,i,s,n,e[8],20,1163531501),n=nr(n,r,i,s,e[13],5,-1444681467),s=nr(s,n,r,i,e[2],9,-51403784),i=nr(i,s,n,r,e[7],14,1735328473),n=rr(n,r=nr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=rr(s,n,r,i,e[8],11,-2022574463),i=rr(i,s,n,r,e[11],16,1839030562),r=rr(r,i,s,n,e[14],23,-35309556),n=rr(n,r,i,s,e[1],4,-1530992060),s=rr(s,n,r,i,e[4],11,1272893353),i=rr(i,s,n,r,e[7],16,-155497632),r=rr(r,i,s,n,e[10],23,-1094730640),n=rr(n,r,i,s,e[13],4,681279174),s=rr(s,n,r,i,e[0],11,-358537222),i=rr(i,s,n,r,e[3],16,-722521979),r=rr(r,i,s,n,e[6],23,76029189),n=rr(n,r,i,s,e[9],4,-640364487),s=rr(s,n,r,i,e[12],11,-421815835),i=rr(i,s,n,r,e[15],16,530742520),n=ir(n,r=rr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ir(s,n,r,i,e[7],10,1126891415),i=ir(i,s,n,r,e[14],15,-1416354905),r=ir(r,i,s,n,e[5],21,-57434055),n=ir(n,r,i,s,e[12],6,1700485571),s=ir(s,n,r,i,e[3],10,-1894986606),i=ir(i,s,n,r,e[10],15,-1051523),r=ir(r,i,s,n,e[1],21,-2054922799),n=ir(n,r,i,s,e[8],6,1873313359),s=ir(s,n,r,i,e[15],10,-30611744),i=ir(i,s,n,r,e[6],15,-1560198380),r=ir(r,i,s,n,e[13],21,1309151649),n=ir(n,r,i,s,e[4],6,-145523070),s=ir(s,n,r,i,e[11],10,-1120210379),i=ir(i,s,n,r,e[2],15,718787259),r=ir(r,i,s,n,e[9],21,-343485551),t[0]=pa(n,t[0]),t[1]=pa(r,t[1]),t[2]=pa(i,t[2]),t[3]=pa(s,t[3])}function yd(t,e,n,r,i,s){return e=pa(pa(e,t),pa(r,s)),pa(e<<i|e>>>32-i,n)}function tr(t,e,n,r,i,s,a){return yd(e&n|~e&r,t,e,i,s,a)}function nr(t,e,n,r,i,s,a){return yd(e&r|n&~r,t,e,i,s,a)}function rr(t,e,n,r,i,s,a){return yd(e^n^r,t,e,i,s,a)}function ir(t,e,n,r,i,s,a){return yd(n^(e|~r),t,e,i,s,a)}function Kw(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Rp(r,uL(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Rp(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Rp(r,i),r}function uL(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}nc=lt.atob.bind(lt),sg=lt.btoa.bind(lt);var V2="0123456789abcdef".split("");function cL(t){for(var e="",n=0;n<4;n++)e+=V2[t>>8*n+4&15]+V2[t>>8*n&15];return e}function fL(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function ag(t){return Kw(t).map(fL).join("")}var hL=function(t){for(var e=0;e<t.length;e++)t[e]=cL(t[e]);return t.join("")}(Kw("hello"))!="5d41402abc4b2a76b9719d911017c592";function pa(t,e){if(hL){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function og(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var h=o[l];c=(c+h+a.charCodeAt(l))%256,o[l]=o[c],o[c]=h}n=t,r=o}else o=r;var d=e.length,g=0,m=0,_="";for(l=0;l<d;l++)m=(m+(h=o[g=(g+1)%256]))%256,o[g]=o[m],o[m]=h,a=o[(o[g]+o[m])%256],_+=String.fromCharCode(e.charCodeAt(l)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var G2={print:4,modify:8,copy:16,"annot-forms":32};function al(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(G2.perm!==void 0)throw new Error("Invalid permission: "+o);i+=G2[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=ag(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=og(this.encryptionKey,this.padding)}function ol(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function K2(t){if(qt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){lt.console&&Kt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Fh(t){if(!(this instanceof Fh))return new Fh(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Jw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function to(t,e,n,r,i){if(!(this instanceof to))return new to(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Jw.call(this,r,i)}function bl(t,e,n,r,i){if(!(this instanceof bl))return new bl(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Jw.call(this,r,i)}function ot(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",h=null;qt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},m={internal:{},__private__:{}};m.__private__.PubSub=K2;var _="1.3",S=m.__private__.getPdfVersion=function(){return _};m.__private__.setPdfVersion=function(p){_=p};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return k};var y=m.__private__.getPageFormat=function(p){return k[p]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},N=b.COMPAT;function I(){this.saveGraphicsState(),J(new rt(Ke,0,0,-Ke,0,Us()*Ke).toString()+" cm"),this.setFontSize(this.getFontSize()/Ke),c="n",N=b.ADVANCED}function D(){this.restoreGraphicsState(),c="S",N=b.COMPAT}var V=m.__private__.combineFontStyleAndFontWeight=function(p,P){if(p=="bold"&&P=="normal"||p=="bold"&&P==400||p=="normal"&&P=="italic"||p=="bold"&&P=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return P&&(p=P==400||P==="normal"?p==="italic"?"italic":"normal":P!=700&&P!=="bold"||p!=="normal"?(P==700?"bold":P)+""+p:"bold"),p};m.advancedAPI=function(p){var P=N===b.COMPAT;return P&&I.call(this),typeof p!="function"||(p(this),P&&D.call(this)),this},m.compatAPI=function(p){var P=N===b.ADVANCED;return P&&D.call(this),typeof p!="function"||(p(this),P&&I.call(this)),this},m.isAdvancedAPI=function(){return N===b.ADVANCED};var $,M=function(p){if(N!==b.ADVANCED)throw new Error(p+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=m.roundToPrecision=m.__private__.roundToPrecision=function(p,P){var W=e||P;if(isNaN(p)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return p.toFixed(W).replace(/0+$/,"")};$=m.hpf=m.__private__.hpf=typeof l=="number"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(p,l)}:l==="smart"?function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(p,p>-1&&p<1?16:5)}:function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(p,16)};var X=m.f2=m.__private__.f2=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f2");return Q(p,2)},L=m.__private__.f3=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.f3");return Q(p,3)},C=m.scale=m.__private__.scale=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.scale");return N===b.COMPAT?p*Ke:N===b.ADVANCED?p:void 0},B=function(p){return N===b.COMPAT?Us()-p:N===b.ADVANCED?p:void 0},K=function(p){return C(B(p))};m.__private__.setPrecision=m.setPrecision=function(p){typeof parseInt(p,10)=="number"&&(e=parseInt(p,10))};var ve,ge="00000000000000000000000000000000",ye=m.__private__.getFileId=function(){return ge},H=m.__private__.setFileId=function(p){return ge=p!==void 0&&/^[a-fA-F0-9]{32}$/.test(p)?p.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Rn=new al(h.userPermissions,h.userPassword,h.ownerPassword,ge)),ge};m.setFileId=function(p){return H(p),this},m.getFileId=function(){return ye()};var le=m.__private__.convertDateToPDFDate=function(p){var P=p.getTimezoneOffset(),W=P<0?"+":"-",ee=Math.floor(Math.abs(P/60)),fe=Math.abs(P%60),Se=[W,G(ee),"'",G(fe),"'"].join("");return["D:",p.getFullYear(),G(p.getMonth()+1),G(p.getDate()),G(p.getHours()),G(p.getMinutes()),G(p.getSeconds()),Se].join("")},he=m.__private__.convertPDFDateToDate=function(p){var P=parseInt(p.substr(2,4),10),W=parseInt(p.substr(6,2),10)-1,ee=parseInt(p.substr(8,2),10),fe=parseInt(p.substr(10,2),10),Se=parseInt(p.substr(12,2),10),Ie=parseInt(p.substr(14,2),10);return new Date(P,W,ee,fe,Se,Ie,0)},Ae=m.__private__.setCreationDate=function(p){var P;if(p===void 0&&(p=new Date),p instanceof Date)P=le(p);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(p))throw new Error("Invalid argument passed to jsPDF.setCreationDate");P=p}return ve=P},j=m.__private__.getCreationDate=function(p){var P=ve;return p==="jsDate"&&(P=he(ve)),P};m.setCreationDate=function(p){return Ae(p),this},m.getCreationDate=function(p){return j(p)};var q,G=m.__private__.padd2=function(p){return("0"+parseInt(p)).slice(-2)},Z=m.__private__.padd2Hex=function(p){return("00"+(p=p.toString())).substr(p.length)},se=0,me=[],we=[],be=0,Me=[],Fe=[],We=!1,$e=we,st=function(){se=0,be=0,we=[],me=[],Me=[],gi=pn(),Rr=pn()};m.__private__.setCustomOutputDestination=function(p){We=!0,$e=p};var xe=function(p){We||($e=p)};m.__private__.resetCustomOutputDestination=function(){We=!1,$e=we};var J=m.__private__.out=function(p){return p=p.toString(),be+=p.length+1,$e.push(p),$e},ct=m.__private__.write=function(p){return J(arguments.length===1?p.toString():Array.prototype.join.call(arguments," "))},Xe=m.__private__.getArrayBuffer=function(p){for(var P=p.length,W=new ArrayBuffer(P),ee=new Uint8Array(W);P--;)ee[P]=p.charCodeAt(P);return W},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Te};var Ue=t.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(p){return Ue=N===b.ADVANCED?p/Ke:p,this};var He,qe=m.__private__.getFontSize=m.getFontSize=function(){return N===b.COMPAT?Ue:Ue*Ke},tt=t.R2L||!1;m.__private__.setR2L=m.setR2L=function(p){return tt=p,this},m.__private__.getR2L=m.getR2L=function(){return tt};var ut,pt=m.__private__.setZoomMode=function(p){var P=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(p))He=p;else if(isNaN(p)){if(P.indexOf(p)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+p+'" is not recognized.');He=p}else He=parseInt(p,10)};m.__private__.getZoomMode=function(){return He};var xt,kt=m.__private__.setPageMode=function(p){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(p)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+p+'" is not recognized.');ut=p};m.__private__.getPageMode=function(){return ut};var Ft=m.__private__.setLayoutMode=function(p){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(p)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+p+'" is not recognized.');xt=p};m.__private__.getLayoutMode=function(){return xt},m.__private__.setDisplayMode=m.setDisplayMode=function(p,P,W){return pt(p),Ft(P),kt(W),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(p){if(Object.keys(at).indexOf(p)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[p]},m.__private__.getDocumentProperties=function(){return at},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(p){for(var P in at)at.hasOwnProperty(P)&&p[P]&&(at[P]=p[P]);return this},m.__private__.setDocumentProperty=function(p,P){if(Object.keys(at).indexOf(p)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[p]=P};var _t,Ke,En,At,cr,Bt={},Qt={},wr=[],Ot={},rs={},Dt={},Ir={},pi=null,nn=0,ft=[],Rt=new K2(m),is=t.hotfixes||[],Cn={},Yr={},Qr=[],rt=function p(P,W,ee,fe,Se,Ie){if(!(this instanceof p))return new p(P,W,ee,fe,Se,Ie);isNaN(P)&&(P=1),isNaN(W)&&(W=0),isNaN(ee)&&(ee=0),isNaN(fe)&&(fe=1),isNaN(Se)&&(Se=0),isNaN(Ie)&&(Ie=0),this._matrix=[P,W,ee,fe,Se,Ie]};Object.defineProperty(rt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(rt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(rt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(rt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(rt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(rt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(rt.prototype,"a",{get:function(){return this._matrix[0]},set:function(p){this._matrix[0]=p}}),Object.defineProperty(rt.prototype,"b",{get:function(){return this._matrix[1]},set:function(p){this._matrix[1]=p}}),Object.defineProperty(rt.prototype,"c",{get:function(){return this._matrix[2]},set:function(p){this._matrix[2]=p}}),Object.defineProperty(rt.prototype,"d",{get:function(){return this._matrix[3]},set:function(p){this._matrix[3]=p}}),Object.defineProperty(rt.prototype,"e",{get:function(){return this._matrix[4]},set:function(p){this._matrix[4]=p}}),Object.defineProperty(rt.prototype,"f",{get:function(){return this._matrix[5]},set:function(p){this._matrix[5]=p}}),Object.defineProperty(rt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rt.prototype.join=function(p){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(p)},rt.prototype.multiply=function(p){var P=p.sx*this.sx+p.shy*this.shx,W=p.sx*this.shy+p.shy*this.sy,ee=p.shx*this.sx+p.sy*this.shx,fe=p.shx*this.shy+p.sy*this.sy,Se=p.tx*this.sx+p.ty*this.shx+this.tx,Ie=p.tx*this.shy+p.ty*this.sy+this.ty;return new rt(P,W,ee,fe,Se,Ie)},rt.prototype.decompose=function(){var p=this.sx,P=this.shy,W=this.shx,ee=this.sy,fe=this.tx,Se=this.ty,Ie=Math.sqrt(p*p+P*P),Je=(p/=Ie)*W+(P/=Ie)*ee;W-=p*Je,ee-=P*Je;var nt=Math.sqrt(W*W+ee*ee);return Je/=nt,p*(ee/=nt)<P*(W/=nt)&&(p=-p,P=-P,Je=-Je,Ie=-Ie),{scale:new rt(Ie,0,0,nt,0,0),translate:new rt(1,0,0,1,fe,Se),rotate:new rt(p,P,-P,p,0,0),skew:new rt(1,0,Je,1,0,0)}},rt.prototype.toString=function(p){return this.join(" ")},rt.prototype.inversed=function(){var p=this.sx,P=this.shy,W=this.shx,ee=this.sy,fe=this.tx,Se=this.ty,Ie=1/(p*ee-P*W),Je=ee*Ie,nt=-P*Ie,yt=-W*Ie,gt=p*Ie;return new rt(Je,nt,yt,gt,-Je*fe-yt*Se,-nt*fe-gt*Se)},rt.prototype.applyToPoint=function(p){var P=p.x*this.sx+p.y*this.shx+this.tx,W=p.x*this.shy+p.y*this.sy+this.ty;return new jo(P,W)},rt.prototype.applyToRectangle=function(p){var P=this.applyToPoint(p),W=this.applyToPoint(new jo(p.x+p.w,p.y+p.h));return new ru(P.x,P.y,W.x-P.x,W.y-P.y)},rt.prototype.clone=function(){var p=this.sx,P=this.shy,W=this.shx,ee=this.sy,fe=this.tx,Se=this.ty;return new rt(p,P,W,ee,fe,Se)},m.Matrix=rt;var Tr=m.matrixMult=function(p,P){return P.multiply(p)},Xr=new rt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Xr;var Yn=function(p,P){if(!rs[p]){var W=(P instanceof to?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);P.id=W,rs[p]=W,Ot[W]=P,Rt.publish("addPattern",P)}};m.ShadingPattern=to,m.TilingPattern=bl,m.addShadingPattern=function(p,P){return M("addShadingPattern()"),Yn(p,P),this},m.beginTilingPattern=function(p){M("beginTilingPattern()"),Hc(p.boundingBox[0],p.boundingBox[1],p.boundingBox[2]-p.boundingBox[0],p.boundingBox[3]-p.boundingBox[1],p.matrix)},m.endTilingPattern=function(p,P){M("endTilingPattern()"),P.stream=Fe[q].join(`
`),Yn(p,P),Rt.publish("endTilingPattern",P),Qr.pop().restore()};var dn=m.__private__.newObject=function(){var p=pn();return fr(p,!0),p},pn=m.__private__.newObjectDeferred=function(){return se++,me[se]=function(){return be},se},fr=function(p,P){return P=typeof P=="boolean"&&P,me[p]=be,P&&J(p+" 0 obj"),p},Cs=m.__private__.newAdditionalObject=function(){var p={objId:pn(),content:""};return Me.push(p),p},gi=pn(),Rr=pn(),Fr=m.__private__.decodeColorString=function(p){var P=p.split(" ");if(P.length!==2||P[1]!=="g"&&P[1]!=="G")P.length===5&&(P[4]==="k"||P[4]==="K")&&(P=[(1-P[0])*(1-P[3]),(1-P[1])*(1-P[3]),(1-P[2])*(1-P[3]),"r"]);else{var W=parseFloat(P[0]);P=[W,W,W,"r"]}for(var ee="#",fe=0;fe<3;fe++)ee+=("0"+Math.floor(255*parseFloat(P[fe])).toString(16)).slice(-2);return ee},Dr=m.__private__.encodeColorString=function(p){var P;typeof p=="string"&&(p={ch1:p});var W=p.ch1,ee=p.ch2,fe=p.ch3,Se=p.ch4,Ie=p.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Je=new Gw(W);if(Je.ok)W=Je.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var nt=parseInt(W.substr(1),16);W=nt>>16&255,ee=nt>>8&255,fe=255&nt}if(ee===void 0||Se===void 0&&W===ee&&ee===fe)if(typeof W=="string")P=W+" "+Ie[0];else switch(p.precision){case 2:P=X(W/255)+" "+Ie[0];break;case 3:default:P=L(W/255)+" "+Ie[0]}else if(Se===void 0||qt(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return P=["1.","1.","1.",Ie[1]].join(" ");if(typeof W=="string")P=[W,ee,fe,Ie[1]].join(" ");else switch(p.precision){case 2:P=[X(W/255),X(ee/255),X(fe/255),Ie[1]].join(" ");break;default:case 3:P=[L(W/255),L(ee/255),L(fe/255),Ie[1]].join(" ")}}else if(typeof W=="string")P=[W,ee,fe,Se,Ie[2]].join(" ");else switch(p.precision){case 2:P=[X(W),X(ee),X(fe),X(Se),Ie[2]].join(" ");break;case 3:default:P=[L(W),L(ee),L(fe),L(Se),Ie[2]].join(" ")}return P},Zr=m.__private__.getFilters=function(){return a},br=m.__private__.putStream=function(p){var P=(p=p||{}).data||"",W=p.filters||Zr(),ee=p.alreadyAppliedFilters||[],fe=p.addLength1||!1,Se=P.length,Ie=p.objectId,Je=function(Xn){return Xn};if(h!==null&&Ie===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Je=Rn.encryptor(Ie,0));var nt={};W===!0&&(W=["FlateEncode"]);var yt=p.additionalKeyValues||[],gt=(nt=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(P,W):{data:P,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(nt.data.length!==0&&(yt.push({key:"Length",value:nt.data.length}),fe===!0&&yt.push({key:"Length1",value:Se})),gt.length!=0)if(gt.split("/").length-1==1)yt.push({key:"Filter",value:gt});else{yt.push({key:"Filter",value:"["+gt+"]"});for(var Et=0;Et<yt.length;Et+=1)if(yt[Et].key==="DecodeParms"){for(var un=[],gn=0;gn<nt.reverseChain.split("/").length-1;gn+=1)un.push("null");un.push(yt[Et].value),yt[Et].value="["+un.join(" ")+"]"}}J("<<");for(var kn=0;kn<yt.length;kn++)J("/"+yt[kn].key+" "+yt[kn].value);J(">>"),nt.data.length!==0&&(J("stream"),J(Je(nt.data)),J("endstream"))},ei=m.__private__.putPage=function(p){var P=p.number,W=p.data,ee=p.objId,fe=p.contentsObjId;fr(ee,!0),J("<</Type /Page"),J("/Parent "+p.rootDictionaryObjId+" 0 R"),J("/Resources "+p.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat($(p.mediaBox.bottomLeftX))+" "+parseFloat($(p.mediaBox.bottomLeftY))+" "+$(p.mediaBox.topRightX)+" "+$(p.mediaBox.topRightY)+"]"),p.cropBox!==null&&J("/CropBox ["+$(p.cropBox.bottomLeftX)+" "+$(p.cropBox.bottomLeftY)+" "+$(p.cropBox.topRightX)+" "+$(p.cropBox.topRightY)+"]"),p.bleedBox!==null&&J("/BleedBox ["+$(p.bleedBox.bottomLeftX)+" "+$(p.bleedBox.bottomLeftY)+" "+$(p.bleedBox.topRightX)+" "+$(p.bleedBox.topRightY)+"]"),p.trimBox!==null&&J("/TrimBox ["+$(p.trimBox.bottomLeftX)+" "+$(p.trimBox.bottomLeftY)+" "+$(p.trimBox.topRightX)+" "+$(p.trimBox.topRightY)+"]"),p.artBox!==null&&J("/ArtBox ["+$(p.artBox.bottomLeftX)+" "+$(p.artBox.bottomLeftY)+" "+$(p.artBox.topRightX)+" "+$(p.artBox.topRightY)+"]"),typeof p.userUnit=="number"&&p.userUnit!==1&&J("/UserUnit "+p.userUnit),Rt.publish("putPage",{objId:ee,pageContext:ft[P],pageNumber:P,page:W}),J("/Contents "+fe+" 0 R"),J(">>"),J("endobj");var Se=W.join(`
`);return N===b.ADVANCED&&(Se+=`
Q`),fr(fe,!0),br({data:Se,filters:Zr(),objectId:fe}),J("endobj"),ee},ss=m.__private__.putPages=function(){var p,P,W=[];for(p=1;p<=nn;p++)ft[p].objId=pn(),ft[p].contentsObjId=pn();for(p=1;p<=nn;p++)W.push(ei({number:p,data:Fe[p],objId:ft[p].objId,contentsObjId:ft[p].contentsObjId,mediaBox:ft[p].mediaBox,cropBox:ft[p].cropBox,bleedBox:ft[p].bleedBox,trimBox:ft[p].trimBox,artBox:ft[p].artBox,userUnit:ft[p].userUnit,rootDictionaryObjId:gi,resourceDictionaryObjId:Rr}));fr(gi,!0),J("<</Type /Pages");var ee="/Kids [";for(P=0;P<nn;P++)ee+=W[P]+" 0 R ";J(ee+"]"),J("/Count "+nn),J(">>"),J("endobj"),Rt.publish("postPutPages")},Os=function(p){Rt.publish("putFont",{font:p,out:J,newObject:dn,putStream:br}),p.isAlreadyPutted!==!0&&(p.objectNumber=dn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+ol(p.postScriptName)),J("/Subtype /Type1"),typeof p.encoding=="string"&&J("/Encoding /"+p.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Is=function(){for(var p in Bt)Bt.hasOwnProperty(p)&&(d===!1||d===!0&&g.hasOwnProperty(p))&&Os(Bt[p])},Ts=function(p){p.objectNumber=dn();var P=[];P.push({key:"Type",value:"/XObject"}),P.push({key:"Subtype",value:"/Form"}),P.push({key:"BBox",value:"["+[$(p.x),$(p.y),$(p.x+p.width),$(p.y+p.height)].join(" ")+"]"}),P.push({key:"Matrix",value:"["+p.matrix.toString()+"]"});var W=p.pages[1].join(`
`);br({data:W,additionalKeyValues:P,objectId:p.objectNumber}),J("endobj")},Rs=function(){for(var p in Cn)Cn.hasOwnProperty(p)&&Ts(Cn[p])},Ia=function(p,P){var W,ee=[],fe=1/(P-1);for(W=0;W<1;W+=fe)ee.push(W);if(ee.push(1),p[0].offset!=0){var Se={offset:0,color:p[0].color};p.unshift(Se)}if(p[p.length-1].offset!=1){var Ie={offset:1,color:p[p.length-1].color};p.push(Ie)}for(var Je="",nt=0,yt=0;yt<ee.length;yt++){for(W=ee[yt];W>p[nt+1].offset;)nt++;var gt=p[nt].offset,Et=(W-gt)/(p[nt+1].offset-gt),un=p[nt].color,gn=p[nt+1].color;Je+=Z(Math.round((1-Et)*un[0]+Et*gn[0]).toString(16))+Z(Math.round((1-Et)*un[1]+Et*gn[1]).toString(16))+Z(Math.round((1-Et)*un[2]+Et*gn[2]).toString(16))}return Je.trim()},as=function(p,P){P||(P=21);var W=dn(),ee=Ia(p.colors,P),fe=[];fe.push({key:"FunctionType",value:"0"}),fe.push({key:"Domain",value:"[0.0 1.0]"}),fe.push({key:"Size",value:"["+P+"]"}),fe.push({key:"BitsPerSample",value:"8"}),fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br({data:ee,additionalKeyValues:fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),J("endobj"),p.objectNumber=dn(),J("<< /ShadingType "+p.type),J("/ColorSpace /DeviceRGB");var Se="/Coords ["+$(parseFloat(p.coords[0]))+" "+$(parseFloat(p.coords[1]))+" ";p.type===2?Se+=$(parseFloat(p.coords[2]))+" "+$(parseFloat(p.coords[3])):Se+=$(parseFloat(p.coords[2]))+" "+$(parseFloat(p.coords[3]))+" "+$(parseFloat(p.coords[4]))+" "+$(parseFloat(p.coords[5])),J(Se+="]"),p.matrix&&J("/Matrix ["+p.matrix.toString()+"]"),J("/Function "+W+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},xo=function(p,P){var W=pn(),ee=dn();P.push({resourcesOid:W,objectOid:ee}),p.objectNumber=ee;var fe=[];fe.push({key:"Type",value:"/Pattern"}),fe.push({key:"PatternType",value:"1"}),fe.push({key:"PaintType",value:"1"}),fe.push({key:"TilingType",value:"1"}),fe.push({key:"BBox",value:"["+p.boundingBox.map($).join(" ")+"]"}),fe.push({key:"XStep",value:$(p.xStep)}),fe.push({key:"YStep",value:$(p.yStep)}),fe.push({key:"Resources",value:W+" 0 R"}),p.matrix&&fe.push({key:"Matrix",value:"["+p.matrix.toString()+"]"}),br({data:p.stream,additionalKeyValues:fe,objectId:p.objectNumber}),J("endobj")},Mr=function(p){var P;for(P in Ot)Ot.hasOwnProperty(P)&&(Ot[P]instanceof to?as(Ot[P]):Ot[P]instanceof bl&&xo(Ot[P],p))},_o=function(p){for(var P in p.objectNumber=dn(),J("<<"),p)switch(P){case"opacity":J("/ca "+X(p[P]));break;case"stroke-opacity":J("/CA "+X(p[P]))}J(">>"),J("endobj")},Fs=function(){var p;for(p in Dt)Dt.hasOwnProperty(p)&&_o(Dt[p])},os=function(){for(var p in J("/XObject <<"),Cn)Cn.hasOwnProperty(p)&&Cn[p].objectNumber>=0&&J("/"+p+" "+Cn[p].objectNumber+" 0 R");Rt.publish("putXobjectDict"),J(">>")},Jl=function(){Rn.oid=dn(),J("<<"),J("/Filter /Standard"),J("/V "+Rn.v),J("/R "+Rn.r),J("/U <"+Rn.toHexString(Rn.U)+">"),J("/O <"+Rn.toHexString(Rn.O)+">"),J("/P "+Rn.P),J(">>"),J("endobj")},So=function(){for(var p in J("/Font <<"),Bt)Bt.hasOwnProperty(p)&&(d===!1||d===!0&&g.hasOwnProperty(p))&&J("/"+p+" "+Bt[p].objectNumber+" 0 R");J(">>")},Ta=function(){if(Object.keys(Ot).length>0){for(var p in J("/Shading <<"),Ot)Ot.hasOwnProperty(p)&&Ot[p]instanceof to&&Ot[p].objectNumber>=0&&J("/"+p+" "+Ot[p].objectNumber+" 0 R");Rt.publish("putShadingPatternDict"),J(">>")}},Ds=function(p){if(Object.keys(Ot).length>0){for(var P in J("/Pattern <<"),Ot)Ot.hasOwnProperty(P)&&Ot[P]instanceof m.TilingPattern&&Ot[P].objectNumber>=0&&Ot[P].objectNumber<p&&J("/"+P+" "+Ot[P].objectNumber+" 0 R");Rt.publish("putTilingPatternDict"),J(">>")}},Yl=function(){if(Object.keys(Dt).length>0){var p;for(p in J("/ExtGState <<"),Dt)Dt.hasOwnProperty(p)&&Dt[p].objectNumber>=0&&J("/"+p+" "+Dt[p].objectNumber+" 0 R");Rt.publish("putGStateDict"),J(">>")}},R=function(p){fr(p.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),So(),Ta(),Ds(p.objectOid),Yl(),os(),J(">>"),J("endobj")},Y=function(){var p=[];Is(),Fs(),Rs(),Mr(p),Rt.publish("putResources"),p.forEach(R),R({resourcesOid:Rr,objectOid:Number.MAX_SAFE_INTEGER}),Rt.publish("postPutResources")},z=function(){Rt.publish("putAdditionalObjects");for(var p=0;p<Me.length;p++){var P=Me[p];fr(P.objId,!0),J(P.content),J("endobj")}Rt.publish("postPutAdditionalObjects")},oe=function(p){Qt[p.fontName]=Qt[p.fontName]||{},Qt[p.fontName][p.fontStyle]=p.id},ce=function(p,P,W,ee,fe){var Se={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:p,fontName:P,fontStyle:W,encoding:ee,isStandardFont:fe||!1,metadata:{}};return Rt.publish("addFont",{font:Se,instance:this}),Bt[Se.id]=Se,oe(Se),Se.id},re=function(p){for(var P=0,W=Te.length;P<W;P++){var ee=ce.call(this,p[P][0],p[P][1],p[P][2],Te[P][3],!0);d===!1&&(g[ee]=!0);var fe=p[P][0].split("-");oe({id:ee,fontName:fe[0],fontStyle:fe[1]||""})}Rt.publish("addFonts",{fonts:Bt,dictionary:Qt})},Ne=function(p){return p.foo=function(){try{return p.apply(this,arguments)}catch(ee){var P=ee.stack||"";~P.indexOf(" at ")&&(P=P.split(" at ")[1]);var W="Error in function "+P.split(`
`)[0].split("<")[0]+": "+ee.message;if(!lt.console)throw new Error(W);lt.console.error(W,ee),lt.alert&&alert(W)}},p.foo.bar=p,p.foo},Ce=function(p,P){var W,ee,fe,Se,Ie,Je,nt,yt,gt;if(fe=(P=P||{}).sourceEncoding||"Unicode",Ie=P.outputEncoding,(P.autoencode||Ie)&&Bt[_t].metadata&&Bt[_t].metadata[fe]&&Bt[_t].metadata[fe].encoding&&(Se=Bt[_t].metadata[fe].encoding,!Ie&&Bt[_t].encoding&&(Ie=Bt[_t].encoding),!Ie&&Se.codePages&&(Ie=Se.codePages[0]),typeof Ie=="string"&&(Ie=Se[Ie]),Ie)){for(nt=!1,Je=[],W=0,ee=p.length;W<ee;W++)(yt=Ie[p.charCodeAt(W)])?Je.push(String.fromCharCode(yt)):Je.push(p[W]),Je[W].charCodeAt(0)>>8&&(nt=!0);p=Je.join("")}for(W=p.length;nt===void 0&&W!==0;)p.charCodeAt(W-1)>>8&&(nt=!0),W--;if(!nt)return p;for(Je=P.noBOM?[]:[254,255],W=0,ee=p.length;W<ee;W++){if((gt=(yt=p.charCodeAt(W))>>8)>>8)throw new Error("Character at position "+W+" of string '"+p+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Je.push(gt),Je.push(yt-(gt<<8))}return String.fromCharCode.apply(void 0,Je)},Oe=m.__private__.pdfEscape=m.pdfEscape=function(p,P){return Ce(p,P).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Re=m.__private__.beginPage=function(p){Fe[++nn]=[],ft[nn]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(p[0]),topRightY:Number(p[1])}},vt(nn),xe(Fe[q])},Be=function(p,P){var W,ee,fe;switch(n=P||n,typeof p=="string"&&(W=y(p.toLowerCase()),Array.isArray(W)&&(ee=W[0],fe=W[1])),Array.isArray(p)&&(ee=p[0]*Ke,fe=p[1]*Ke),isNaN(ee)&&(ee=i[0],fe=i[1]),(ee>14400||fe>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),fe=Math.min(14400,fe)),i=[ee,fe],n.substr(0,1)){case"l":fe>ee&&(i=[fe,ee]);break;case"p":ee>fe&&(i=[fe,ee])}Re(i),Uc(Zl),J(vi),tu!==0&&J(tu+" J"),nu!==0&&J(nu+" j"),Rt.publish("addPage",{pageNumber:nn})},Ze=function(p){p>0&&p<=nn&&(Fe.splice(p,1),ft.splice(p,1),nn--,q>nn&&(q=nn),this.setPage(q))},vt=function(p){p>0&&p<=nn&&(q=p)},Pt=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Fe.length-1},jt=function(p,P,W){var ee,fe=void 0;return W=W||{},p=p!==void 0?p:Bt[_t].fontName,P=P!==void 0?P:Bt[_t].fontStyle,ee=p.toLowerCase(),Qt[ee]!==void 0&&Qt[ee][P]!==void 0?fe=Qt[ee][P]:Qt[p]!==void 0&&Qt[p][P]!==void 0?fe=Qt[p][P]:W.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+p+"', '"+P+"'. Refer to getFontList() for available fonts."),fe||W.noFallback||(fe=Qt.times[P])==null&&(fe=Qt.times.normal),fe},on=m.__private__.putInfo=function(){var p=dn(),P=function(ee){return ee};for(var W in h!==null&&(P=Rn.encryptor(p,0)),J("<<"),J("/Producer ("+Oe(P("jsPDF "+ot.version))+")"),at)at.hasOwnProperty(W)&&at[W]&&J("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+Oe(P(at[W]))+")");J("/CreationDate ("+Oe(P(ve))+")"),J(">>"),J("endobj")},Vt=m.__private__.putCatalog=function(p){var P=(p=p||{}).rootDictionaryObjId||gi;switch(dn(),J("<<"),J("/Type /Catalog"),J("/Pages "+P+" 0 R"),He||(He="fullwidth"),He){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+He;W.substr(W.length-1)==="%"&&(He=parseInt(He)/100),typeof He=="number"&&J("/OpenAction [3 0 R /XYZ null null "+X(He)+"]")}switch(xt||(xt="continuous"),xt){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ut&&J("/PageMode /"+ut),Rt.publish("putCatalog"),J(">>"),J("endobj")},Qn=m.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(se+1)),J("/Root "+se+" 0 R"),J("/Info "+(se-1)+" 0 R"),h!==null&&J("/Encrypt "+Rn.oid+" 0 R"),J("/ID [ <"+ge+"> <"+ge+"> ]"),J(">>")},ls=m.__private__.putHeader=function(){J("%PDF-"+_),J("%ºß¬à")},Ra=m.__private__.putXRef=function(){var p="0000000000";J("xref"),J("0 "+(se+1)),J("0000000000 65535 f ");for(var P=1;P<=se;P++)typeof me[P]=="function"?J((p+me[P]()).slice(-10)+" 00000 n "):me[P]!==void 0?J((p+me[P]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},mi=m.__private__.buildDocument=function(){st(),xe(we),Rt.publish("buildDocument"),ls(),ss(),z(),Y(),h!==null&&Jl(),on(),Vt();var p=be;return Ra(),Qn(),J("startxref"),J(""+p),J("%%EOF"),xe(Fe[q]),we.join(`
`)},Di=m.__private__.getBlob=function(p){return new Blob([Xe(p)],{type:"application/pdf"})},Fa=m.output=m.__private__.output=Ne(function(p,P){switch(typeof(P=P||{})=="string"?P={filename:P}:P.filename=P.filename||"generated.pdf",p){case void 0:return mi();case"save":m.save(P.filename);break;case"arraybuffer":return Xe(mi());case"blob":return Di(mi());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(Di(mi()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",ee=mi();try{W=sg(ee)}catch(gn){W=sg(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+P.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var fe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';P.pdfObjectUrl&&(fe=P.pdfObjectUrl,Se="");var Ie='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+fe+'"'+Se+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(P)+");<\/script></body></html>",Je=lt.open();return Je!==null&&Je.document.write(Ie),Je}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(P.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+P.filename+'" width="500px" height="400px" /></body></html>',yt=lt.open();if(yt!==null){yt.document.write(nt);var gt=this;yt.document.documentElement.querySelector("#pdfViewer").onload=function(){yt.document.title=P.filename,yt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(gt.output("bloburl"))}}return yt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",P)+'"></iframe></body></html>',un=lt.open();if(un!==null&&(un.document.write(Et),un.document.title=P.filename),un||typeof safari=="undefined")return un;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",P);default:return null}}),No=function(p){return Array.isArray(is)===!0&&is.indexOf(p)>-1};switch(r){case"pt":Ke=1;break;case"mm":Ke=72/25.4;break;case"cm":Ke=72/2.54;break;case"in":Ke=72;break;case"px":Ke=No("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ke=12;break;case"ex":Ke=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ke=r}var Rn=null;Ae(),H();var ko=function(p){return h!==null?Rn.encryptor(p,0):function(P){return P}},Dc=m.__private__.getPageInfo=m.getPageInfo=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ft[p].objId,pageNumber:p,pageContext:ft[p]}},ht=m.__private__.getPageInfoByObjId=function(p){if(isNaN(p)||p%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var P in ft)if(ft[P].objId===p)break;return Dc(P)},bd=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ft[q].objId,pageNumber:q,pageContext:ft[q]}};m.addPage=function(){return Be.apply(this,arguments),this},m.setPage=function(){return vt.apply(this,arguments),xe.call(this,Fe[q]),this},m.insertPage=function(p){return this.addPage(),this.movePage(q,p),this},m.movePage=function(p,P){var W,ee;if(p>P){W=Fe[p],ee=ft[p];for(var fe=p;fe>P;fe--)Fe[fe]=Fe[fe-1],ft[fe]=ft[fe-1];Fe[P]=W,ft[P]=ee,this.setPage(P)}else if(p<P){W=Fe[p],ee=ft[p];for(var Se=p;Se<P;Se++)Fe[Se]=Fe[Se+1],ft[Se]=ft[Se+1];Fe[P]=W,ft[P]=ee,this.setPage(P)}return this},m.deletePage=function(){return Ze.apply(this,arguments),this},m.__private__.text=m.text=function(p,P,W,ee,fe){var Se,Ie,Je,nt,yt,gt,Et,un,gn,kn=(ee=ee||{}).scope||this;if(typeof p=="number"&&typeof P=="number"&&(typeof W=="string"||Array.isArray(W))){var Xn=W;W=P,P=p,p=Xn}if(arguments[3]instanceof rt?(M("The transform parameter of text() with a Matrix value"),gn=fe):(Je=arguments[4],nt=arguments[5],qt(Et=arguments[3])==="object"&&Et!==null||(typeof Je=="string"&&(nt=Je,Je=null),typeof Et=="string"&&(nt=Et,Et=null),typeof Et=="number"&&(Je=Et,Et=null),ee={flags:Et,angle:Je,align:nt})),isNaN(P)||isNaN(W)||p==null)throw new Error("Invalid arguments passed to jsPDF.text");if(p.length===0)return kn;var Fn="",yi=!1,Br=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:Ma,Ui=kn.internal.scaleFactor;function Vc(Xt){return Xt=Xt.split("	").join(Array(ee.TabLen||9).join(" ")),Oe(Xt,Et)}function ou(Xt){for(var Zt,bn=Xt.concat(),On=[],ds=bn.length;ds--;)typeof(Zt=bn.shift())=="string"?On.push(Zt):Array.isArray(Xt)&&(Zt.length===1||Zt[1]===void 0&&Zt[2]===void 0)?On.push(Zt[0]):On.push([Zt[0],Zt[1],Zt[2]]);return On}function lu(Xt,Zt){var bn;if(typeof Xt=="string")bn=Zt(Xt)[0];else if(Array.isArray(Xt)){for(var On,ds,mu=Xt.concat(),Uo=[],Qc=mu.length;Qc--;)typeof(On=mu.shift())=="string"?Uo.push(Zt(On)[0]):Array.isArray(On)&&typeof On[0]=="string"&&(ds=Zt(On[0],On[1],On[2]),Uo.push([ds[0],ds[1],ds[2]]));bn=Uo}return bn}var Co=!1,uu=!0;if(typeof p=="string")Co=!0;else if(Array.isArray(p)){var cu=p.concat();Ie=[];for(var Oo,Wn=cu.length;Wn--;)(typeof(Oo=cu.shift())!="string"||Array.isArray(Oo)&&typeof Oo[0]!="string")&&(uu=!1);Co=uu}if(Co===!1)throw new Error('Type of text must be string or Array. "'+p+'" is not recognized.');typeof p=="string"&&(p=p.match(/[\r?\n]/)?p.split(/\r\n|\r|\n/g):[p]);var Io=Ue/kn.internal.scaleFactor,To=Io*(Br-1);switch(ee.baseline){case"bottom":W-=To;break;case"top":W+=Io-To;break;case"hanging":W+=Io-2*To;break;case"middle":W+=Io/2-To}if((gt=ee.maxWidth||0)>0&&(typeof p=="string"?p=kn.splitTextToSize(p,gt):Object.prototype.toString.call(p)==="[object Array]"&&(p=p.reduce(function(Xt,Zt){return Xt.concat(kn.splitTextToSize(Zt,gt))},[]))),Se={text:p,x:P,y:W,options:ee,mutex:{pdfEscape:Oe,activeFontKey:_t,fonts:Bt,activeFontSize:Ue}},Rt.publish("preProcessText",Se),p=Se.text,Je=(ee=Se.options).angle,!(gn instanceof rt)&&Je&&typeof Je=="number"){Je*=Math.PI/180,ee.rotationDirection===0&&(Je=-Je),N===b.ADVANCED&&(Je=-Je);var Ro=Math.cos(Je),fu=Math.sin(Je);gn=new rt(Ro,fu,-fu,Ro,0,0)}else Je&&Je instanceof rt&&(gn=Je);N!==b.ADVANCED||gn||(gn=Xr),(yt=ee.charSpace||Po)!==void 0&&(Fn+=$(C(yt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(un=ee.horizontalScale)!==void 0&&(Fn+=$(100*un)+` Tz
`),ee.lang;var xr=-1,Ed=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,hu=kn.internal.getCurrentPageInfo().pageContext;switch(Ed){case 0:case!1:case"fill":xr=0;break;case 1:case!0:case"stroke":xr=1;break;case 2:case"fillThenStroke":xr=2;break;case 3:case"invisible":xr=3;break;case 4:case"fillAndAddForClipping":xr=4;break;case 5:case"strokeAndAddPathForClipping":xr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":xr=6;break;case 7:case"addToPathForClipping":xr=7}var Gc=hu.usedRenderingMode!==void 0?hu.usedRenderingMode:-1;xr!==-1?Fn+=xr+` Tr
`:Gc!==-1&&(Fn+=`0 Tr
`),xr!==-1&&(hu.usedRenderingMode=xr),nt=ee.align||"left";var ti,Fo=Ue*Br,Kc=kn.internal.pageSize.getWidth(),Jc=Bt[_t];yt=ee.charSpace||Po,gt=ee.maxWidth||0,Et=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var zs=[],za=function(Xt){return kn.getStringUnitWidth(Xt,{font:Jc,charSpace:yt,fontSize:Ue,doKerning:!1})*Ue/Ui};if(Object.prototype.toString.call(p)==="[object Array]"){var _r;Ie=ou(p),nt!=="left"&&(ti=Ie.map(za));var hr,$s=0;if(nt==="right"){P-=ti[0],p=[],Wn=Ie.length;for(var cs=0;cs<Wn;cs++)cs===0?(hr=Bi(P),_r=us(W)):(hr=C($s-ti[cs]),_r=-Fo),p.push([Ie[cs],hr,_r]),$s=ti[cs]}else if(nt==="center"){P-=ti[0]/2,p=[],Wn=Ie.length;for(var fs=0;fs<Wn;fs++)fs===0?(hr=Bi(P),_r=us(W)):(hr=C(($s-ti[fs])/2),_r=-Fo),p.push([Ie[fs],hr,_r]),$s=ti[fs]}else if(nt==="left"){p=[],Wn=Ie.length;for(var Do=0;Do<Wn;Do++)p.push(Ie[Do])}else if(nt==="justify"&&Jc.encoding==="Identity-H"){p=[],Wn=Ie.length,gt=gt!==0?gt:Kc;for(var hs=0,wn=0;wn<Wn;wn++)if(_r=wn===0?us(W):-Fo,hr=wn===0?Bi(P):hs,wn<Wn-1){var du=C((gt-ti[wn])/(Ie[wn].split(" ").length-1)),dr=Ie[wn].split(" ");p.push([dr[0]+" ",hr,_r]),hs=0;for(var ni=1;ni<dr.length;ni++){var Mo=(za(dr[ni-1]+" "+dr[ni])-za(dr[ni]))*Ui+du;ni==dr.length-1?p.push([dr[ni],Mo,0]):p.push([dr[ni]+" ",Mo,0]),hs-=Mo}}else p.push([Ie[wn],hr,_r]);p.push(["",hs,0])}else{if(nt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(p=[],Wn=Ie.length,gt=gt!==0?gt:Kc,wn=0;wn<Wn;wn++)_r=wn===0?us(W):-Fo,hr=wn===0?Bi(P):0,wn<Wn-1?zs.push($(C((gt-ti[wn])/(Ie[wn].split(" ").length-1)))):zs.push(0),p.push([Ie[wn],hr,_r])}}var Yc=typeof ee.R2L=="boolean"?ee.R2L:tt;Yc===!0&&(p=lu(p,function(Xt,Zt,bn){return[Xt.split("").reverse().join(""),Zt,bn]})),Se={text:p,x:P,y:W,options:ee,mutex:{pdfEscape:Oe,activeFontKey:_t,fonts:Bt,activeFontSize:Ue}},Rt.publish("postProcessText",Se),p=Se.text,yi=Se.mutex.isHex||!1;var pu=Bt[_t].encoding;pu!=="WinAnsiEncoding"&&pu!=="StandardEncoding"||(p=lu(p,function(Xt,Zt,bn){return[Vc(Xt),Zt,bn]})),Ie=ou(p),p=[];for(var $a,qa,qs,Wa=0,Bo=1,Ha=Array.isArray(Ie[0])?Bo:Wa,Ws="",gu=function(Xt,Zt,bn){var On="";return bn instanceof rt?(bn=typeof ee.angle=="number"?Tr(bn,new rt(1,0,0,1,Xt,Zt)):Tr(new rt(1,0,0,1,Xt,Zt),bn),N===b.ADVANCED&&(bn=Tr(new rt(1,0,0,-1,0,0),bn)),On=bn.join(" ")+` Tm
`):On=$(Xt)+" "+$(Zt)+` Td
`,On},ri=0;ri<Ie.length;ri++){switch(Ws="",Ha){case Bo:qs=(yi?"<":"(")+Ie[ri][0]+(yi?">":")"),$a=parseFloat(Ie[ri][1]),qa=parseFloat(Ie[ri][2]);break;case Wa:qs=(yi?"<":"(")+Ie[ri]+(yi?">":")"),$a=Bi(P),qa=us(W)}zs!==void 0&&zs[ri]!==void 0&&(Ws=zs[ri]+` Tw
`),ri===0?p.push(Ws+gu($a,qa,gn)+qs):Ha===Wa?p.push(Ws+qs):Ha===Bo&&p.push(Ws+gu($a,qa,gn)+qs)}p=Ha===Wa?p.join(` Tj
T* `):p.join(` Tj
`),p+=` Tj
`;var ii=`BT
/`;return ii+=_t+" "+Ue+` Tf
`,ii+=$(Ue*Br)+` TL
`,ii+=Ba+`
`,ii+=Fn,ii+=p,J(ii+="ET"),g[_t]=!0,kn};var xd=m.__private__.clip=m.clip=function(p){return J(p==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return xd("evenodd")},m.__private__.discardPath=m.discardPath=function(){return J("n"),this};var Mi=m.__private__.isValidStyle=function(p){var P=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(p)!==-1&&(P=!0),P};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(p){return Mi(p)&&(c=p),this};var Mc=m.__private__.getStyle=m.getStyle=function(p){var P=c;switch(p){case"D":case"S":P="S";break;case"F":P="f";break;case"FD":case"DF":P="B";break;case"f":case"f*":case"B":case"B*":P=p}return P},Bc=m.close=function(){return J("h"),this};m.stroke=function(){return J("S"),this},m.fill=function(p){return Lo("f",p),this},m.fillEvenOdd=function(p){return Lo("f*",p),this},m.fillStroke=function(p){return Lo("B",p),this},m.fillStrokeEvenOdd=function(p){return Lo("B*",p),this};var Lo=function(p,P){qt(P)==="object"?Sd(P,p):J(p)},Ql=function(p){p===null||N===b.ADVANCED&&p===void 0||(p=Mc(p),J(p))};function _d(p,P,W,ee,fe){var Se=new bl(P||this.boundingBox,W||this.xStep,ee||this.yStep,this.gState,fe||this.matrix);Se.stream=this.stream;var Ie=p+"$$"+this.cloneIndex+++"$$";return Yn(Ie,Se),Se}var Sd=function(p,P){var W=rs[p.key],ee=Ot[W];if(ee instanceof to)J("q"),J(Nd(P)),ee.gState&&m.setGState(ee.gState),J(p.matrix.toString()+" cm"),J("/"+W+" sh"),J("Q");else if(ee instanceof bl){var fe=new rt(1,0,0,-1,0,Us());p.matrix&&(fe=fe.multiply(p.matrix||Xr),W=_d.call(ee,p.key,p.boundingBox,p.xStep,p.yStep,fe).id),J("q"),J("/Pattern cs"),J("/"+W+" scn"),ee.gState&&m.setGState(ee.gState),J(P),J("Q")}},Nd=function(p){switch(p){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xl=m.moveTo=function(p,P){return J($(C(p))+" "+$(K(P))+" m"),this},Da=m.lineTo=function(p,P){return J($(C(p))+" "+$(K(P))+" l"),this},Ms=m.curveTo=function(p,P,W,ee,fe,Se){return J([$(C(p)),$(K(P)),$(C(W)),$(K(ee)),$(C(fe)),$(K(Se)),"c"].join(" ")),this};m.__private__.line=m.line=function(p,P,W,ee,fe){if(isNaN(p)||isNaN(P)||isNaN(W)||isNaN(ee)||!Mi(fe))throw new Error("Invalid arguments passed to jsPDF.line");return N===b.COMPAT?this.lines([[W-p,ee-P]],p,P,[1,1],fe||"S"):this.lines([[W-p,ee-P]],p,P,[1,1]).stroke()},m.__private__.lines=m.lines=function(p,P,W,ee,fe,Se){var Ie,Je,nt,yt,gt,Et,un,gn,kn,Xn,Fn,yi;if(typeof p=="number"&&(yi=W,W=P,P=p,p=yi),ee=ee||[1,1],Se=Se||!1,isNaN(P)||isNaN(W)||!Array.isArray(p)||!Array.isArray(ee)||!Mi(fe)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xl(P,W),Ie=ee[0],Je=ee[1],yt=p.length,Xn=P,Fn=W,nt=0;nt<yt;nt++)(gt=p[nt]).length===2?(Xn=gt[0]*Ie+Xn,Fn=gt[1]*Je+Fn,Da(Xn,Fn)):(Et=gt[0]*Ie+Xn,un=gt[1]*Je+Fn,gn=gt[2]*Ie+Xn,kn=gt[3]*Je+Fn,Xn=gt[4]*Ie+Xn,Fn=gt[5]*Je+Fn,Ms(Et,un,gn,kn,Xn,Fn));return Se&&Bc(),Ql(fe),this},m.path=function(p){for(var P=0;P<p.length;P++){var W=p[P],ee=W.c;switch(W.op){case"m":Xl(ee[0],ee[1]);break;case"l":Da(ee[0],ee[1]);break;case"c":Ms.apply(this,ee);break;case"h":Bc()}}return this},m.__private__.rect=m.rect=function(p,P,W,ee,fe){if(isNaN(p)||isNaN(P)||isNaN(W)||isNaN(ee)||!Mi(fe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===b.COMPAT&&(ee=-ee),J([$(C(p)),$(K(P)),$(C(W)),$(C(ee)),"re"].join(" ")),Ql(fe),this},m.__private__.triangle=m.triangle=function(p,P,W,ee,fe,Se,Ie){if(isNaN(p)||isNaN(P)||isNaN(W)||isNaN(ee)||isNaN(fe)||isNaN(Se)||!Mi(Ie))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-p,ee-P],[fe-W,Se-ee],[p-fe,P-Se]],p,P,[1,1],Ie,!0),this},m.__private__.roundedRect=m.roundedRect=function(p,P,W,ee,fe,Se,Ie){if(isNaN(p)||isNaN(P)||isNaN(W)||isNaN(ee)||isNaN(fe)||isNaN(Se)||!Mi(Ie))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Je=4/3*(Math.SQRT2-1);return fe=Math.min(fe,.5*W),Se=Math.min(Se,.5*ee),this.lines([[W-2*fe,0],[fe*Je,0,fe,Se-Se*Je,fe,Se],[0,ee-2*Se],[0,Se*Je,-fe*Je,Se,-fe,Se],[2*fe-W,0],[-fe*Je,0,-fe,-Se*Je,-fe,-Se],[0,2*Se-ee],[0,-Se*Je,fe*Je,-Se,fe,-Se]],p+fe,P,[1,1],Ie,!0),this},m.__private__.ellipse=m.ellipse=function(p,P,W,ee,fe){if(isNaN(p)||isNaN(P)||isNaN(W)||isNaN(ee)||!Mi(fe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*W,Ie=4/3*(Math.SQRT2-1)*ee;return Xl(p+W,P),Ms(p+W,P-Ie,p+Se,P-ee,p,P-ee),Ms(p-Se,P-ee,p-W,P-Ie,p-W,P),Ms(p-W,P+Ie,p-Se,P+ee,p,P+ee),Ms(p+Se,P+ee,p+W,P+Ie,p+W,P),Ql(fe),this},m.__private__.circle=m.circle=function(p,P,W,ee){if(isNaN(p)||isNaN(P)||isNaN(W)||!Mi(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(p,P,W,W,ee)},m.setFont=function(p,P,W){return W&&(P=V(P,W)),_t=jt(p,P,{disableWarning:!1}),this};var kd=m.__private__.getFont=m.getFont=function(){return Bt[jt.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var p,P,W={};for(p in Qt)if(Qt.hasOwnProperty(p))for(P in W[p]=[],Qt[p])Qt[p].hasOwnProperty(P)&&W[p].push(P);return W},m.addFont=function(p,P,W,ee,fe){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?fe=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(W=V(W,ee)),fe=fe||"Identity-H",ce.call(this,p,P,W,fe)};var Ma,Zl=t.lineWidth||.200025,Ao=m.__private__.getLineWidth=m.getLineWidth=function(){return Zl},Uc=m.__private__.setLineWidth=m.setLineWidth=function(p){return Zl=p,J($(C(p))+" w"),this};m.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(p,P){if(p=p||[],P=P||0,isNaN(P)||!Array.isArray(p))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return p=p.map(function(W){return $(C(W))}).join(" "),P=$(C(P)),J("["+p+"] "+P+" d"),this};var zc=m.__private__.getLineHeight=m.getLineHeight=function(){return Ue*Ma};m.__private__.getLineHeight=m.getLineHeight=function(){return Ue*Ma};var $c=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(p){return typeof(p=p||1.15)=="number"&&(Ma=p),this},qc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ma};$c(t.lineHeight);var Bi=m.__private__.getHorizontalCoordinate=function(p){return C(p)},us=m.__private__.getVerticalCoordinate=function(p){return N===b.ADVANCED?p:ft[q].mediaBox.topRightY-ft[q].mediaBox.bottomLeftY-C(p)},Ld=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(p){return $(Bi(p))},Bs=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(p){return $(us(p))},vi=t.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Fr(vi)},m.__private__.setStrokeColor=m.setDrawColor=function(p,P,W,ee){return vi=Dr({ch1:p,ch2:P,ch3:W,ch4:ee,pdfColorType:"draw",precision:2}),J(vi),this};var eu=t.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Fr(eu)},m.__private__.setFillColor=m.setFillColor=function(p,P,W,ee){return eu=Dr({ch1:p,ch2:P,ch3:W,ch4:ee,pdfColorType:"fill",precision:2}),J(eu),this};var Ba=t.textColor||"0 g",Ad=m.__private__.getTextColor=m.getTextColor=function(){return Fr(Ba)};m.__private__.setTextColor=m.setTextColor=function(p,P,W,ee){return Ba=Dr({ch1:p,ch2:P,ch3:W,ch4:ee,pdfColorType:"text",precision:3}),this};var Po=t.charSpace,Pd=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Po||0)};m.__private__.setCharSpace=m.setCharSpace=function(p){if(isNaN(p))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Po=p,this};var tu=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(p){var P=m.CapJoinStyles[p];if(P===void 0)throw new Error("Line cap style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return tu=P,J(P+" J"),this};var nu=0;m.__private__.setLineJoin=m.setLineJoin=function(p){var P=m.CapJoinStyles[p];if(P===void 0)throw new Error("Line join style of '"+p+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nu=P,J(P+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(p){if(p=p||0,isNaN(p))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J($(C(p))+" M"),this},m.GState=Fh,m.setGState=function(p){(p=typeof p=="string"?Dt[Ir[p]]:Wc(null,p)).equals(pi)||(J("/"+p.id+" gs"),pi=p)};var Wc=function(p,P){if(!p||!Ir[p]){var W=!1;for(var ee in Dt)if(Dt.hasOwnProperty(ee)&&Dt[ee].equals(P)){W=!0;break}if(W)P=Dt[ee];else{var fe="GS"+(Object.keys(Dt).length+1).toString(10);Dt[fe]=P,P.id=fe}return p&&(Ir[p]=P.id),Rt.publish("addGState",P),P}};m.addGState=function(p,P){return Wc(p,P),this},m.saveGraphicsState=function(){return J("q"),wr.push({key:_t,size:Ue,color:Ba}),this},m.restoreGraphicsState=function(){J("Q");var p=wr.pop();return _t=p.key,Ue=p.size,Ba=p.color,pi=null,this},m.setCurrentTransformationMatrix=function(p){return J(p.toString()+" cm"),this},m.comment=function(p){return J("#"+p),this};var jo=function(p,P){var W=p||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(Se){isNaN(Se)||(W=parseFloat(Se))}});var ee=P||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(Se){isNaN(Se)||(ee=parseFloat(Se))}});var fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return fe},set:function(Se){fe=Se.toString()}}),this},ru=function(p,P,W,ee){jo.call(this,p,P),this.type="rect";var fe=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return fe},set:function(Ie){isNaN(Ie)||(fe=parseFloat(Ie))}});var Se=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Se},set:function(Ie){isNaN(Ie)||(Se=parseFloat(Ie))}}),this},iu=function(){this.page=nn,this.currentPage=q,this.pages=Fe.slice(0),this.pagesContext=ft.slice(0),this.x=En,this.y=At,this.matrix=cr,this.width=Ua(q),this.height=Us(q),this.outputDestination=$e,this.id="",this.objectNumber=-1};iu.prototype.restore=function(){nn=this.page,q=this.currentPage,ft=this.pagesContext,Fe=this.pages,En=this.x,At=this.y,cr=this.matrix,su(q,this.width),au(q,this.height),$e=this.outputDestination};var Hc=function(p,P,W,ee,fe){Qr.push(new iu),nn=q=0,Fe=[],En=p,At=P,cr=fe,Re([W,ee])},jd=function(p){if(Yr[p])Qr.pop().restore();else{var P=new iu,W="Xo"+(Object.keys(Cn).length+1).toString(10);P.id=W,Yr[p]=W,Cn[W]=P,Rt.publish("addFormObject",P),Qr.pop().restore()}};for(var Eo in m.beginFormObject=function(p,P,W,ee,fe){return Hc(p,P,W,ee,fe),this},m.endFormObject=function(p){return jd(p),this},m.doFormObject=function(p,P){var W=Cn[Yr[p]];return J("q"),J(P.toString()+" cm"),J("/"+W.id+" Do"),J("Q"),this},m.getFormObject=function(p){var P=Cn[Yr[p]];return{x:P.x,y:P.y,width:P.width,height:P.height,matrix:P.matrix}},m.save=function(p,P){return p=p||"generated.pdf",(P=P||{}).returnPromise=P.returnPromise||!1,P.returnPromise===!1?(Za(Di(mi()),p),typeof Za.unload=="function"&&lt.setTimeout&&setTimeout(Za.unload,911),this):new Promise(function(W,ee){try{var fe=Za(Di(mi()),p);typeof Za.unload=="function"&&lt.setTimeout&&setTimeout(Za.unload,911),W(fe)}catch(Se){ee(Se.message)}})},ot.API)ot.API.hasOwnProperty(Eo)&&(Eo==="events"&&ot.API.events.length?function(p,P){var W,ee,fe;for(fe=P.length-1;fe!==-1;fe--)W=P[fe][0],ee=P[fe][1],p.subscribe.apply(p,[W].concat(typeof ee=="function"?[ee]:ee))}(Rt,ot.API.events):m[Eo]=ot.API[Eo]);var Ua=m.getPageWidth=function(p){return(ft[p=p||q].mediaBox.topRightX-ft[p].mediaBox.bottomLeftX)/Ke},su=m.setPageWidth=function(p,P){ft[p].mediaBox.topRightX=P*Ke+ft[p].mediaBox.bottomLeftX},Us=m.getPageHeight=function(p){return(ft[p=p||q].mediaBox.topRightY-ft[p].mediaBox.bottomLeftY)/Ke},au=m.setPageHeight=function(p,P){ft[p].mediaBox.topRightY=P*Ke+ft[p].mediaBox.bottomLeftY};return m.internal={pdfEscape:Oe,getStyle:Mc,getFont:kd,getFontSize:qe,getCharSpace:Pd,getTextColor:Ad,getLineHeight:zc,getLineHeightFactor:qc,getLineWidth:Ao,write:ct,getHorizontalCoordinate:Bi,getVerticalCoordinate:us,getCoordinateString:Ld,getVerticalCoordinateString:Bs,collections:{},newObject:dn,newAdditionalObject:Cs,newObjectDeferred:pn,newObjectDeferredBegin:fr,getFilters:Zr,putStream:br,events:Rt,scaleFactor:Ke,pageSize:{getWidth:function(){return Ua(q)},setWidth:function(p){su(q,p)},getHeight:function(){return Us(q)},setHeight:function(p){au(q,p)}},encryptionOptions:h,encryption:Rn,getEncryptor:ko,output:Fa,getNumberOfPages:Pt,pages:Fe,out:J,f2:X,f3:L,getPageInfo:Dc,getPageInfoByObjId:ht,getCurrentPageInfo:bd,getPDFVersion:S,Point:jo,Rectangle:ru,Matrix:rt,hasHotfix:No},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Ua(q)},set:function(p){su(q,p)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Us(q)},set:function(p){au(q,p)},enumerable:!0,configurable:!0}),re.call(m,Te),_t="F1",Be(i,n),Rt.publish("initialized"),m}al.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},al.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},al.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},al.prototype.processOwnerPassword=function(t,e){return og(ag(e).substr(0,5),t)},al.prototype.encryptor=function(t,e){var n=ag(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return og(n,r)}},Fh.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||qt(t)!==qt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ot.API={events:[]},ot.version="2.5.2";var vn=ot.API,vm=1,bo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mt=function(t){return t.toFixed(2)},na=function(t){return t.toFixed(5)};vn.__acroform__={};var Or=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},J2=function(t){return t*vm},Hi=function(t){var e=new Qw,n=et.internal.getHeight(t)||0,r=et.internal.getWidth(t)||0;return e.BBox=[0,0,Number(mt(r)),Number(mt(n))],e},dL=vn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},pL=vn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},gL=vn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},_n=vn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gL(t,e-1)},Sn=vn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return dL(t,e-1)},Nn=vn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pL(t,e-1)},mL=vn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(mt(l.lowerLeft_X)),Number(mt(l.lowerLeft_Y)),Number(mt(l.upperRight_X)),Number(mt(l.upperRight_Y))]},vL=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=lg(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+mt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Hi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},lg=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var s=n,a=et.internal.getHeight(t)||0;a=a<0?-a:a;var o=et.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(L,C,B){if(L+1<i.length){var K=C+" "+i[L+1][0];return zf(K,t,B).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,h,d=zf("3",t,s).height,g=t.multiline?a-s:(a-d)/2,m=g+=2,_=0,S=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+zf(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var I=!1;if(i[N].length!==1&&k!==i[N].length-1){if((d+2)*(b+2)+2>a)continue e;y+=i[N][k],I=!0,S=N,N--}else{y=(y+=i[N][k]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var D=parseInt(N),V=l(D,y,s),$=N>=i.length-1;if(V&&!$){y+=" ",k=0;continue}if(V||$){if($)S=D;else if(t.multiline&&(d+2)*(b+2)+2>a)continue e}else{if(!t.multiline||(d+2)*(b+2)+2>a)continue e;S=D}}for(var M="",Q=_;Q<=S;Q++){var X=i[Q];if(t.multiline){if(Q===S){M+=X[k]+" ",k=(k+1)%X.length;continue}if(Q===_){M+=X[X.length-1]+" ";continue}}M+=X[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,h=zf(M,t,s).width,t.textAlign){case"right":c=o-h-2;break;case"center":c=(o-h)/2;break;case"left":default:c=2}e+=mt(c)+" "+mt(m)+` Td
`,e+="("+bo(M)+`) Tj
`,e+=-mt(c)+` 0 Td
`,m=-(s+2),h=0,_=I?S:S+1,b++,y=""}break}return r.text=e,r.fontSize=s,r},zf=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},yL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},wL=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},bL=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),qt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},xL=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ri.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(yL)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");vm=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Xw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&wL(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=mL(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=et.createDefaultAppearanceStream(o),qt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=vL(o);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var d="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var m=o.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var a in m)if(m.hasOwnProperty(a)){var _=m[a];typeof _=="function"&&(_=_.call(i,o)),d+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=m)=="function"&&(_=_.call(i,o)),d+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&bL(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Yw=vn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),qt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+bo(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fp=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+bo(r(t))+")"},Yi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Yi.prototype.toString=function(){return this.objId+" 0 R"},Yi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Yi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Yw(i,this.objId,this.scope)}):i instanceof Yi?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Qw=function(){Yi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Or(Qw,Yi);var Xw=function(){Yi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+bo(n(t))+")"}},set:function(n){t=n}})};Or(Xw,Yi);var Ri=function t(){Yi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!_n(e,3)},set:function(y){y?this.F=Sn(e,3):this.F=Nn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Dh)return;s="FieldObject"+t.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+bo(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/vm:c},set:function(y){c=y}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(y){h=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof Dh||this instanceof lo))return Fp(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof zn?g:Fp(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof zn?y:y.substr(0,1)==="("?Zo(y.substr(1,y.length-2)):Zo(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn?Zo(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof zn?"/"+y:y}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof zn?m:Fp(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof zn?y:y.substr(0,1)==="("?Zo(y.substr(1,y.length-2)):Zo(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn?Zo(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof zn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(y){y=!!y,S=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(y){_=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,1)},set:function(y){y?this.Ff=Sn(this.Ff,1):this.Ff=Nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,2)},set:function(y){y?this.Ff=Sn(this.Ff,2):this.Ff=Nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,3)},set:function(y){y?this.Ff=Sn(this.Ff,3):this.Ff=Nn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');k=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(k){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Or(Ri,Yi);var Pl=function(){Ri.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Yw(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,18)},set:function(n){n?this.Ff=Sn(this.Ff,18):this.Ff=Nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Sn(this.Ff,19):this.Ff=Nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,20)},set:function(n){n?(this.Ff=Sn(this.Ff,20),e.sort()):this.Ff=Nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,22)},set:function(n){n?this.Ff=Sn(this.Ff,22):this.Ff=Nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(n){n?this.Ff=Sn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,27)},set:function(n){n?this.Ff=Sn(this.Ff,27):this.Ff=Nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Or(Pl,Ri);var jl=function(){Pl.call(this),this.fontName="helvetica",this.combo=!1};Or(jl,Pl);var El=function(){jl.call(this),this.combo=!0};Or(El,jl);var ih=function(){El.call(this),this.edit=!0};Or(ih,El);var zn=function(){Ri.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,15)},set:function(n){n?this.Ff=Sn(this.Ff,15):this.Ff=Nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,16)},set:function(n){n?this.Ff=Sn(this.Ff,16):this.Ff=Nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,17)},set:function(n){n?this.Ff=Sn(this.Ff,17):this.Ff=Nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(n){n?this.Ff=Sn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+bo(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){qt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Or(zn,Ri);var sh=function(){zn.call(this),this.pushButton=!0};Or(sh,zn);var Cl=function(){zn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Or(Cl,zn);var Dh=function(){var t,e;Ri.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+bo(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){qt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=et.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Or(Dh,Ri),Cl.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Cl.prototype.createOption=function(t){var e=new Dh;return e.Parent=this,e.optionName=t,this.Kids.push(e),_L.call(this.scope,e),e};var ah=function(){zn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=et.CheckBox.createAppearanceStream()};Or(ah,zn);var lo=function(){Ri.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,13)},set:function(e){e?this.Ff=Sn(this.Ff,13):this.Ff=Nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,21)},set:function(e){e?this.Ff=Sn(this.Ff,21):this.Ff=Nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,23)},set:function(e){e?this.Ff=Sn(this.Ff,23):this.Ff=Nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,24)},set:function(e){e?this.Ff=Sn(this.Ff,24):this.Ff=Nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,25)},set:function(e){e?this.Ff=Sn(this.Ff,25):this.Ff=Nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,26)},set:function(e){e?this.Ff=Sn(this.Ff,26):this.Ff=Nn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Or(lo,Ri);var oh=function(){lo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!_n(this.Ff,14)},set:function(t){t?this.Ff=Sn(this.Ff,14):this.Ff=Nn(this.Ff,14)}}),this.password=!0};Or(oh,lo);var et={CheckBox:{createAppearanceStream:function(){return{N:{On:et.CheckBox.YesNormal},D:{On:et.CheckBox.YesPushDown,Off:et.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=lg(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+mt(et.internal.getWidth(t))+" "+mt(et.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+mt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Hi(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=et.internal.getHeight(t),a=et.internal.getWidth(t),o=lg(t,t.caption);return i.push("1 g"),i.push("0 0 "+mt(a)+" "+mt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+mt(a-1)+" "+mt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+mt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(et.internal.getWidth(t))+" "+mt(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Circle.YesNormal,e.D[t]=et.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=et.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+na(et.internal.getWidth(t)/2)+" "+na(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5)),a=Number((r*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+na(et.internal.getWidth(t)/2)+" "+na(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+na(et.internal.getWidth(t)/2)+" "+na(et.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=et.internal.getWidth(t)<=et.internal.getHeight(t)?et.internal.getWidth(t)/4:et.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*et.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+na(et.internal.getWidth(t)/2)+" "+na(et.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:et.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=et.RadioButton.Cross.YesNormal,e.D[t]=et.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Hi(t);e.scope=t.scope;var n=[],r=et.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+mt(et.internal.getWidth(t)-2)+" "+mt(et.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(mt(r.x1.x)+" "+mt(r.x1.y)+" m"),n.push(mt(r.x2.x)+" "+mt(r.x2.y)+" l"),n.push(mt(r.x4.x)+" "+mt(r.x4.y)+" m"),n.push(mt(r.x3.x)+" "+mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=et.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+mt(et.internal.getWidth(t))+" "+mt(et.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+mt(et.internal.getWidth(t)-2)+" "+mt(et.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(mt(n.x1.x)+" "+mt(n.x1.y)+" m"),r.push(mt(n.x2.x)+" "+mt(n.x2.y)+" l"),r.push(mt(n.x4.x)+" "+mt(n.x4.y)+" m"),r.push(mt(n.x3.x)+" "+mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Hi(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(et.internal.getWidth(t))+" "+mt(et.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};et.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=et.internal.getWidth(t),n=et.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},et.internal.getWidth=function(t){var e=0;return qt(t)==="object"&&(e=J2(t.Rect[2])),e},et.internal.getHeight=function(t){var e=0;return qt(t)==="object"&&(e=J2(t.Rect[3])),e};var _L=vn.addField=function(t){if(xL(this,t),!(t instanceof Ri))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};vn.AcroFormChoiceField=Pl,vn.AcroFormListBox=jl,vn.AcroFormComboBox=El,vn.AcroFormEditBox=ih,vn.AcroFormButton=zn,vn.AcroFormPushButton=sh,vn.AcroFormRadioButton=Cl,vn.AcroFormCheckBox=ah,vn.AcroFormTextField=lo,vn.AcroFormPasswordField=oh,vn.AcroFormAppearance=et,vn.AcroForm={ChoiceField:Pl,ListBox:jl,ComboBox:El,EditBox:ih,Button:zn,PushButton:sh,RadioButton:Cl,CheckBox:ah,TextField:lo,PasswordField:oh,Appearance:et},ot.AcroForm={ChoiceField:Pl,ListBox:jl,ComboBox:El,EditBox:ih,Button:zn,PushButton:sh,RadioButton:Cl,CheckBox:ah,TextField:lo,PasswordField:oh,Appearance:et};ot.AcroForm;function Zw(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(L,C){var B,K,ve,ge,ye,H=e;if((C=C||e)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(V(L))for(ye in n)for(ve=n[ye],B=0;B<ve.length;B+=1){for(ge=!0,K=0;K<ve[B].length;K+=1)if(ve[B][K]!==void 0&&ve[B][K]!==L[K]){ge=!1;break}if(ge===!0){H=ye;break}}else for(ye in n)for(ve=n[ye],B=0;B<ve.length;B+=1){for(ge=!0,K=0;K<ve[B].length;K+=1)if(ve[B][K]!==void 0&&ve[B][K]!==L.charCodeAt(K)){ge=!1;break}if(ge===!0){H=ye;break}}return H===e&&C!==e&&(H=C),H},i=function L(C){for(var B=this.internal.write,K=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:C.width}),ge.push({key:"Height",value:C.height}),C.colorSpace===k.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===k.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var ye="",H=0,le=C.transparency.length;H<le;H++)ye+=C.transparency[H]+" "+C.transparency[H]+" ";ge.push({key:"Mask",value:"["+ye+"]"})}C.sMask!==void 0&&ge.push({key:"SMask",value:C.objectId+1+" 0 R"});var he=C.filter!==void 0?["/"+C.filter]:void 0;if(K({data:C.data,additionalKeyValues:ge,alreadyAppliedFilters:he,objectId:C.objectId}),B("endobj"),"sMask"in C&&C.sMask!==void 0){var Ae="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,j={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:Ae,data:C.sMask};"filter"in C&&(j.filter=C.filter),L.call(this,j)}if(C.colorSpace===k.INDEXED){var q=this.internal.newObject();K({data:M(new Uint8Array(C.palette)),objectId:q}),B("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var C in L)i.call(this,L[C])},a=function(){var L,C=this.internal.collections.addImage_images,B=this.internal.write;for(var K in C)B("/I"+(L=C[K]).index,L.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var L=this.internal.collections.addImage_images;return o.call(this),L},c=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(L){return typeof t["process"+L.toUpperCase()]=="function"},d=function(L){return qt(L)==="object"&&L.nodeType===1},g=function(L,C){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var B=""+L.getAttribute("src");if(B.indexOf("data:image/")===0)return nc(unescape(B).split("base64,").pop());var K=t.loadFile(B,!0);if(K!==void 0)return K}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var ve;switch(C){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;case"JPEG":case"JPG":default:ve="image/jpeg"}return nc(L.toDataURL(ve,1).split("base64,").pop())}},m=function(L){var C=this.internal.collections.addImage_images;if(C){for(var B in C)if(L===C[B].alias)return C[B]}},_=function(L,C,B){return L||C||(L=-96,C=-96),L<0&&(L=-1*B.width*72/L/this.internal.scaleFactor),C<0&&(C=-1*B.height*72/C/this.internal.scaleFactor),L===0&&(L=C*B.width/B.height),C===0&&(C=L*B.height/B.width),[L,C]},S=function(L,C,B,K,ve,ge){var ye=_.call(this,B,K,ve),H=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,he=l.call(this);if(B=ye[0],K=ye[1],he[ve.index]=ve,ge){ge*=Math.PI/180;var Ae=Math.cos(ge),j=Math.sin(ge),q=function(Z){return Z.toFixed(4)},G=[q(Ae),q(j),q(-1*j),q(Ae),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,H(L),le(C+K),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([H(B),"0","0",H(K),"0","0","cm"].join(" "))):this.internal.write([H(B),"0","0",H(K),H(L),le(C+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(L){var C,B,K=0;if(typeof L=="string")for(B=L.length,C=0;C<B;C++)K=(K<<5)-K+L.charCodeAt(C),K|=0;else if(V(L))for(B=L.byteLength/2,C=0;C<B;C++)K=(K<<5)-K+L[C],K|=0;return K},N=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var C=!0;return L.length===0&&(C=!1),L.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(C=!1),C},I=t.__addimage__.extractImageFromDataUrl=function(L){var C=(L=L||"").split("base64,"),B=null;if(C.length===2){var K=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(K)&&(B={mimeType:K[1],charset:K[2],data:C[1]})}return B},D=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};t.__addimage__.isArrayBuffer=function(L){return D()&&L instanceof ArrayBuffer};var V=t.__addimage__.isArrayBufferView=function(L){return D()&&typeof Uint32Array!="undefined"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},$=t.__addimage__.binaryStringToUint8Array=function(L){for(var C=L.length,B=new Uint8Array(C),K=0;K<C;K++)B[K]=L.charCodeAt(K);return B},M=t.__addimage__.arrayBufferToBinaryString=function(L){for(var C="",B=V(L)?L:new Uint8Array(L),K=0;K<B.length;K+=8192)C+=String.fromCharCode.apply(null,B.subarray(K,K+8192));return C};t.addImage=function(){var L,C,B,K,ve,ge,ye,H,le;if(typeof arguments[1]=="number"?(C=e,B=arguments[1],K=arguments[2],ve=arguments[3],ge=arguments[4],ye=arguments[5],H=arguments[6],le=arguments[7]):(C=arguments[1],B=arguments[2],K=arguments[3],ve=arguments[4],ge=arguments[5],ye=arguments[6],H=arguments[7],le=arguments[8]),qt(L=arguments[0])==="object"&&!d(L)&&"imageData"in L){var he=L;L=he.imageData,C=he.format||C||e,B=he.x||B||0,K=he.y||K||0,ve=he.w||he.width||ve,ge=he.h||he.height||ge,ye=he.alias||ye,H=he.compression||H,le=he.rotation||he.angle||le}var Ae=this.internal.getFilters();if(H===void 0&&Ae.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(B)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var j=Q.call(this,L,C,ye,H);return S.call(this,B,K,ve,ge,j,le),this};var Q=function(L,C,B,K){var ve,ge,ye;if(typeof L=="string"&&r(L)===e){L=unescape(L);var H=X(L,!1);(H!==""||(H=t.loadFile(L,!0))!==void 0)&&(L=H)}if(d(L)&&(L=g(L,C)),C=r(L,C),!h(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ye=B)==null||ye.length===0)&&(B=function(le){return typeof le=="string"||V(le)?b(le):V(le.data)?b(le.data):null}(L)),(ve=m.call(this,B))||(D()&&(L instanceof Uint8Array||C==="RGBA"||(ge=L,L=$(L))),ve=this["process"+C.toUpperCase()](L,c.call(this),B,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:y.NONE}(K),ge)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},X=t.__addimage__.convertBase64ToBinaryString=function(L,C){var B;C=typeof C!="boolean"||C;var K,ve="";if(typeof L=="string"){K=(B=I(L))!==null?B.data:L;try{ve=nc(K)}catch(ge){if(C)throw N(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ve};t.getImageProperties=function(L){var C,B,K="";if(d(L)&&(L=g(L)),typeof L=="string"&&r(L)===e&&((K=X(L,!1))===""&&(K=t.loadFile(L)||""),L=K),B=r(L),!h(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!D()||L instanceof Uint8Array||(L=$(L)),!(C=this["process"+B.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=B,C}})(ot.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,h=!1,d=0;d<c.length&&!h;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var m=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(S.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+m(y(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(y(b))+") >>",S.content=s;var N=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+N,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(S.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var I=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var V=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+V+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(n,o).length;a=Math.ceil(c*h)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=t.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(S){var k=0,y=n,b="",N=0;for(k=0;k<S.length;k+=1)y[S.charCodeAt(k)]!==void 0?(N++,typeof(y=y[S.charCodeAt(k)])=="number"&&(b+=String.fromCharCode(y),y=n,N=0),k===S.length-1&&(y=n,b+=S.charAt(k-(N-1)),k-=N-1,N=0)):(y=n,b+=S.charAt(k-N),k-=N,N=0);return b};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(S,k,y){return a(S)?s(S)===!1?-1:!c(S)||!a(k)&&!a(y)||!a(y)&&o(k)||o(S)&&!a(k)||o(S)&&l(k)||o(S)&&o(k)?0:h(S)&&a(k)&&!o(k)&&a(y)&&c(y)?3:o(S)||!a(y)?1:2:-1},m=function(S){var k=0,y=0,b=0,N="",I="",D="",V=(S=S||"").split("\\s+"),$=[];for(k=0;k<V.length;k+=1){for($.push(""),y=0;y<V[k].length;y+=1)N=V[k][y],I=V[k][y-1],D=V[k][y+1],a(N)?(b=g(N,I,D),$[k]+=b!==-1?String.fromCharCode(e[N.charCodeAt(0)][b]):N):$[k]+=N;$[k]=d($[k])}return $.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var S,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(k)){var b=0;for(y=[],b=0;b<k.length;b+=1)Array.isArray(k[b])?y.push([m(k[b][0]),k[b][1],k[b][2]]):y.push([m(k[b])]);S=y}else S=m(k);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",_])}(ot.API),ot.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(S){_=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,m=0,_=0,S=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,I){return N.concat(k.splitTextToSize(I,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)m<(S=this.getStringUnitWidth(l[b],{font:d})*h)&&(m=S);return m!==0&&(_=l.length),{w:m/=g,h:Math.max((_*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,m&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,d,g){if(r.call(this),!h)throw new Error("No data for PDF table.");var m,_,S,k,y=[],b=[],N=[],I={},D={},V=[],$=[],M=(g=g||{}).autoSize||!1,Q=g.printHeaders!==!1,X=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,L=g.margins||Object.assign({width:this.getPageWidth()},e),C=typeof g.padding=="number"?g.padding:3,B=g.headerBackgroundColor||"#c8c8c8",K=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Q,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=K,this.setFontSize(X),d==null)b=y=Object.keys(h[0]),N=y.map(function(){return"left"});else if(Array.isArray(d)&&qt(d[0])==="object")for(y=d.map(function(he){return he.name}),b=d.map(function(he){return he.prompt||he.name||""}),N=d.map(function(he){return he.align||"left"}),m=0;m<d.length;m+=1)D[d[m].name]=d[m].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=y=d,N=y.map(function(){return"left"}));if(M||Array.isArray(d)&&typeof d[0]=="string")for(m=0;m<y.length;m+=1){for(I[k=y[m]]=h.map(function(he){return he[k]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(b[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=I[k],this.setFont(void 0,"normal"),S=0;S<_.length;S+=1)V.push(this.getTextDimensions(_[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[k]=Math.max.apply(null,V)+C+C,V=[]}if(Q){var ve={};for(m=0;m<y.length;m+=1)ve[y[m]]={},ve[y[m]].text=b[m],ve[y[m]].align=N[m];var ge=o.call(this,ve,D);$=y.map(function(he){return new s(l,c,D[he],ge,ve[he].text,void 0,ve[he].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var ye=d.reduce(function(he,Ae){return he[Ae.name]=Ae.align,he},{});for(m=0;m<h.length;m+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:m,data:h[m]},this);var H=o.call(this,h[m],D);for(S=0;S<y.length;S+=1){var le=h[m][y[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:m,col:S,data:le},this),a.call(this,new s(l,c,D[y[S]],H,le,m+2,ye[y[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var h=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(m){var _=l[m];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[m]-h-h)},this).map(function(m){return this.getLineHeightFactor()*m.length*d/g+h+h},this).reduce(function(m,_){return Math.max(m,_)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){h=this.internal.__cell__.tableHeaderRow[m].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,g.push(h)),h.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(_)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(ot.API);var eb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ug=Zw(tb),nb=[100,200,300,400,500,600,700,800,900],SL=Zw(nb);function cg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return eb[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof ug[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Y2(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var NL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Q2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function X2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function kL(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},NL,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=cg(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+X2(s)+"' and default family '"+r+"'.");if(a=function(l,c){if(c[l])return c[l];var h=ug[l],d=h<=ug.normal?-1:1,g=Y2(c,tb,h,d);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var h=eb[l],d=0;d<h.length;++d)if(c[h[d]])return c[h[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var h=SL[l],d=Y2(c,nb,h,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+X2(s)+"'.");return a}function Z2(t){return t.trimLeft()}function LL(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function AL(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var $f,ev,tv,Dp=["times"];(function(t){var e,n,r,i,s,a,o,l,c,h=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new l,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new a,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new a,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var d=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=j;Object.defineProperty(this,"pdf",{get:function(){return q}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(xe){G=!!xe}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(xe){Z=!!xe}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(xe){isNaN(xe)||(se=xe)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(xe){isNaN(xe)||(me=xe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(xe){var J;typeof xe=="number"?J=[xe,xe,xe,xe]:((J=new Array(4))[0]=xe[0],J[1]=xe.length>=2?xe[1]:J[0],J[2]=xe.length>=3?xe[2]:J[0],J[3]=xe.length>=4?xe[3]:J[1]),c.margin=J}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(xe){we=xe}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(xe){be=xe}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(xe){Me=xe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(xe){xe instanceof h&&(c=xe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(xe){c.path=xe}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(xe){Fe=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var J;J=g(xe),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var J=g(xe);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var We=null;function $e(xe,J){if(We===null){var ct=function(Xe){var Te=[];return Object.keys(Xe).forEach(function(Ue){Xe[Ue].forEach(function(He){var qe=null;switch(He){case"bold":qe={family:Ue,weight:"bold"};break;case"italic":qe={family:Ue,style:"italic"};break;case"bolditalic":qe={family:Ue,weight:"bold",style:"italic"};break;case"":case"normal":qe={family:Ue}}qe!==null&&(qe.ref={name:Ue,style:He},Te.push(qe))})}),Te}(xe.getFontList());We=function(Xe){for(var Te={},Ue=0;Ue<Xe.length;++Ue){var He=cg(Xe[Ue]),qe=He.family,tt=He.stretch,ut=He.style,pt=He.weight;Te[qe]=Te[qe]||{},Te[qe][tt]=Te[qe][tt]||{},Te[qe][tt][ut]=Te[qe][tt][ut]||{},Te[qe][tt][ut][pt]=He}return Te}(ct.concat(J))}return We}var st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(xe){We=null,st=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var J;if(this.ctx.font=xe,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var ct=J[1],Xe=(J[2],J[3]),Te=J[4],Ue=(J[5],J[6]),He=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(He==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:He==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var qe=function(at){var _t,Ke,En=[],At=at.trim();if(At==="")return Dp;if(At in Q2)return[Q2[At]];for(;At!=="";){switch(Ke=null,_t=(At=Z2(At)).charAt(0)){case'"':case"'":Ke=LL(At.substring(1),_t);break;default:Ke=AL(At)}if(Ke===null||(En.push(Ke[0]),(At=Z2(Ke[1]))!==""&&At.charAt(0)!==","))return Dp;At=At.replace(/^,/,"")}return En}(Ue);if(this.fontFaces){var tt=kL($e(this.pdf,this.fontFaces),qe.map(function(at){return{family:at,stretch:"normal",weight:Xe,style:ct}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var ut="";(Xe==="bold"||parseInt(Xe,10)>=700||ct==="bold")&&(ut="bold"),ct==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var pt="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<qe.length;kt++){if(this.pdf.internal.getFont(qe[kt],ut,{noFallback:!0,disableWarning:!0})!==void 0){pt=qe[kt];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(qe[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=qe[kt],ut="bold";else if(this.pdf.internal.getFont(qe[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=qe[kt],ut="normal";break}}if(pt===""){for(var Ft=0;Ft<qe.length;Ft++)if(xt[qe[Ft]]){pt=xt[qe[Ft]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,Ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,Ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};d.prototype.setLineDash=function(j){this.lineDash=j},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){I.call(this,"fill",!1)},d.prototype.stroke=function(){I.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(j,q){if(isNaN(j)||isNaN(q))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(j,q));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(j,q)},d.prototype.closePath=function(){var j=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&qt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){j=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(j.x,j.y)},d.prototype.lineTo=function(j,q){if(isNaN(j)||isNaN(q))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(j,q));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},d.prototype.quadraticCurveTo=function(j,q,G,Z){if(isNaN(G)||isNaN(Z)||isNaN(j)||isNaN(q))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new a(G,Z)),me=this.ctx.transform.applyToPoint(new a(j,q));this.path.push({type:"qct",x1:me.x,y1:me.y,x:se.x,y:se.y}),this.ctx.lastPoint=new a(se.x,se.y)},d.prototype.bezierCurveTo=function(j,q,G,Z,se,me){if(isNaN(se)||isNaN(me)||isNaN(j)||isNaN(q)||isNaN(G)||isNaN(Z))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new a(se,me)),be=this.ctx.transform.applyToPoint(new a(j,q)),Me=this.ctx.transform.applyToPoint(new a(G,Z));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:Me.x,y2:Me.y,x:we.x,y:we.y}),this.ctx.lastPoint=new a(we.x,we.y)},d.prototype.arc=function(j,q,G,Z,se,me){if(isNaN(j)||isNaN(q)||isNaN(G)||isNaN(Z)||isNaN(se))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new a(j,q));j=we.x,q=we.y;var be=this.ctx.transform.applyToPoint(new a(0,G)),Me=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(be.x-Me.x,2)+Math.pow(be.y-Me.y,2))}Math.abs(se-Z)>=2*Math.PI&&(Z=0,se=2*Math.PI),this.path.push({type:"arc",x:j,y:q,radius:G,startAngle:Z,endAngle:se,counterclockwise:me})},d.prototype.arcTo=function(j,q,G,Z,se){throw new Error("arcTo not implemented.")},d.prototype.rect=function(j,q,G,Z){if(isNaN(j)||isNaN(q)||isNaN(G)||isNaN(Z))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,q),this.lineTo(j+G,q),this.lineTo(j+G,q+Z),this.lineTo(j,q+Z),this.lineTo(j,q),this.lineTo(j+G,q),this.lineTo(j,q)},d.prototype.fillRect=function(j,q,G,Z){if(isNaN(j)||isNaN(q)||isNaN(G)||isNaN(Z))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,q,G,Z),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},d.prototype.strokeRect=function(j,q,G,Z){if(isNaN(j)||isNaN(q)||isNaN(G)||isNaN(Z))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(j,q,G,Z),this.stroke())},d.prototype.clearRect=function(j,q,G,Z){if(isNaN(j)||isNaN(q)||isNaN(G)||isNaN(Z))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,q,G,Z))},d.prototype.save=function(j){j=typeof j!="boolean"||j;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},d.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(q),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(j){var q,G,Z,se;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))q=0,G=0,Z=0,se=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(me!==null)q=parseInt(me[1]),G=parseInt(me[2]),Z=parseInt(me[3]),se=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)q=parseInt(me[1]),G=parseInt(me[2]),Z=parseInt(me[3]),se=parseFloat(me[4]);else{if(se=1,typeof j=="string"&&j.charAt(0)!=="#"){var we=new Gw(j);j=we.ok?we.toHex():"#000000"}j.length===4?(q=j.substring(1,2),q+=q,G=j.substring(2,3),G+=G,Z=j.substring(3,4),Z+=Z):(q=j.substring(1,3),G=j.substring(3,5),Z=j.substring(5,7)),q=parseInt(q,16),G=parseInt(G,16),Z=parseInt(Z,16)}}return{r:q,g:G,b:Z,a:se,style:j}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(j,q,G,Z){if(isNaN(q)||isNaN(G)||typeof j!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!m.call(this)){var se=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;C.call(this,{text:j,x:q,y:G,scale:me,angle:se,align:this.textAlign,maxWidth:Z})}},d.prototype.strokeText=function(j,q,G,Z){if(isNaN(q)||isNaN(G)||typeof j!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Z=isNaN(Z)?void 0:Z;var se=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;C.call(this,{text:j,x:q,y:G,scale:me,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:Z})}},d.prototype.measureText=function(j){if(typeof j!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,G=this.pdf.internal.scaleFactor,Z=q.internal.getFontSize(),se=q.getStringUnitWidth(j)*Z/q.internal.scaleFactor,me=function(we){var be=(we=we||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this};return new me({width:se*=Math.round(96*G/72*1e4)/1e4})},d.prototype.scale=function(j,q){if(isNaN(j)||isNaN(q))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(j,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.rotate=function(j){if(isNaN(j))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},d.prototype.translate=function(j,q){if(isNaN(j)||isNaN(q))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,j,q);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.transform=function(j,q,G,Z,se,me){if(isNaN(j)||isNaN(q)||isNaN(G)||isNaN(Z)||isNaN(se)||isNaN(me))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new l(j,q,G,Z,se,me);this.ctx.transform=this.ctx.transform.multiply(we)},d.prototype.setTransform=function(j,q,G,Z,se,me){j=isNaN(j)?1:j,q=isNaN(q)?0:q,G=isNaN(G)?0:G,Z=isNaN(Z)?1:Z,se=isNaN(se)?0:se,me=isNaN(me)?0:me,this.ctx.transform=new l(j,q,G,Z,se,me)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(j,q,G,Z,se,me,we,be,Me){var Fe=this.pdf.getImageProperties(j),We=1,$e=1,st=1,xe=1;Z!==void 0&&be!==void 0&&(st=be/Z,xe=Me/se,We=Fe.width/Z*be/Z,$e=Fe.height/se*Me/se),me===void 0&&(me=q,we=G,q=0,G=0),Z!==void 0&&be===void 0&&(be=Z,Me=se),Z===void 0&&be===void 0&&(be=Fe.width,Me=Fe.height);for(var J,ct=this.ctx.transform.decompose(),Xe=H(ct.rotate.shx),Te=new l,Ue=(Te=(Te=(Te=Te.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new o(me-q*st,we-G*xe,Z*We,se*$e)),He=k.call(this,Ue),qe=[],tt=0;tt<He.length;tt+=1)qe.indexOf(He[tt])===-1&&qe.push(He[tt]);if(N(qe),this.autoPaging)for(var ut=qe[0],pt=qe[qe.length-1],xt=ut;xt<pt+1;xt++){this.pdf.setPage(xt);var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=xt===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ke=xt===1?0:at+(xt-2)*_t;if(this.ctx.clip_path.length!==0){var En=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(J,this.posX+this.margin[3],-Ke+Ft+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=En}var At=JSON.parse(JSON.stringify(Ue));At=b([At],this.posX+this.margin[3],-Ke+Ft+this.ctx.prevPageLastElemOffset)[0];var cr=(xt>ut||xt<pt)&&S.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,_t,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",At.x,At.y,At.w,At.h,null,null,Xe),cr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,Xe)};var k=function(j,q,G){var Z=[];q=q||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":Z.push(Math.floor((j.y+se)/G)+1);break;case"arc":Z.push(Math.floor((j.y+se-j.radius)/G)+1),Z.push(Math.floor((j.y+se+j.radius)/G)+1);break;case"qct":var me=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);Z.push(Math.floor((me.y+se)/G)+1),Z.push(Math.floor((me.y+me.h+se)/G)+1);break;case"bct":var we=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);Z.push(Math.floor((we.y+se)/G)+1),Z.push(Math.floor((we.y+we.h+se)/G)+1);break;case"rect":Z.push(Math.floor((j.y+se)/G)+1),Z.push(Math.floor((j.y+j.h+se)/G)+1)}for(var be=0;be<Z.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<Z[be];)y.call(this);return Z},y=function(){var j=this.fillStyle,q=this.strokeStyle,G=this.font,Z=this.lineCap,se=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=q,this.font=G,this.lineCap=Z,this.lineWidth=se,this.lineJoin=me},b=function(j,q,G){for(var Z=0;Z<j.length;Z++)switch(j[Z].type){case"bct":j[Z].x2+=q,j[Z].y2+=G;case"qct":j[Z].x1+=q,j[Z].y1+=G;case"mt":case"lt":case"arc":default:j[Z].x+=q,j[Z].y+=G}return j},N=function(j){return j.sort(function(q,G){return q-G})},I=function(j,q){for(var G,Z,se=this.fillStyle,me=this.strokeStyle,we=this.lineCap,be=this.lineWidth,Me=Math.abs(be*this.ctx.transform.scaleX),Fe=this.lineJoin,We=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),st=[],xe=0;xe<$e.length;xe++)if($e[xe].x!==void 0)for(var J=k.call(this,$e[xe]),ct=0;ct<J.length;ct+=1)st.indexOf(J[ct])===-1&&st.push(J[ct]);for(var Xe=0;Xe<st.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<st[Xe];)y.call(this);if(N(st),this.autoPaging)for(var Te=st[0],Ue=st[st.length-1],He=Te;He<Ue+1;He++){this.pdf.setPage(He),this.fillStyle=se,this.strokeStyle=me,this.lineCap=we,this.lineWidth=Me,this.lineJoin=Fe;var qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=He===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=He===1?0:ut+(He-2)*pt;if(this.ctx.clip_path.length!==0){var kt=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(G,this.posX+this.margin[3],-xt+tt+this.ctx.prevPageLastElemOffset),D.call(this,j,!0),this.path=kt}if(Z=JSON.parse(JSON.stringify(We)),this.path=b(Z,this.posX+this.margin[3],-xt+tt+this.ctx.prevPageLastElemOffset),q===!1||He===0){var Ft=(He>Te||He<Ue)&&S.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qe,pt,null).clip().discardPath()),D.call(this,j,q),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=be}else this.lineWidth=Me,D.call(this,j,q),this.lineWidth=be;this.path=We},D=function(j,q){if((j!=="stroke"||q||!_.call(this))&&(j==="stroke"||q||!m.call(this))){for(var G,Z,se=[],me=this.path,we=0;we<me.length;we++){var be=me[we];switch(be.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:be,deltas:[],abs:[]});break;case"lt":var Me=se.length;if(me[we-1]&&!isNaN(me[we-1].x)&&(G=[be.x-me[we-1].x,be.y-me[we-1].y],Me>0)){for(;Me>=0;Me--)if(se[Me-1].close!==!0&&se[Me-1].begin!==!0){se[Me-1].deltas.push(G),se[Me-1].abs.push(be);break}}break;case"bct":G=[be.x1-me[we-1].x,be.y1-me[we-1].y,be.x2-me[we-1].x,be.y2-me[we-1].y,be.x-me[we-1].x,be.y-me[we-1].y],se[se.length-1].deltas.push(G);break;case"qct":var Fe=me[we-1].x+2/3*(be.x1-me[we-1].x),We=me[we-1].y+2/3*(be.y1-me[we-1].y),$e=be.x+2/3*(be.x1-be.x),st=be.y+2/3*(be.y1-be.y),xe=be.x,J=be.y;G=[Fe-me[we-1].x,We-me[we-1].y,$e-me[we-1].x,st-me[we-1].y,xe-me[we-1].x,J-me[we-1].y],se[se.length-1].deltas.push(G);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(be)}}Z=q?null:j==="stroke"?"stroke":"fill";for(var ct=!1,Xe=0;Xe<se.length;Xe++)if(se[Xe].arc)for(var Te=se[Xe].abs,Ue=0;Ue<Te.length;Ue++){var He=Te[Ue];He.type==="arc"?M.call(this,He.x,He.y,He.radius,He.startAngle,He.endAngle,He.counterclockwise,void 0,q,!ct):B.call(this,He.x,He.y),ct=!0}else if(se[Xe].close===!0)this.pdf.internal.out("h"),ct=!1;else if(se[Xe].begin!==!0){var qe=se[Xe].start.x,tt=se[Xe].start.y;K.call(this,se[Xe].deltas,qe,tt),ct=!0}Z&&Q.call(this,Z),q&&X.call(this)}},V=function(j){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-G;case"top":return j+q-G;case"hanging":return j+q-2*G;case"middle":return j+q/2-G;case"ideographic":return j;case"alphabetic":default:return j}},$=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(q,G){this.colorStops.push([q,G])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(j,q,G,Z,se,me,we,be,Me){for(var Fe=ge.call(this,G,Z,se,me),We=0;We<Fe.length;We++){var $e=Fe[We];We===0&&(Me?L.call(this,$e.x1+j,$e.y1+q):B.call(this,$e.x1+j,$e.y1+q)),ve.call(this,j,q,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}be?X.call(this):Q.call(this,we)},Q=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(j,q){this.pdf.internal.out(n(j)+" "+r(q)+" m")},C=function(j){var q;switch(j.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var G=this.pdf.getTextDimensions(j.text),Z=V.call(this,j.y),se=$.call(this,Z)-G.h,me=this.ctx.transform.applyToPoint(new a(j.x,Z)),we=this.ctx.transform.decompose(),be=new l;be=(be=(be=be.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var Me,Fe,We,$e=this.ctx.transform.applyToRectangle(new o(j.x,Z,G.w,G.h)),st=be.applyToRectangle(new o(j.x,se,G.w,G.h)),xe=k.call(this,st),J=[],ct=0;ct<xe.length;ct+=1)J.indexOf(xe[ct])===-1&&J.push(xe[ct]);if(N(J),this.autoPaging)for(var Xe=J[0],Te=J[J.length-1],Ue=Xe;Ue<Te+1;Ue++){this.pdf.setPage(Ue);var He=Ue===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],ut=tt-this.margin[0],pt=this.pdf.internal.pageSize.width-this.margin[1],xt=pt-this.margin[3],kt=Ue===1?0:qe+(Ue-2)*ut;if(this.ctx.clip_path.length!==0){var Ft=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Me,this.posX+this.margin[3],-1*kt+He),D.call(this,"fill",!0),this.path=Ft}var at=b([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-kt+He+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*j.scale),We=this.lineWidth,this.lineWidth=We*j.scale);var _t=this.autoPaging!=="text";if(_t||at.y+at.h<=tt){if(_t||at.y>=He&&at.x<=pt){var Ke=_t?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||pt-at.x)[0],En=b([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-kt+He+this.ctx.prevPageLastElemOffset)[0],At=_t&&(Ue>Xe||Ue<Te)&&S.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,ut,null).clip().discardPath()),this.pdf.text(Ke,En.x,En.y,{angle:j.angle,align:q,renderingMode:j.renderingMode}),At&&this.pdf.restoreGraphicsState()}}else at.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-at.y);j.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=We)}else j.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*j.scale),We=this.lineWidth,this.lineWidth=We*j.scale),this.pdf.text(j.text,me.x+this.posX,me.y+this.posY,{angle:j.angle,align:q,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=We)},B=function(j,q,G,Z){G=G||0,Z=Z||0,this.pdf.internal.out(n(j+G)+" "+r(q+Z)+" l")},K=function(j,q,G){return this.pdf.lines(j,q,G,null,null)},ve=function(j,q,G,Z,se,me,we,be){this.pdf.internal.out([e(i(G+j)),e(s(Z+q)),e(i(se+j)),e(s(me+q)),e(i(we+j)),e(s(be+q)),"c"].join(" "))},ge=function(j,q,G,Z){for(var se=2*Math.PI,me=Math.PI/2;q>G;)q-=se;var we=Math.abs(G-q);we<se&&Z&&(we=se-we);for(var be=[],Me=Z?-1:1,Fe=q;we>1e-5;){var We=Fe+Me*Math.min(we,me);be.push(ye.call(this,j,Fe,We)),we-=Math.abs(We-Fe),Fe=We}return be},ye=function(j,q,G){var Z=(G-q)/2,se=j*Math.cos(Z),me=j*Math.sin(Z),we=se,be=-me,Me=we*we+be*be,Fe=Me+we*se+be*me,We=4/3*(Math.sqrt(2*Me*Fe)-Fe)/(we*me-be*se),$e=we-We*be,st=be+We*we,xe=$e,J=-st,ct=Z+q,Xe=Math.cos(ct),Te=Math.sin(ct);return{x1:j*Math.cos(q),y1:j*Math.sin(q),x2:$e*Xe-st*Te,y2:$e*Te+st*Xe,x3:xe*Xe-J*Te,y3:xe*Te+J*Xe,x4:j*Math.cos(G),y4:j*Math.sin(G)}},H=function(j){return 180*j/Math.PI},le=function(j,q,G,Z,se,me){var we=j+.5*(G-j),be=q+.5*(Z-q),Me=se+.5*(G-se),Fe=me+.5*(Z-me),We=Math.min(j,se,we,Me),$e=Math.max(j,se,we,Me),st=Math.min(q,me,be,Fe),xe=Math.max(q,me,be,Fe);return new o(We,st,$e-We,xe-st)},he=function(j,q,G,Z,se,me,we,be){var Me,Fe,We,$e,st,xe,J,ct,Xe,Te,Ue,He,qe,tt,ut=G-j,pt=Z-q,xt=se-G,kt=me-Z,Ft=we-se,at=be-me;for(Fe=0;Fe<41;Fe++)Xe=(J=(We=j+(Me=Fe/40)*ut)+Me*((st=G+Me*xt)-We))+Me*(st+Me*(se+Me*Ft-st)-J),Te=(ct=($e=q+Me*pt)+Me*((xe=Z+Me*kt)-$e))+Me*(xe+Me*(me+Me*at-xe)-ct),Fe==0?(Ue=Xe,He=Te,qe=Xe,tt=Te):(Ue=Math.min(Ue,Xe),He=Math.min(He,Te),qe=Math.max(qe,Xe),tt=Math.max(tt,Te));return new o(Math.round(Ue),Math.round(He),Math.round(qe-Ue),Math.round(tt-He))},Ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,q,G=(j=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:q}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(ot.API),function(t){var e=function(s){var a,o,l,c,h,d,g,m,_,S;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(h=((h=((h=((h=(h-(S=h%85))/85)-(_=h%85))/85)-(m=h%85))/85)-(g=h%85))/85)%85,o.push(d+33,g+33,m+33,_+33,S+33)):o.push(122);return function(k,y){for(var b=y;b>0;b--)k.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,c,h,d=String,g="length",m=255,_="charCodeAt",S="slice",k="replace";for(s[S](-2),s=s[S](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),l=[],c=0,h=(s+=a="uuuuu"[S](s[g]%5||5))[g];h>c;c+=5)o=52200625*(s[_](c)-33)+614125*(s[_](c+1)-33)+7225*(s[_](c+2)-33)+85*(s[_](c+3)-33)+(s[_](c+4)-33),l.push(m&o>>24,m&o>>16,m&o>>8,m&o);return function(y,b){for(var N=b;N>0;N--)y.pop()}(l,a[g]),d.fromCharCode.apply(d,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=ig(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ot.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,h){var d=new XMLHttpRequest,g=0,m=function(_){var S=_.length,k=[],y=String.fromCharCode;for(g=0;g<S;g+=1)k.push(y(255&_.charCodeAt(g)));return k.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?h(m(this.responseText)):h(void 0)}),d.send(null),c&&d.status===200)return m(d.responseText)}(i,s,a)}catch(l){}return o}(e,n,r)},t.loadImageFile=t.loadFile}(ot.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):ka(()=>import("./html2canvas.esm-CiaFdv3w.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):ka(()=>import("./purify.es-BtiL3Rle.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=qt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,h){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)h!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var m=c[g],_=m.src.find(function(S){return S.format==="truetype"});_&&l.addFont(_.url,m.ref.name,m.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,h){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,h).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(c,a,o);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ot.getPageSize=function(a,o,l){if(qt(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var h,d=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var m,_=0,S=0;if(g.hasOwnProperty(d))_=g[d][1]/h,S=g[d][0]/h;else try{_=l[1],S=l[0]}catch(k){throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",S>_&&(m=S,S=_,_=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",_>S&&(m=S,S=_,_=m)}return{width:S,height:_,unit:o,k:h,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(cg):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(ot.API),ot.API.addJS=function(t){return tv=t,this.internal.events.subscribe("postPutResources",function(){$f=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($f+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ev=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$f!==void 0&&ev!==void 0&&this.internal.out("/Names <</JavaScript "+$f+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(s=0;s<c;s++){var d=n.internal.newObject();h.push(d);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<h.length;s++)n.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,h=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var g,m=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,S={width:0,height:0,numcomponents:1},k=4;k<_;k+=2){if(k+=m,e.indexOf(d.charCodeAt(k+1))!==-1){g=256*d.charCodeAt(k+5)+d.charCodeAt(k+6),S={width:256*d.charCodeAt(k+7)+d.charCodeAt(k+8),height:g,numcomponents:d.charCodeAt(k+9)};break}m=256*d.charCodeAt(k+2)+d.charCodeAt(k+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return h}}(ot.API);var el,qf,nv,rv,iv,PL=function(){var t,e,n;function r(s){var a,o,l,c,h,d,g,m,_,S,k,y,b,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(a=this.readUInt32(),_=function(){var I,D;for(D=[],I=0;I<4;++I)D.push(String.fromCharCode(this.data[this.pos++]));return D}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*h/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,a-=4),s=(d!=null?d.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((S=l-this.transparency.indexed.length)>0)for(b=0;0<=S?b<S:b>S;0<=S?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":g=(k=this.read(a)).indexOf(0),m=String.fromCharCode.apply(String,k.slice(0,g)),this.text[m]=String.fromCharCode.apply(String,k.slice(g+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(d,g,m,_){var S,k,y,b,N,I,D,V,$,M,Q,X,L,C,B,K,ve,ge,ye,H,le,he=Math.ceil((c.width-d)/m),Ae=Math.ceil((c.height-g)/_),j=c.width==he&&c.height==Ae;for(C=a*he,X=j?o:new Uint8Array(C*Ae),I=s.length,L=0,k=0;L<Ae&&l<I;){switch(s[l++]){case 0:for(b=ve=0;ve<C;b=ve+=1)X[k++]=s[l++];break;case 1:for(b=ge=0;ge<C;b=ge+=1)S=s[l++],N=b<a?0:X[k-a],X[k++]=(S+N)%256;break;case 2:for(b=ye=0;ye<C;b=ye+=1)S=s[l++],y=(b-b%a)/a,B=L&&X[(L-1)*C+y*a+b%a],X[k++]=(B+S)%256;break;case 3:for(b=H=0;H<C;b=H+=1)S=s[l++],y=(b-b%a)/a,N=b<a?0:X[k-a],B=L&&X[(L-1)*C+y*a+b%a],X[k++]=(S+Math.floor((N+B)/2))%256;break;case 4:for(b=le=0;le<C;b=le+=1)S=s[l++],y=(b-b%a)/a,N=b<a?0:X[k-a],L===0?B=K=0:(B=X[(L-1)*C+y*a+b%a],K=y&&X[(L-1)*C+(y-1)*a+b%a]),D=N+B-K,V=Math.abs(D-N),M=Math.abs(D-B),Q=Math.abs(D-K),$=V<=M&&V<=Q?N:M<=Q?B:K,X[k++]=(S+$)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!j){var q=((g+L*_)*c.width+d)*a,G=L*C;for(b=0;b<he;b+=1){for(var Z=0;Z<a;Z+=1)o[q++]=X[G++];q+=(m-1)*a}}L++}}return s=aL(s),c.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,c,h,d,g,m;for(o=this.palette,h=this.transparency.indexed||[],c=new Uint8Array((h.length||0)+o.length),l=0,s=0,a=d=0,g=o.length;d<g;a=d+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(m=h[s++])!=null?m:255;return c},r.prototype.copyToImageData=function(s,a){var o,l,c,h,d,g,m,_,S,k,y;if(l=this.colors,S=null,o=this.hasAlphaChannel,this.palette.length&&(S=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),_=(c=s.data||s).length,d=S||a,h=g=0,l===1)for(;h<_;)m=S?4*a[h/4]:g,k=d[m++],c[h++]=k,c[h++]=k,c[h++]=k,c[h++]=o?d[m++]:255,g=m;else for(;h<_;)m=S?4*a[h/4]:g,c[h++]=d[m++],c[h++]=d[m++],c[h++]=d[m++],c[h++]=o?d[m++]:255,g=m},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{e=lt.document.createElement("canvas"),n=e.getContext("2d")}catch(s){return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,c,h,d,g,m;if(this.animation){for(m=[],o=h=0,d=(g=this.animation.frames).length;h<d;o=++h)a=g[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,m.push(a.image=t(l));return m}},r.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,c,h,d,g=this;return o=0,d=this.animation,c=d.numFrames,l=d.frames,h=d.numPlays,(a=function(){var m,_;if(m=o++%c,_=l[m],g.renderFrame(s,m),c>1&&o/c<h)return g.animation._timeout=setTimeout(a,_.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function jL(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,h=[],d=0,g=null,m=0,_=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],!(1&S)&&(g=null),m=S>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,I=t[e++],D=I>>6&1,V=1<<(7&I)+1,$=o,M=l,Q=!1;I>>7&&(Q=!0,$=e,M=V,e+=3*V);var X=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}h.push({x:k,y,width:b,height:N,has_local_palette:Q,palette_offset:$,palette_size:M,data_offset:X,data_length:e-X,transparent_index:g,interlaced:!!D,delay:d,disposal:m});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return _},this.frameInfo=function(C){if(C<0||C>=h.length)throw new Error("Frame index out of range.");return h[C]},this.decodeAndBlitFrameBGRA=function(C,B){var K=this.frameInfo(C),ve=K.width*K.height,ge=new Uint8Array(ve);sv(t,K.data_offset,ge,ve);var ye=K.palette_offset,H=K.transparent_index;H===null&&(H=256);var le=K.width,he=n-le,Ae=le,j=4*(K.y*n+K.x),q=4*((K.y+K.height)*n+K.x),G=j,Z=4*he;K.interlaced===!0&&(Z+=4*n*7);for(var se=8,me=0,we=ge.length;me<we;++me){var be=ge[me];if(Ae===0&&(Ae=le,(G+=Z)>=q&&(Z=4*he+4*n*(se-1),G=j+(le+he)*(se<<1),se>>=1)),be===H)G+=4;else{var Me=t[ye+3*be],Fe=t[ye+3*be+1],We=t[ye+3*be+2];B[G++]=We,B[G++]=Fe,B[G++]=Me,B[G++]=255}--Ae}},this.decodeAndBlitFrameRGBA=function(C,B){var K=this.frameInfo(C),ve=K.width*K.height,ge=new Uint8Array(ve);sv(t,K.data_offset,ge,ve);var ye=K.palette_offset,H=K.transparent_index;H===null&&(H=256);var le=K.width,he=n-le,Ae=le,j=4*(K.y*n+K.x),q=4*((K.y+K.height)*n+K.x),G=j,Z=4*he;K.interlaced===!0&&(Z+=4*n*7);for(var se=8,me=0,we=ge.length;me<we;++me){var be=ge[me];if(Ae===0&&(Ae=le,(G+=Z)>=q&&(Z=4*he+4*n*(se-1),G=j+(le+he)*(se<<1),se>>=1)),be===H)G+=4;else{var Me=t[ye+3*be],Fe=t[ye+3*be+1],We=t[ye+3*be+2];B[G++]=Me,B[G++]=Fe,B[G++]=We,B[G++]=255}--Ae}}}function sv(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,h=0,d=0,g=0,m=t[e++],_=new Int32Array(4096),S=null;;){for(;h<16&&m!==0;)d|=t[e++]<<h,h+=8,m===1?m=t[e++]:--m;if(h<l)break;var k=d&c;if(d>>=l,h-=l,k!==s){if(k===a)break;for(var y=k<o?k:S,b=0,N=y;N>s;)N=_[N]>>8,++b;var I=N;if(g+b+(y!==k?1:0)>r)return void Kt.log("Warning, gif stream longer than expected.");n[g++]=I;var D=g+=b;for(y!==k&&(n[g++]=I),N=y;b--;)N=_[N],n[--D]=255&N,N>>=8;S!==null&&o<4096&&(_[o++]=S<<8|I,o>=c+1&&l<12&&(++l,c=c<<1|1)),S=k}else o=a+1,c=(1<<(l=i+1))-1,S=null}return g!==r&&Kt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Mp(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),d=new Array(65535),g=new Array(65535),m=new Array(64),_=new Array(64),S=[],k=0,y=7,b=new Array(64),N=new Array(64),I=new Array(64),D=new Array(256),V=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(j,q){for(var G=0,Z=0,se=new Array,me=1;me<=16;me++){for(var we=1;we<=j[me];we++)se[q[Z]]=[],se[q[Z]][0]=G,se[q[Z]][1]=me,Z++,G++;G*=2}return se}function ye(j){for(var q=j[0],G=j[1]-1;G>=0;)q&1<<G&&(k|=1<<y),G--,--y<0&&(k==255?(H(255),H(0)):H(k),y=7,k=0)}function H(j){S.push(j)}function le(j){H(j>>8&255),H(255&j)}function he(j,q,G,Z,se){for(var me,we=se[0],be=se[240],Me=function(Te,Ue){var He,qe,tt,ut,pt,xt,kt,Ft,at,_t,Ke=0;for(at=0;at<8;++at){He=Te[Ke],qe=Te[Ke+1],tt=Te[Ke+2],ut=Te[Ke+3],pt=Te[Ke+4],xt=Te[Ke+5],kt=Te[Ke+6];var En=He+(Ft=Te[Ke+7]),At=He-Ft,cr=qe+kt,Bt=qe-kt,Qt=tt+xt,wr=tt-xt,Ot=ut+pt,rs=ut-pt,Dt=En+Ot,Ir=En-Ot,pi=cr+Qt,nn=cr-Qt;Te[Ke]=Dt+pi,Te[Ke+4]=Dt-pi;var ft=.707106781*(nn+Ir);Te[Ke+2]=Ir+ft,Te[Ke+6]=Ir-ft;var Rt=.382683433*((Dt=rs+wr)-(nn=Bt+At)),is=.5411961*Dt+Rt,Cn=1.306562965*nn+Rt,Yr=.707106781*(pi=wr+Bt),Qr=At+Yr,rt=At-Yr;Te[Ke+5]=rt+is,Te[Ke+3]=rt-is,Te[Ke+1]=Qr+Cn,Te[Ke+7]=Qr-Cn,Ke+=8}for(Ke=0,at=0;at<8;++at){He=Te[Ke],qe=Te[Ke+8],tt=Te[Ke+16],ut=Te[Ke+24],pt=Te[Ke+32],xt=Te[Ke+40],kt=Te[Ke+48];var Tr=He+(Ft=Te[Ke+56]),Xr=He-Ft,Yn=qe+kt,dn=qe-kt,pn=tt+xt,fr=tt-xt,Cs=ut+pt,gi=ut-pt,Rr=Tr+Cs,Fr=Tr-Cs,Dr=Yn+pn,Zr=Yn-pn;Te[Ke]=Rr+Dr,Te[Ke+32]=Rr-Dr;var br=.707106781*(Zr+Fr);Te[Ke+16]=Fr+br,Te[Ke+48]=Fr-br;var ei=.382683433*((Rr=gi+fr)-(Zr=dn+Xr)),ss=.5411961*Rr+ei,Os=1.306562965*Zr+ei,Is=.707106781*(Dr=fr+dn),Ts=Xr+Is,Rs=Xr-Is;Te[Ke+40]=Rs+ss,Te[Ke+24]=Rs-ss,Te[Ke+8]=Ts+Os,Te[Ke+56]=Ts-Os,Ke++}for(at=0;at<64;++at)_t=Te[at]*Ue[at],m[at]=_t>0?_t+.5|0:_t-.5|0;return m}(j,q),Fe=0;Fe<64;++Fe)_[$[Fe]]=Me[Fe];var We=_[0]-G;G=_[0],We==0?ye(Z[0]):(ye(Z[g[me=32767+We]]),ye(d[me]));for(var $e=63;$e>0&&_[$e]==0;)$e--;if($e==0)return ye(we),G;for(var st,xe=1;xe<=$e;){for(var J=xe;_[xe]==0&&xe<=$e;)++xe;var ct=xe-J;if(ct>=16){st=ct>>4;for(var Xe=1;Xe<=st;++Xe)ye(be);ct&=15}me=32767+_[xe],ye(se[(ct<<4)+g[me]]),ye(d[me]),xe++}return $e!=63&&ye(we),G}function Ae(j){j=Math.min(Math.max(j,1),100),s!=j&&(function(q){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var se=a((G[Z]*q+50)/100);se=Math.min(Math.max(se,1),255),o[$[Z]]=se}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var be=a((me[we]*q+50)/100);be=Math.min(Math.max(be,1),255),l[$[we]]=be}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,We=0;We<8;We++)for(var $e=0;$e<8;$e++)c[Fe]=1/(o[$[Fe]]*Me[We]*Me[$e]*8),h[Fe]=1/(l[$[Fe]]*Me[We]*Me[$e]*8),Fe++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),s=j)}this.encode=function(j,q){q&&Ae(q),S=new Array,k=0,y=7,le(65496),le(65504),le(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),le(1),le(1),H(0),H(0),function(){le(65499),le(132),H(0);for(var qe=0;qe<64;qe++)H(o[qe]);H(1);for(var tt=0;tt<64;tt++)H(l[tt])}(),function(qe,tt){le(65472),le(17),H(8),le(tt),le(qe),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(j.width,j.height),function(){le(65476),le(418),H(0);for(var qe=0;qe<16;qe++)H(M[qe+1]);for(var tt=0;tt<=11;tt++)H(Q[tt]);H(16);for(var ut=0;ut<16;ut++)H(X[ut+1]);for(var pt=0;pt<=161;pt++)H(L[pt]);H(1);for(var xt=0;xt<16;xt++)H(C[xt+1]);for(var kt=0;kt<=11;kt++)H(B[kt]);H(17);for(var Ft=0;Ft<16;Ft++)H(K[Ft+1]);for(var at=0;at<=161;at++)H(ve[at])}(),le(65498),le(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var G=0,Z=0,se=0;k=0,y=7,this.encode.displayName="_encode_";for(var me,we,be,Me,Fe,We,$e,st,xe,J=j.data,ct=j.width,Xe=j.height,Te=4*ct,Ue=0;Ue<Xe;){for(me=0;me<Te;){for(Fe=Te*Ue+me,$e=-1,st=0,xe=0;xe<64;xe++)We=Fe+(st=xe>>3)*Te+($e=4*(7&xe)),Ue+st>=Xe&&(We-=Te*(Ue+1+st-Xe)),me+$e>=Te&&(We-=me+$e-Te+4),we=J[We++],be=J[We++],Me=J[We++],b[xe]=(V[we]+V[be+256>>0]+V[Me+512>>0]>>16)-128,N[xe]=(V[we+768>>0]+V[be+1024>>0]+V[Me+1280>>0]>>16)-128,I[xe]=(V[we+1280>>0]+V[be+1536>>0]+V[Me+1792>>0]>>16)-128;G=he(b,c,G,e,r),Z=he(N,h,Z,n,i),se=he(I,h,se,n,i),me+=32}Ue+=8}if(y>=0){var He=[];He[1]=y+1,He[0]=(1<<y+1)-1,ye(He)}return le(65497),new Uint8Array(S)},t=t||50,function(){for(var j=String.fromCharCode,q=0;q<256;q++)D[q]=j(q)}(),e=ge(M,Q),n=ge(C,B),r=ge(X,L),i=ge(K,ve),function(){for(var j=1,q=2,G=1;G<=15;G++){for(var Z=j;Z<q;Z++)g[32767+Z]=G,d[32767+Z]=[],d[32767+Z][1]=G,d[32767+Z][0]=Z;for(var se=-(q-1);se<=-j;se++)g[32767+se]=G,d[32767+se]=[],d[32767+se][1]=G,d[32767+se][0]=q-1+se;j<<=1,q<<=1}}(),function(){for(var j=0;j<256;j++)V[j]=19595*j,V[j+256>>0]=38470*j,V[j+512>>0]=7471*j+32768,V[j+768>>0]=-11059*j,V[j+1024>>0]=-21709*j,V[j+1280>>0]=32768*j+8421375,V[j+1536>>0]=-27439*j,V[j+1792>>0]=-5329*j}(),Ae(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Si(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function av(t){function e(M){if(!M)throw Error("assert :P")}function n(M,Q,X){for(var L=0;4>L;L++)if(M[Q+L]!=X.charCodeAt(L))return!0;return!1}function r(M,Q,X,L,C){for(var B=0;B<C;B++)M[Q+B]=X[L+B]}function i(M,Q,X,L){for(var C=0;C<L;C++)M[Q+C]=X}function s(M){return new Int32Array(M)}function a(M,Q){for(var X=[],L=0;L<M;L++)X.push(new Q);return X}function o(M,Q){var X=[];return function L(C,B,K){for(var ve=K[B],ge=0;ge<ve&&(C.push(K.length>B+1?[]:new Q),!(K.length<B+1));ge++)L(C[ge],B+1,K)}(X,0,M),X}var l=function(){var M=this;function Q(u,f){for(var v=1<<f-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function X(u,f,v,w,A){e(!(w%v));do u[f+(w-=v)]=A;while(0<w)}function L(u,f,v,w,A){if(e(2328>=A),512>=A)var E=s(512);else if((E=s(A))==null)return 0;return function(O,T,F,U,te,de){var pe,ue,Pe=T,_e=1<<F,ne=s(16),ae=s(16);for(e(te!=0),e(U!=null),e(O!=null),e(0<F),ue=0;ue<te;++ue){if(15<U[ue])return 0;++ne[U[ue]]}if(ne[0]==te)return 0;for(ae[1]=0,pe=1;15>pe;++pe){if(ne[pe]>1<<pe)return 0;ae[pe+1]=ae[pe]+ne[pe]}for(ue=0;ue<te;++ue)pe=U[ue],0<U[ue]&&(de[ae[pe]++]=ue);if(ae[15]==1)return(U=new C).g=0,U.value=de[0],X(O,Pe,1,_e,U),_e;var ke,Ee=-1,Le=_e-1,Ye=0,ze=1,it=1,Ve=1<<F;for(ue=0,pe=1,te=2;pe<=F;++pe,te<<=1){if(ze+=it<<=1,0>(it-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe])(U=new C).g=pe,U.value=de[ue++],X(O,Pe+Ye,te,Ve,U),Ye=Q(Ye,pe)}for(pe=F+1,te=2;15>=pe;++pe,te<<=1){if(ze+=it<<=1,0>(it-=ne[pe]))return 0;for(;0<ne[pe];--ne[pe]){if(U=new C,(Ye&Le)!=Ee){for(Pe+=Ve,ke=1<<(Ee=pe)-F;15>Ee&&!(0>=(ke-=ne[Ee]));)++Ee,ke<<=1;_e+=Ve=1<<(ke=Ee-F),O[T+(Ee=Ye&Le)].g=ke+F,O[T+Ee].value=Pe-T-Ee}U.g=pe-F,U.value=de[ue++],X(O,Pe+(Ye>>F),te,Ve,U),Ye=Q(Ye,pe)}}return ze!=2*ae[15]-1?0:_e}(u,f,v,w,A,E)}function C(){this.value=this.g=0}function B(){this.value=this.g=0}function K(){this.G=a(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Wn,B)}function ve(u,f,v,w){e(u!=null),e(f!=null),e(2147483648>w),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=v,u.Jd=f,u.Yc=v+w,u.Zc=4<=w?v+w-4+1:v,me(u)}function ge(u,f){for(var v=0;0<f--;)v|=be(u,128)<<f;return v}function ye(u,f){var v=ge(u,f);return we(u)?-v:v}function H(u,f,v,w){var A,E=0;for(e(u!=null),e(f!=null),e(4294967288>w),u.Sb=w,u.Ra=0,u.u=0,u.h=0,4<w&&(w=4),A=0;A<w;++A)E+=f[v+A]<<8*A;u.Ra=E,u.bb=w,u.oa=f,u.pa=v}function le(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Ro-8>>>0,++u.bb,u.u-=8;G(u)&&(u.h=1,u.u=0)}function he(u,f){if(e(0<=f),!u.h&&f<=To){var v=q(u)&Io[f];return u.u+=f,le(u),v}return u.h=1,u.u=0}function Ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(u){return u.Ra>>>(u.u&Ro-1)>>>0}function G(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Ro}function Z(u,f){u.u=f,u.h=G(u)}function se(u){u.u>=fu&&(e(u.u>=fu),le(u))}function me(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function we(u){return ge(u,1)}function be(u,f){var v=u.Ca;0>u.b&&me(u);var w=u.b,A=v*f>>>8,E=(u.I>>>w>A)+0;for(E?(v-=A,u.I-=A+1<<w>>>0):v=A+1,w=v,A=0;256<=w;)A+=8,w>>=8;return w=7^A+xr[w],u.b-=w,u.Ca=(v<<w)-1,E}function Me(u,f,v){u[f+0]=v>>24&255,u[f+1]=v>>16&255,u[f+2]=v>>8&255,u[f+3]=v>>0&255}function Fe(u,f){return u[f+0]<<0|u[f+1]<<8}function We(u,f){return Fe(u,f)|u[f+2]<<16}function $e(u,f){return Fe(u,f)|Fe(u,f+2)<<16}function st(u,f){var v=1<<f;return e(u!=null),e(0<f),u.X=s(v),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function xe(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),r(f.X,0,u.X,0,1<<f.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function ct(u,f,v,w){e(v!=null),e(w!=null);var A=v[0],E=w[0];return A==0&&(A=(u*E+f/2)/f),E==0&&(E=(f*A+u/2)/u),0>=A||0>=E?0:(v[0]=A,w[0]=E,1)}function Xe(u,f){return u+(1<<f)-1>>>f}function Te(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function Ue(u,f){M[f]=function(v,w,A,E,O,T,F){var U;for(U=0;U<O;++U){var te=M[u](T[F+U-1],A,E+U);T[F+U]=Te(v[w+U],te)}}}function He(){this.ud=this.hd=this.jd=0}function qe(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function tt(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function ut(u,f){return tt(u+(u-f+.5>>1))}function pt(u,f,v){return Math.abs(f-v)-Math.abs(u-v)}function xt(u,f,v,w,A,E,O){for(w=E[O-1],v=0;v<A;++v)E[O+v]=w=Te(u[f+v],w)}function kt(u,f,v,w,A){var E;for(E=0;E<v;++E){var O=u[f+E],T=O>>8&255,F=16711935&(F=(F=16711935&O)+((T<<16)+T));w[A+E]=(4278255360&O)+F>>>0}}function Ft(u,f){f.jd=u>>0&255,f.hd=u>>8&255,f.ud=u>>16&255}function at(u,f,v,w,A,E){var O;for(O=0;O<w;++O){var T=f[v+O],F=T>>>8,U=T,te=255&(te=(te=T>>>16)+((u.jd<<24>>24)*(F<<24>>24)>>>5));U=255&(U=(U=U+((u.hd<<24>>24)*(F<<24>>24)>>>5))+((u.ud<<24>>24)*(te<<24>>24)>>>5)),A[E+O]=(4278255360&T)+(te<<16)+U}}function _t(u,f,v,w,A){M[f]=function(E,O,T,F,U,te,de,pe,ue){for(F=de;F<pe;++F)for(de=0;de<ue;++de)U[te++]=A(T[w(E[O++])])},M[u]=function(E,O,T,F,U,te,de){var pe=8>>E.b,ue=E.Ea,Pe=E.K[0],_e=E.w;if(8>pe)for(E=(1<<E.b)-1,_e=(1<<pe)-1;O<T;++O){var ne,ae=0;for(ne=0;ne<ue;++ne)ne&E||(ae=w(F[U++])),te[de++]=A(Pe[ae&_e]),ae>>=pe}else M["VP8LMapColor"+v](F,U,Pe,_e,te,de,O,T,ue)}}function Ke(u,f,v,w,A){for(v=f+v;f<v;){var E=u[f++];w[A++]=E>>16&255,w[A++]=E>>8&255,w[A++]=E>>0&255}}function En(u,f,v,w,A){for(v=f+v;f<v;){var E=u[f++];w[A++]=E>>16&255,w[A++]=E>>8&255,w[A++]=E>>0&255,w[A++]=E>>24&255}}function At(u,f,v,w,A){for(v=f+v;f<v;){var E=(O=u[f++])>>16&240|O>>12&15,O=O>>0&240|O>>28&15;w[A++]=E,w[A++]=O}}function cr(u,f,v,w,A){for(v=f+v;f<v;){var E=(O=u[f++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;w[A++]=E,w[A++]=O}}function Bt(u,f,v,w,A){for(v=f+v;f<v;){var E=u[f++];w[A++]=E>>0&255,w[A++]=E>>8&255,w[A++]=E>>16&255}}function Qt(u,f,v,w,A,E){if(E==0)for(v=f+v;f<v;)Me(w,((E=u[f++])[0]>>24|E[1]>>8&65280|E[2]<<8&16711680|E[3]<<24)>>>0),A+=32;else r(w,A,u,f,v)}function wr(u,f){M[f][0]=M[u+"0"],M[f][1]=M[u+"1"],M[f][2]=M[u+"2"],M[f][3]=M[u+"3"],M[f][4]=M[u+"4"],M[f][5]=M[u+"5"],M[f][6]=M[u+"6"],M[f][7]=M[u+"7"],M[f][8]=M[u+"8"],M[f][9]=M[u+"9"],M[f][10]=M[u+"10"],M[f][11]=M[u+"11"],M[f][12]=M[u+"12"],M[f][13]=M[u+"13"],M[f][14]=M[u+"0"],M[f][15]=M[u+"0"]}function Ot(u){return u==Id||u==Td||u==rf||u==Rd}function rs(){this.eb=[],this.size=this.A=this.fb=0}function Dt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new rs,this.f.kb=new Dt,this.sd=null}function pi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ft(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Rt(u,f){var v=u.T,w=f.ba.f.RGBA,A=w.eb,E=w.fb+u.ka*w.A,O=ai[f.ba.S],T=u.y,F=u.O,U=u.f,te=u.N,de=u.ea,pe=u.W,ue=f.cc,Pe=f.dc,_e=f.Mc,ne=f.Nc,ae=u.ka,ke=u.ka+u.T,Ee=u.U,Le=Ee+1>>1;for(ae==0?O(T,F,null,null,U,te,de,pe,U,te,de,pe,A,E,null,null,Ee):(O(f.ec,f.fc,T,F,ue,Pe,_e,ne,U,te,de,pe,A,E-w.A,A,E,Ee),++v);ae+2<ke;ae+=2)ue=U,Pe=te,_e=de,ne=pe,te+=u.Rc,pe+=u.Rc,E+=2*w.A,O(T,(F+=2*u.fa)-u.fa,T,F,ue,Pe,_e,ne,U,te,de,pe,A,E-w.A,A,E,Ee);return F+=u.fa,u.j+ke<u.o?(r(f.ec,f.fc,T,F,Ee),r(f.cc,f.dc,U,te,Le),r(f.Mc,f.Nc,de,pe,Le),v--):1&ke||O(T,F,null,null,U,te,de,pe,U,te,de,pe,A,E+w.A,null,null,Ee),v}function is(u,f,v){var w=u.F,A=[u.J];if(w!=null){var E=u.U,O=f.ba.S,T=O==nf||O==rf;f=f.ba.f.RGBA;var F=[0],U=u.ka;F[0]=u.T,u.Kb&&(U==0?--F[0]:(--U,A[0]-=u.width),u.j+u.ka+u.T==u.o&&(F[0]=u.o-u.j-U));var te=f.eb;U=f.fb+U*f.A,u=Zt(w,A[0],u.width,E,F,te,U+(T?0:3),f.A),e(v==F),u&&Ot(O)&&ii(te,U,T,E,F,f.A)}return 0}function Cn(u){var f=u.ma,v=f.ba.S,w=11>v,A=v==ef||v==tf||v==nf||v==Od||v==12||Ot(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!uu(f.Oa,u,A?11:12))return 0;if(A&&Ot(v)&&Ie(),u.da)alert("todo:use_scaling");else{if(w){if(f.Ib=ft,u.Kb){if(v=u.U+1>>1,f.memory=s(u.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=Rt,Ie()}}else alert("todo:EmitYUV");A&&(f.Jb=is,w&&fe())}if(w&&!jm){for(u=0;256>u;++u)Lb[u]=89858*(u-128)+af>>sf,jb[u]=-22014*(u-128)+af,Pb[u]=-45773*(u-128),Ab[u]=113618*(u-128)+af>>sf;for(u=yu;u<Md;++u)f=76283*(u-16)+af>>sf,Eb[u-yu]=Br(f,255),Cb[u-yu]=Br(f+8>>4,15);jm=1}return 1}function Yr(u){var f=u.ma,v=u.U,w=u.T;return e(!(1&u.ka)),0>=v||0>=w?0:(v=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,v),f.Dc+=v,1)}function Qr(u){u.ma.memory=null}function rt(u,f,v,w){return he(u,8)!=47?0:(f[0]=he(u,14)+1,v[0]=he(u,14)+1,w[0]=he(u,1),he(u,3)!=0?0:!u.h)}function Tr(u,f){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+he(f,v)+1}function Xr(u,f){return 120<f?f-120:1<=(v=((v=hb[f-1])>>4)*u+(8-(15&v)))?v:1;var v}function Yn(u,f,v){var w=q(v),A=u[f+=255&w].g-8;return 0<A&&(Z(v,v.u+8),w=q(v),f+=u[f].value,f+=w&(1<<A)-1),Z(v,v.u+u[f].g),u[f].value}function dn(u,f,v){return v.g+=u.g,v.value+=u.value<<f>>>0,e(8>=v.g),u.g}function pn(u,f,v){var w=u.xc;return e((f=w==0?0:u.vc[u.md*(v>>w)+(f>>w)])<u.Wb),u.Ya[f]}function fr(u,f,v,w){var A=u.ab,E=u.c*f,O=u.C;f=O+f;var T=v,F=w;for(w=u.Ta,v=u.Ua;0<A--;){var U=u.gc[A],te=O,de=f,pe=T,ue=F,Pe=(F=w,T=v,U.Ea);switch(e(te<de),e(de<=U.nc),U.hc){case 2:Gc(pe,ue,(de-te)*Pe,F,T);break;case 0:var _e=te,ne=de,ae=F,ke=T,Ee=(Ve=U).Ea;_e==0&&(Ed(pe,ue,null,null,1,ae,ke),xt(pe,ue+1,0,0,Ee-1,ae,ke+1),ue+=Ee,ke+=Ee,++_e);for(var Le=1<<Ve.b,Ye=Le-1,ze=Xe(Ee,Ve.b),it=Ve.K,Ve=Ve.w+(_e>>Ve.b)*ze;_e<ne;){var Mt=it,Ut=Ve,It=1;for(hu(pe,ue,ae,ke-Ee,1,ae,ke);It<Ee;){var Lt=(It&~Ye)+Le;Lt>Ee&&(Lt=Ee),(0,zs[Mt[Ut++]>>8&15])(pe,ue+ +It,ae,ke+It-Ee,Lt-It,ae,ke+It),It=Lt}ue+=Ee,ke+=Ee,++_e&Ye||(Ve+=ze)}de!=U.nc&&r(F,T-Pe,F,T+(de-te-1)*Pe,Pe);break;case 1:for(Pe=pe,ne=ue,Ee=(pe=U.Ea)-(ke=pe&~(ae=(ue=1<<U.b)-1)),_e=Xe(pe,U.b),Le=U.K,U=U.w+(te>>U.b)*_e;te<de;){for(Ye=Le,ze=U,it=new He,Ve=ne+ke,Mt=ne+pe;ne<Ve;)Ft(Ye[ze++],it),za(it,Pe,ne,ue,F,T),ne+=ue,T+=ue;ne<Mt&&(Ft(Ye[ze++],it),za(it,Pe,ne,Ee,F,T),ne+=Ee,T+=Ee),++te&ae||(U+=_e)}break;case 3:if(pe==F&&ue==T&&0<U.b){for(ne=F,pe=Pe=T+(de-te)*Pe-(ke=(de-te)*Xe(U.Ea,U.b)),ue=F,ae=T,_e=[],ke=(Ee=ke)-1;0<=ke;--ke)_e[ke]=ue[ae+ke];for(ke=Ee-1;0<=ke;--ke)ne[pe+ke]=_e[ke];ti(U,te,de,F,Pe,F,T)}else ti(U,te,de,pe,ue,F,T)}T=w,F=v}F!=v&&r(w,v,T,F,E)}function Cs(u,f){var v=u.V,w=u.Ba+u.c*u.C,A=f-u.C;if(e(f<=u.l.o),e(16>=A),0<A){var E=u.l,O=u.Ta,T=u.Ua,F=E.width;if(fr(u,A,v,w),A=T=[T],e((v=u.C)<(w=f)),e(E.v<E.va),w>E.o&&(w=E.o),v<E.j){var U=E.j-v;v=E.j,A[0]+=U*F}if(v>=w?v=0:(A[0]+=4*E.v,E.ka=v-E.j,E.U=E.va-E.v,E.T=w-v,v=1),v){if(T=T[0],11>(v=u.ca).S){var te=v.f.RGBA,de=(w=v.S,A=E.U,E=E.T,U=te.eb,te.A),pe=E;for(te=te.fb+u.Ma*te.A;0<pe--;){var ue=O,Pe=T,_e=A,ne=U,ae=te;switch(w){case Zc:_r(ue,Pe,_e,ne,ae);break;case ef:hr(ue,Pe,_e,ne,ae);break;case Id:hr(ue,Pe,_e,ne,ae),ii(ne,ae,0,_e,1,0);break;case bm:fs(ue,Pe,_e,ne,ae);break;case tf:Qt(ue,Pe,_e,ne,ae,1);break;case Td:Qt(ue,Pe,_e,ne,ae,1),ii(ne,ae,0,_e,1,0);break;case nf:Qt(ue,Pe,_e,ne,ae,0);break;case rf:Qt(ue,Pe,_e,ne,ae,0),ii(ne,ae,1,_e,1,0);break;case Od:$s(ue,Pe,_e,ne,ae);break;case Rd:$s(ue,Pe,_e,ne,ae),Xt(ne,ae,_e,1,0);break;case xm:cs(ue,Pe,_e,ne,ae);break;default:e(0)}T+=F,te+=de}u.Ma+=E}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=f,e(u.C<=u.i)}function gi(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var v=u.Ya[f].G,w=u.Ya[f].H;if(0<v[1][w[1]+0].g||0<v[2][w[2]+0].g||0<v[3][w[3]+0].g)return 0}return 1}function Rr(u,f,v,w,A,E){if(u.Z!=0){var O=u.qd,T=u.rd;for(e(Vs[u.Z]!=null);f<v;++f)Vs[u.Z](O,T,w,A,w,A,E),O=w,T=A,A+=E;u.qd=O,u.rd=T}}function Fr(u,f){var v=u.l.ma,w=v.Z==0||v.Z==1?u.l.j:u.C;if(w=u.C<w?w:u.C,e(f<=u.l.o),f>w){var A=u.l.width,E=v.ca,O=v.tb+A*w,T=u.V,F=u.Ba+u.c*w,U=u.gc;e(u.ab==1),e(U[0].hc==3),Kc(U[0],w,f,T,F,E,O),Rr(v,w,f,E,O,A)}u.C=u.Ma=f}function Dr(u,f,v,w,A,E,O){var T=u.$/w,F=u.$%w,U=u.m,te=u.s,de=v+u.$,pe=de;A=v+w*A;var ue=v+w*E,Pe=280+te.ua,_e=u.Pb?T:16777216,ne=0<te.ua?te.Wa:null,ae=te.wc,ke=de<ue?pn(te,F,T):null;e(u.C<E),e(ue<=A);var Ee=!1;e:for(;;){for(;Ee||de<ue;){var Le=0;if(T>=_e){var Ye=de-v;e((_e=u).Pb),_e.wd=_e.m,_e.xd=Ye,0<_e.s.ua&&xe(_e.s.Wa,_e.s.vb),_e=T+pb}if(F&ae||(ke=pn(te,F,T)),e(ke!=null),ke.Qb&&(f[de]=ke.qb,Ee=!0),!Ee)if(se(U),ke.jc){Le=U,Ye=f;var ze=de,it=ke.pd[q(Le)&Wn-1];e(ke.jc),256>it.g?(Z(Le,Le.u+it.g),Ye[ze]=it.value,Le=0):(Z(Le,Le.u+it.g-256),e(256<=it.value),Le=it.value),Le==0&&(Ee=!0)}else Le=Yn(ke.G[0],ke.H[0],U);if(U.h)break;if(Ee||256>Le){if(!Ee)if(ke.nd)f[de]=(ke.qb|Le<<8)>>>0;else{if(se(U),Ee=Yn(ke.G[1],ke.H[1],U),se(U),Ye=Yn(ke.G[2],ke.H[2],U),ze=Yn(ke.G[3],ke.H[3],U),U.h)break;f[de]=(ze<<24|Ee<<16|Le<<8|Ye)>>>0}if(Ee=!1,++de,++F>=w&&(F=0,++T,O!=null&&T<=E&&!(T%16)&&O(u,T),ne!=null))for(;pe<de;)Le=f[pe++],ne.X[(506832829*Le&4294967295)>>>ne.Mb]=Le}else if(280>Le){if(Le=Tr(Le-256,U),Ye=Yn(ke.G[4],ke.H[4],U),se(U),Ye=Xr(w,Ye=Tr(Ye,U)),U.h)break;if(de-v<Ye||A-de<Le)break e;for(ze=0;ze<Le;++ze)f[de+ze]=f[de+ze-Ye];for(de+=Le,F+=Le;F>=w;)F-=w,++T,O!=null&&T<=E&&!(T%16)&&O(u,T);if(e(de<=A),F&ae&&(ke=pn(te,F,T)),ne!=null)for(;pe<de;)Le=f[pe++],ne.X[(506832829*Le&4294967295)>>>ne.Mb]=Le}else{if(!(Le<Pe))break e;for(Ee=Le-280,e(ne!=null);pe<de;)Le=f[pe++],ne.X[(506832829*Le&4294967295)>>>ne.Mb]=Le;Le=de,e(!(Ee>>>(Ye=ne).Xa)),f[Le]=Ye.X[Ee],Ee=!0}Ee||e(U.h==G(U))}if(u.Pb&&U.h&&de<A)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&xe(u.s.vb,u.s.Wa);else{if(U.h)break e;O!=null&&O(u,T>E?E:T),u.a=0,u.$=de-v}return 1}return u.a=3,0}function Zr(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function br(){var u=new jd;return u==null?null:(u.a=0,u.xb=Nm,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),Gc=kt,za=at,_r=Ke,hr=En,$s=At,cs=cr,fs=Bt,M.VP8LMapColor32b=Fo,M.VP8LMapColor8b=Jc,u)}function ei(u,f,v,w,A){var E=1,O=[u],T=[f],F=w.m,U=w.s,te=null,de=0;e:for(;;){if(v)for(;E&&he(F,1);){var pe=O,ue=T,Pe=w,_e=1,ne=Pe.m,ae=Pe.gc[Pe.ab],ke=he(ne,2);if(Pe.Oc&1<<ke)E=0;else{switch(Pe.Oc|=1<<ke,ae.hc=ke,ae.Ea=pe[0],ae.nc=ue[0],ae.K=[null],++Pe.ab,e(4>=Pe.ab),ke){case 0:case 1:ae.b=he(ne,3)+2,_e=ei(Xe(ae.Ea,ae.b),Xe(ae.nc,ae.b),0,Pe,ae.K),ae.K=ae.K[0];break;case 3:var Ee,Le=he(ne,8)+1,Ye=16<Le?0:4<Le?1:2<Le?2:3;if(pe[0]=Xe(ae.Ea,Ye),ae.b=Ye,Ee=_e=ei(Le,1,0,Pe,ae.K)){var ze,it=Le,Ve=ae,Mt=1<<(8>>Ve.b),Ut=s(Mt);if(Ut==null)Ee=0;else{var It=Ve.K[0],Lt=Ve.w;for(Ut[0]=Ve.K[0][0],ze=1;ze<1*it;++ze)Ut[ze]=Te(It[Lt+ze],Ut[ze-1]);for(;ze<4*Mt;++ze)Ut[ze]=0;Ve.K[0]=null,Ve.K[0]=Ut,Ee=1}}_e=Ee;break;case 2:break;default:e(0)}E=_e}}if(O=O[0],T=T[0],E&&he(F,1)&&!(E=1<=(de=he(F,4))&&11>=de)){w.a=3;break e}var Gt;if(Gt=E)t:{var Ht,wt,Ln,Sr=w,An=O,Nr=T,zt=de,zr=v,$r=Sr.m,Dn=Sr.s,Hn=[null],pr=1,oi=0,zi=db[zt];n:for(;;){if(zr&&he($r,1)){var Mn=he($r,3)+2,gs=Xe(An,Mn),Va=Xe(Nr,Mn),zo=gs*Va;if(!ei(gs,Va,0,Sr,Hn))break n;for(Hn=Hn[0],Dn.xc=Mn,Ht=0;Ht<zo;++Ht){var Gs=Hn[Ht]>>8&65535;Hn[Ht]=Gs,Gs>=pr&&(pr=Gs+1)}}if($r.h)break n;for(wt=0;5>wt;++wt){var mn=_m[wt];!wt&&0<zt&&(mn+=1<<zt),oi<mn&&(oi=mn)}var Bd=a(pr*zi,C),Om=pr,Im=a(Om,K);if(Im==null)var lf=null;else e(65536>=Om),lf=Im;var wu=s(oi);if(lf==null||wu==null||Bd==null){Sr.a=1;break n}var uf=Bd;for(Ht=Ln=0;Ht<pr;++Ht){var bi=lf[Ht],$o=bi.G,qo=bi.H,Tm=0,cf=1,Rm=0;for(wt=0;5>wt;++wt){mn=_m[wt],$o[wt]=uf,qo[wt]=Ln,!wt&&0<zt&&(mn+=1<<zt);i:{var ff,Ud=mn,hf=Sr,bu=wu,Tb=uf,Rb=Ln,zd=0,Ks=hf.m,Fb=he(Ks,1);if(i(bu,0,0,Ud),Fb){var Db=he(Ks,1)+1,Mb=he(Ks,1),Fm=he(Ks,Mb==0?1:8);bu[Fm]=1,Db==2&&(bu[Fm=he(Ks,8)]=1);var df=1}else{var Dm=s(19),Mm=he(Ks,4)+4;if(19<Mm){hf.a=3;var pf=0;break i}for(ff=0;ff<Mm;++ff)Dm[fb[ff]]=he(Ks,3);var $d=void 0,xu=void 0,Bm=hf,Bb=Dm,gf=Ud,Um=bu,qd=0,Js=Bm.m,zm=8,$m=a(128,C);r:for(;L($m,0,7,Bb,19);){if(he(Js,1)){var Ub=2+2*he(Js,3);if(($d=2+he(Js,Ub))>gf)break r}else $d=gf;for(xu=0;xu<gf&&$d--;){se(Js);var qm=$m[0+(127&q(Js))];Z(Js,Js.u+qm.g);var Wo=qm.value;if(16>Wo)Um[xu++]=Wo,Wo!=0&&(zm=Wo);else{var zb=Wo==16,Wm=Wo-16,$b=ub[Wm],Hm=he(Js,lb[Wm])+$b;if(xu+Hm>gf)break r;for(var qb=zb?zm:0;0<Hm--;)Um[xu++]=qb}}qd=1;break r}qd||(Bm.a=3),df=qd}(df=df&&!Ks.h)&&(zd=L(Tb,Rb,8,bu,Ud)),df&&zd!=0?pf=zd:(hf.a=3,pf=0)}if(pf==0)break n;if(cf&&cb[wt]==1&&(cf=uf[Ln].g==0),Tm+=uf[Ln].g,Ln+=pf,3>=wt){var _u,Wd=wu[0];for(_u=1;_u<mn;++_u)wu[_u]>Wd&&(Wd=wu[_u]);Rm+=Wd}}if(bi.nd=cf,bi.Qb=0,cf&&(bi.qb=($o[3][qo[3]+0].value<<24|$o[1][qo[1]+0].value<<16|$o[2][qo[2]+0].value)>>>0,Tm==0&&256>$o[0][qo[0]+0].value&&(bi.Qb=1,bi.qb+=$o[0][qo[0]+0].value<<8)),bi.jc=!bi.Qb&&6>Rm,bi.jc){var mf,ms=bi;for(mf=0;mf<Wn;++mf){var Ys=mf,Qs=ms.pd[Ys],vf=ms.G[0][ms.H[0]+Ys];256<=vf.value?(Qs.g=vf.g+256,Qs.value=vf.value):(Qs.g=0,Qs.value=0,Ys>>=dn(vf,8,Qs),Ys>>=dn(ms.G[1][ms.H[1]+Ys],16,Qs),Ys>>=dn(ms.G[2][ms.H[2]+Ys],0,Qs),dn(ms.G[3][ms.H[3]+Ys],24,Qs))}}}Dn.vc=Hn,Dn.Wb=pr,Dn.Ya=lf,Dn.yc=Bd,Gt=1;break t}Gt=0}if(!(E=Gt)){w.a=3;break e}if(0<de){if(U.ua=1<<de,!st(U.Wa,de)){w.a=1,E=0;break e}}else U.ua=0;var Hd=w,Vm=O,Wb=T,Vd=Hd.s,Gd=Vd.xc;if(Hd.c=Vm,Hd.i=Wb,Vd.md=Xe(Vm,Gd),Vd.wc=Gd==0?-1:(1<<Gd)-1,v){w.xb=xb;break e}if((te=s(O*T))==null){w.a=1,E=0;break e}E=(E=Dr(w,te,0,O,T,T,null))&&!F.h;break e}return E?(A!=null?A[0]=te:(e(te==null),e(v)),w.$=0,v||Zr(U)):Zr(U),E}function ss(u,f){var v=u.c*u.i,w=v+f+16*f;return e(u.c<=f),u.V=s(w),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+f,1)}function Os(u,f){var v=u.C,w=f-v,A=u.V,E=u.Ba+u.c*v;for(e(f<=u.l.o);0<w;){var O=16<w?16:w,T=u.l.ma,F=u.l.width,U=F*O,te=T.ca,de=T.tb+F*v,pe=u.Ta,ue=u.Ua;fr(u,O,A,E),bn(pe,ue,te,de,U),Rr(T,v,v+O,te,de,F),w-=O,A+=O*u.c,v+=O}e(v==f),u.C=u.Ma=f}function Is(){this.ub=this.yd=this.td=this.Rb=0}function Ts(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Rs(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ia(){this.Yb=function(){var u=[];return function f(v,w,A){for(var E=A[w],O=0;O<E&&(v.push(A.length>w+1?[]:0),!(A.length<w+1));O++)f(v[O],w+1,A)}(u,0,[3,11]),u}()}function as(){this.jb=s(3),this.Wc=o([4,8],Ia),this.Xc=o([4,17],Ia)}function xo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Mr(){this.ld=this.La=this.dd=this.tc=0}function _o(){this.Na=this.la=0}function Fs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function os(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Jl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Mr),this.Y=0,this.ya=Array(new os),this.aa=0,this.l=new Ds}function So(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ta(){this.cb=this.a=0,this.sc="",this.m=new Ae,this.Od=new Is,this.Kc=new Ts,this.ed=new xo,this.Qa=new Rs,this.Ic=this.$c=this.Aa=0,this.D=new Jl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,Ae),this.ia=0,this.pb=a(4,Fs),this.Pa=new as,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new So),this.Hd=0,this.rb=Array(new _o),this.sb=0,this.wa=Array(new Mr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new os),this.L=this.aa=0,this.gd=o([4,2],Mr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ds(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yl(){var u=new Ta;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,vu||(vu=oe)),u}function R(u,f,v){return u.a==0&&(u.a=f,u.sc=v,u.cb=0),0}function Y(u,f,v){return 3<=v&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function z(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return R(u,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,w=f.w,A=f.ha;if(4>A)return R(u,7,"Truncated header.");var E=v[w+0]|v[w+1]<<8|v[w+2]<<16,O=u.Od;if(O.Rb=!(1&E),O.td=E>>1&7,O.yd=E>>4&1,O.ub=E>>5,3<O.td)return R(u,3,"Incorrect keyframe parameters.");if(!O.yd)return R(u,4,"Frame not displayable.");w+=3,A-=3;var T=u.Kc;if(O.Rb){if(7>A)return R(u,7,"cannot parse picture header");if(!Y(v,w,A))return R(u,3,"Bad code word");T.c=16383&(v[w+4]<<8|v[w+3]),T.Td=v[w+4]>>6,T.i=16383&(v[w+6]<<8|v[w+5]),T.Ud=v[w+6]>>6,w+=7,A-=7,u.za=T.c+15>>4,u.Ub=T.i+15>>4,f.width=T.c,f.height=T.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((E=u.Pa).jb,0,255,E.jb.length),e((E=u.Qa)!=null),E.Cb=0,E.Bb=0,E.Fb=1,i(E.Zb,0,0,E.Zb.length),i(E.Lb,0,0,E.Lb)}if(O.ub>A)return R(u,7,"bad partition length");ve(E=u.m,v,w,O.ub),w+=O.ub,A-=O.ub,O.Rb&&(T.Ld=we(E),T.Kd=we(E)),T=u.Qa;var F,U=u.Pa;if(e(E!=null),e(T!=null),T.Cb=we(E),T.Cb){if(T.Bb=we(E),we(E)){for(T.Fb=we(E),F=0;4>F;++F)T.Zb[F]=we(E)?ye(E,7):0;for(F=0;4>F;++F)T.Lb[F]=we(E)?ye(E,6):0}if(T.Bb)for(F=0;3>F;++F)U.jb[F]=we(E)?ge(E,8):255}else T.Bb=0;if(E.Ka)return R(u,3,"cannot parse segment header");if((T=u.ed).zd=we(E),T.Tb=ge(E,6),T.wb=ge(E,3),T.Pc=we(E),T.Pc&&we(E)){for(U=0;4>U;++U)we(E)&&(T.vd[U]=ye(E,6));for(U=0;4>U;++U)we(E)&&(T.od[U]=ye(E,6))}if(u.L=T.Tb==0?0:T.zd?1:2,E.Ka)return R(u,3,"cannot parse filter header");var te=A;if(A=F=w,w=F+te,T=te,u.Xb=(1<<ge(u.m,2))-1,te<3*(U=u.Xb))v=7;else{for(F+=3*U,T-=3*U,te=0;te<U;++te){var de=v[A+0]|v[A+1]<<8|v[A+2]<<16;de>T&&(de=T),ve(u.Jc[+te],v,F,de),F+=de,T-=de,A+=3}ve(u.Jc[+U],v,F,T),v=F<w?0:5}if(v!=0)return R(u,v,"cannot parse partitions");for(v=ge(F=u.m,7),A=we(F)?ye(F,4):0,w=we(F)?ye(F,4):0,T=we(F)?ye(F,4):0,U=we(F)?ye(F,4):0,F=we(F)?ye(F,4):0,te=u.Qa,de=0;4>de;++de){if(te.Cb){var pe=te.Zb[de];te.Fb||(pe+=v)}else{if(0<de){u.pb[de]=u.pb[0];continue}pe=v}var ue=u.pb[de];ue.Sc[0]=Fd[Br(pe+A,127)],ue.Sc[1]=Dd[Br(pe+0,127)],ue.Eb[0]=2*Fd[Br(pe+w,127)],ue.Eb[1]=101581*Dd[Br(pe+T,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=Fd[Br(pe+U,117)],ue.Qc[1]=Dd[Br(pe+F,127)],ue.lc=pe+F}if(!O.Rb)return R(u,4,"Not a key frame.");for(we(E),O=u.Pa,v=0;4>v;++v){for(A=0;8>A;++A)for(w=0;3>w;++w)for(T=0;11>T;++T)U=be(E,wb[v][A][w][T])?ge(E,8):vb[v][A][w][T],O.Wc[v][A].Yb[w][T]=U;for(A=0;17>A;++A)O.Xc[v][A]=O.Wc[v][bb[A]]}return u.kc=we(E),u.kc&&(u.Bd=ge(E,8)),u.cb=1}function oe(u,f,v,w,A,E,O){var T=f[A].Yb[v];for(v=0;16>A;++A){if(!be(u,T[v+0]))return A;for(;!be(u,T[v+1]);)if(T=f[++A].Yb[0],v=0,A==16)return 16;var F=f[A+1].Yb;if(be(u,T[v+2])){var U=u,te=0;if(be(U,(pe=T)[(de=v)+3]))if(be(U,pe[de+6])){for(T=0,de=2*(te=be(U,pe[de+8]))+(pe=be(U,pe[de+9+te])),te=0,pe=gb[de];pe[T];++T)te+=te+be(U,pe[T]);te+=3+(8<<de)}else be(U,pe[de+7])?(te=7+2*be(U,165),te+=be(U,145)):te=5+be(U,159);else te=be(U,pe[de+4])?3+be(U,pe[de+5]):2;T=F[2]}else te=1,T=F[1];F=O+mb[A],0>(U=u).b&&me(U);var de,pe=U.b,ue=(de=U.Ca>>1)-(U.I>>pe)>>31;--U.b,U.Ca+=ue,U.Ca|=1,U.I-=(de+1&ue)<<pe,E[F]=((te^ue)-ue)*w[(0<A)+0]}return 16}function ce(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function re(u,f){if(u==null)return 0;if(f==null)return R(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!z(u,f))return 0;if(e(u.cb),f.ac==null||f.ac(f)){f.ob&&(u.L=0);var v=of[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=f.v-v>>4,u.zb=f.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=f.o+15+v>>4,u.Hb=f.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var w=u.ed;for(v=0;4>v;++v){var A;if(u.Qa.Cb){var E=u.Qa.Lb[v];u.Qa.Fb||(E+=w.Tb)}else E=w.Tb;for(A=0;1>=A;++A){var O=u.gd[v][A],T=E;if(w.Pc&&(T+=w.vd[0],A&&(T+=w.od[0])),0<(T=0>T?0:63<T?63:T)){var F=T;0<w.wb&&(F=4<w.wb?F>>2:F>>1)>9-w.wb&&(F=9-w.wb),1>F&&(F=1),O.dd=F,O.tc=2*T+F,O.ld=40<=T?2:15<=T?1:0}else O.tc=0;O.La=A}}}v=0}else R(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=Ib);e:{v=u.Ic,w=4*(F=u.za);var U=32*F,te=F+1,de=0<u.L?F*(0<u.Aa?2:1):0,pe=(u.Aa==2?2:1)*F;if((O=w+832+(A=3*(16*v+of[u.L])/2*U)+(E=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=O)v=0;else{if(O>u.Vb){if(u.Vb=0,u.Ec=s(O),u.Fc=0,u.Ec==null){v=R(u,1,"no memory during frame initialization.");break e}u.Vb=O}O=u.Ec,T=u.Fc,u.Ac=O,u.Bc=T,T+=w,u.Gd=a(U,So),u.Hd=0,u.rb=a(te+1,_o),u.sb=1,u.wa=de?a(de,Mr):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=F),e(!0),u.oc=O,u.pc=T,T+=832,u.ya=a(pe,os),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=F),u.R=16*F,u.B=8*F,F=(U=of[u.L])*u.R,U=U/2*u.B,u.sa=O,u.ta=T+F,u.qa=u.sa,u.ra=u.ta+16*v*u.R+U,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+U,u.$c=0,T+=A,u.mb=E?O:null,u.nb=E?T:null,e(T+E<=u.Fc+u.Vb),ce(u),i(u.Ac,u.Bc,0,w),v=1}}if(v){if(f.ka=0,f.y=u.sa,f.O=u.ta,f.f=u.qa,f.N=u.ra,f.ea=u.Ha,f.Vd=u.Ia,f.fa=u.R,f.Rc=u.B,f.F=null,f.J=0,!Qc){for(v=-255;255>=v;++v)On[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)ds[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)mu[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)Uo[255+v]=0>v?0:255<v?255:v;Qc=1}Do=on,hs=Ze,du=vt,dr=Pt,ni=jt,wn=Be,Mo=eu,Yc=Ba,pu=Pd,$a=tu,qa=Ad,qs=Po,Wa=nu,Bo=Wc,Ha=qc,Ws=Bi,gu=us,ri=Ld,wi[0]=Mi,wi[1]=Qn,wi[2]=bd,wi[3]=xd,wi[4]=Mc,wi[5]=Lo,wi[6]=Bc,wi[7]=Ql,wi[8]=Sd,wi[9]=_d,Hs[0]=No,Hs[1]=Ra,Hs[2]=mi,Hs[3]=Di,Hs[4]=Rn,Hs[5]=ko,Hs[6]=Dc,ps[0]=Ms,ps[1]=ls,ps[2]=Nd,ps[3]=Xl,ps[4]=Ma,ps[5]=kd,ps[6]=Zl,v=1}else v=0}v&&(v=function(ue,Pe){for(ue.M=0;ue.M<ue.Va;++ue.M){var _e,ne=ue.Jc[ue.M&ue.Xb],ae=ue.m,ke=ue;for(_e=0;_e<ke.za;++_e){var Ee=ae,Le=ke,Ye=Le.Ac,ze=Le.Bc+4*_e,it=Le.zc,Ve=Le.ya[Le.aa+_e];if(Le.Qa.Bb?Ve.$b=be(Ee,Le.Pa.jb[0])?2+be(Ee,Le.Pa.jb[2]):be(Ee,Le.Pa.jb[1]):Ve.$b=0,Le.kc&&(Ve.Ad=be(Ee,Le.Bd)),Ve.Za=!be(Ee,145)+0,Ve.Za){var Mt=Ve.Ob,Ut=0;for(Le=0;4>Le;++Le){var It,Lt=it[0+Le];for(It=0;4>It;++It){Lt=yb[Ye[ze+It]][Lt];for(var Gt=Sm[be(Ee,Lt[0])];0<Gt;)Gt=Sm[2*Gt+be(Ee,Lt[Gt])];Lt=-Gt,Ye[ze+It]=Lt}r(Mt,Ut,Ye,ze,4),Ut+=4,it[0+Le]=Lt}}else Lt=be(Ee,156)?be(Ee,128)?1:3:be(Ee,163)?2:0,Ve.Ob[0]=Lt,i(Ye,ze,Lt,4),i(it,0,Lt,4);Ve.Dd=be(Ee,142)?be(Ee,114)?be(Ee,183)?1:3:2:0}if(ke.m.Ka)return R(ue,7,"Premature end-of-partition0 encountered.");for(;ue.ja<ue.za;++ue.ja){if(ke=ne,Ee=(ae=ue).rb[ae.sb-1],Ye=ae.rb[ae.sb+ae.ja],_e=ae.ya[ae.aa+ae.ja],ze=ae.kc?_e.Ad:0)Ee.la=Ye.la=0,_e.Za||(Ee.Na=Ye.Na=0),_e.Hc=0,_e.Gc=0,_e.ia=0;else{var Ht,wt;if(Ee=Ye,Ye=ke,ze=ae.Pa.Xc,it=ae.ya[ae.aa+ae.ja],Ve=ae.pb[it.$b],Le=it.ad,Mt=0,Ut=ae.rb[ae.sb-1],Lt=It=0,i(Le,Mt,0,384),it.Za)var Ln=0,Sr=ze[3];else{Gt=s(16);var An=Ee.Na+Ut.Na;if(An=vu(Ye,ze[1],An,Ve.Eb,0,Gt,0),Ee.Na=Ut.Na=(0<An)+0,1<An)Do(Gt,0,Le,Mt);else{var Nr=Gt[0]+3>>3;for(Gt=0;256>Gt;Gt+=16)Le[Mt+Gt]=Nr}Ln=1,Sr=ze[0]}var zt=15&Ee.la,zr=15&Ut.la;for(Gt=0;4>Gt;++Gt){var $r=1&zr;for(Nr=wt=0;4>Nr;++Nr)zt=zt>>1|($r=(An=vu(Ye,Sr,An=$r+(1&zt),Ve.Sc,Ln,Le,Mt))>Ln)<<7,wt=wt<<2|(3<An?3:1<An?2:Le[Mt+0]!=0),Mt+=16;zt>>=4,zr=zr>>1|$r<<7,It=(It<<8|wt)>>>0}for(Sr=zt,Ln=zr>>4,Ht=0;4>Ht;Ht+=2){for(wt=0,zt=Ee.la>>4+Ht,zr=Ut.la>>4+Ht,Gt=0;2>Gt;++Gt){for($r=1&zr,Nr=0;2>Nr;++Nr)An=$r+(1&zt),zt=zt>>1|($r=0<(An=vu(Ye,ze[2],An,Ve.Qc,0,Le,Mt)))<<3,wt=wt<<2|(3<An?3:1<An?2:Le[Mt+0]!=0),Mt+=16;zt>>=2,zr=zr>>1|$r<<5}Lt|=wt<<4*Ht,Sr|=zt<<4<<Ht,Ln|=(240&zr)<<Ht}Ee.la=Sr,Ut.la=Ln,it.Hc=It,it.Gc=Lt,it.ia=43690&Lt?0:Ve.ia,ze=!(It|Lt)}if(0<ae.L&&(ae.wa[ae.Y+ae.ja]=ae.gd[_e.$b][_e.Za],ae.wa[ae.Y+ae.ja].La|=!ze),ke.Ka)return R(ue,7,"Premature end-of-file encountered.")}if(ce(ue),ae=Pe,ke=1,_e=(ne=ue).D,Ee=0<ne.L&&ne.M>=ne.zb&&ne.M<=ne.Va,ne.Aa==0)e:{if(_e.M=ne.M,_e.uc=Ee,lu(ne,_e),ke=1,_e=(wt=ne.D).Nb,Ee=(Lt=of[ne.L])*ne.R,Ye=Lt/2*ne.B,Gt=16*_e*ne.R,Nr=8*_e*ne.B,ze=ne.sa,it=ne.ta-Ee+Gt,Ve=ne.qa,Le=ne.ra-Ye+Nr,Mt=ne.Ha,Ut=ne.Ia-Ye+Nr,zr=(zt=wt.M)==0,It=zt>=ne.Va-1,ne.Aa==2&&lu(ne,wt),wt.uc)for($r=(An=ne).D.M,e(An.D.uc),wt=An.yb;wt<An.Hb;++wt){Ln=wt,Sr=$r;var Dn=(Hn=(mn=An).D).Nb;Ht=mn.R;var Hn=Hn.wa[Hn.Y+Ln],pr=mn.sa,oi=mn.ta+16*Dn*Ht+16*Ln,zi=Hn.dd,Mn=Hn.tc;if(Mn!=0)if(e(3<=Mn),mn.L==1)0<Ln&&Ws(pr,oi,Ht,Mn+4),Hn.La&&ri(pr,oi,Ht,Mn),0<Sr&&Ha(pr,oi,Ht,Mn+4),Hn.La&&gu(pr,oi,Ht,Mn);else{var gs=mn.B,Va=mn.qa,zo=mn.ra+8*Dn*gs+8*Ln,Gs=mn.Ha,mn=mn.Ia+8*Dn*gs+8*Ln;Dn=Hn.ld,0<Ln&&(Yc(pr,oi,Ht,Mn+4,zi,Dn),$a(Va,zo,Gs,mn,gs,Mn+4,zi,Dn)),Hn.La&&(qs(pr,oi,Ht,Mn,zi,Dn),Bo(Va,zo,Gs,mn,gs,Mn,zi,Dn)),0<Sr&&(Mo(pr,oi,Ht,Mn+4,zi,Dn),pu(Va,zo,Gs,mn,gs,Mn+4,zi,Dn)),Hn.La&&(qa(pr,oi,Ht,Mn,zi,Dn),Wa(Va,zo,Gs,mn,gs,Mn,zi,Dn))}}if(ne.ia&&alert("todo:DitherRow"),ae.put!=null){if(wt=16*zt,zt=16*(zt+1),zr?(ae.y=ne.sa,ae.O=ne.ta+Gt,ae.f=ne.qa,ae.N=ne.ra+Nr,ae.ea=ne.Ha,ae.W=ne.Ia+Nr):(wt-=Lt,ae.y=ze,ae.O=it,ae.f=Ve,ae.N=Le,ae.ea=Mt,ae.W=Ut),It||(zt-=Lt),zt>ae.o&&(zt=ae.o),ae.F=null,ae.J=null,ne.Fa!=null&&0<ne.Fa.length&&wt<zt&&(ae.J=au(ne,ae,wt,zt-wt),ae.F=ne.mb,ae.F==null&&ae.F.length==0)){ke=R(ne,3,"Could not decode alpha data.");break e}wt<ae.j&&(Lt=ae.j-wt,wt=ae.j,e(!(1&Lt)),ae.O+=ne.R*Lt,ae.N+=ne.B*(Lt>>1),ae.W+=ne.B*(Lt>>1),ae.F!=null&&(ae.J+=ae.width*Lt)),wt<zt&&(ae.O+=ae.v,ae.N+=ae.v>>1,ae.W+=ae.v>>1,ae.F!=null&&(ae.J+=ae.v),ae.ka=wt-ae.j,ae.U=ae.va-ae.v,ae.T=zt-wt,ke=ae.put(ae))}_e+1!=ne.Ic||It||(r(ne.sa,ne.ta-Ee,ze,it+16*ne.R,Ee),r(ne.qa,ne.ra-Ye,Ve,Le+8*ne.B,Ye),r(ne.Ha,ne.Ia-Ye,Mt,Ut+8*ne.B,Ye))}if(!ke)return R(ue,6,"Output aborted.")}return 1}(u,f)),f.bc!=null&&f.bc(f),v&=1}return v?(u.cb=0,v):0}function Ne(u,f,v,w,A){A=u[f+v+32*w]+(A>>3),u[f+v+32*w]=-256&A?0>A?0:255:A}function Ce(u,f,v,w,A,E){Ne(u,f,0,v,w+A),Ne(u,f,1,v,w+E),Ne(u,f,2,v,w-E),Ne(u,f,3,v,w-A)}function Oe(u){return(20091*u>>16)+u}function Re(u,f,v,w){var A,E=0,O=s(16);for(A=0;4>A;++A){var T=u[f+0]+u[f+8],F=u[f+0]-u[f+8],U=(35468*u[f+4]>>16)-Oe(u[f+12]),te=Oe(u[f+4])+(35468*u[f+12]>>16);O[E+0]=T+te,O[E+1]=F+U,O[E+2]=F-U,O[E+3]=T-te,E+=4,f++}for(A=E=0;4>A;++A)T=(u=O[E+0]+4)+O[E+8],F=u-O[E+8],U=(35468*O[E+4]>>16)-Oe(O[E+12]),Ne(v,w,0,0,T+(te=Oe(O[E+4])+(35468*O[E+12]>>16))),Ne(v,w,1,0,F+U),Ne(v,w,2,0,F-U),Ne(v,w,3,0,T-te),E++,w+=32}function Be(u,f,v,w){var A=u[f+0]+4,E=35468*u[f+4]>>16,O=Oe(u[f+4]),T=35468*u[f+1]>>16;Ce(v,w,0,A+O,u=Oe(u[f+1]),T),Ce(v,w,1,A+E,u,T),Ce(v,w,2,A-E,u,T),Ce(v,w,3,A-O,u,T)}function Ze(u,f,v,w,A){Re(u,f,v,w),A&&Re(u,f+16,v,w+4)}function vt(u,f,v,w){hs(u,f+0,v,w,1),hs(u,f+32,v,w+128,1)}function Pt(u,f,v,w){var A;for(u=u[f+0]+4,A=0;4>A;++A)for(f=0;4>f;++f)Ne(v,w,f,A,u)}function jt(u,f,v,w){u[f+0]&&dr(u,f+0,v,w),u[f+16]&&dr(u,f+16,v,w+4),u[f+32]&&dr(u,f+32,v,w+128),u[f+48]&&dr(u,f+48,v,w+128+4)}function on(u,f,v,w){var A,E=s(16);for(A=0;4>A;++A){var O=u[f+0+A]+u[f+12+A],T=u[f+4+A]+u[f+8+A],F=u[f+4+A]-u[f+8+A],U=u[f+0+A]-u[f+12+A];E[0+A]=O+T,E[8+A]=O-T,E[4+A]=U+F,E[12+A]=U-F}for(A=0;4>A;++A)O=(u=E[0+4*A]+3)+E[3+4*A],T=E[1+4*A]+E[2+4*A],F=E[1+4*A]-E[2+4*A],U=u-E[3+4*A],v[w+0]=O+T>>3,v[w+16]=U+F>>3,v[w+32]=O-T>>3,v[w+48]=U-F>>3,w+=64}function Vt(u,f,v){var w,A=f-32,E=Ur,O=255-u[A-1];for(w=0;w<v;++w){var T,F=E,U=O+u[f-1];for(T=0;T<v;++T)u[f+T]=F[U+u[A+T]];f+=32}}function Qn(u,f){Vt(u,f,4)}function ls(u,f){Vt(u,f,8)}function Ra(u,f){Vt(u,f,16)}function mi(u,f){var v;for(v=0;16>v;++v)r(u,f+32*v,u,f-32,16)}function Di(u,f){var v;for(v=16;0<v;--v)i(u,f,u[f-1],16),f+=32}function Fa(u,f,v){var w;for(w=0;16>w;++w)i(f,v+32*w,u,16)}function No(u,f){var v,w=16;for(v=0;16>v;++v)w+=u[f-1+32*v]+u[f+v-32];Fa(w>>5,u,f)}function Rn(u,f){var v,w=8;for(v=0;16>v;++v)w+=u[f-1+32*v];Fa(w>>4,u,f)}function ko(u,f){var v,w=8;for(v=0;16>v;++v)w+=u[f+v-32];Fa(w>>4,u,f)}function Dc(u,f){Fa(128,u,f)}function ht(u,f,v){return u+2*f+v+2>>2}function bd(u,f){var v,w=f-32;for(w=new Uint8Array([ht(u[w-1],u[w+0],u[w+1]),ht(u[w+0],u[w+1],u[w+2]),ht(u[w+1],u[w+2],u[w+3]),ht(u[w+2],u[w+3],u[w+4])]),v=0;4>v;++v)r(u,f+32*v,w,0,w.length)}function xd(u,f){var v=u[f-1],w=u[f-1+32],A=u[f-1+64],E=u[f-1+96];Me(u,f+0,16843009*ht(u[f-1-32],v,w)),Me(u,f+32,16843009*ht(v,w,A)),Me(u,f+64,16843009*ht(w,A,E)),Me(u,f+96,16843009*ht(A,E,E))}function Mi(u,f){var v,w=4;for(v=0;4>v;++v)w+=u[f+v-32]+u[f-1+32*v];for(w>>=3,v=0;4>v;++v)i(u,f+32*v,w,4)}function Mc(u,f){var v=u[f-1+0],w=u[f-1+32],A=u[f-1+64],E=u[f-1-32],O=u[f+0-32],T=u[f+1-32],F=u[f+2-32],U=u[f+3-32];u[f+0+96]=ht(w,A,u[f-1+96]),u[f+1+96]=u[f+0+64]=ht(v,w,A),u[f+2+96]=u[f+1+64]=u[f+0+32]=ht(E,v,w),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ht(O,E,v),u[f+3+64]=u[f+2+32]=u[f+1+0]=ht(T,O,E),u[f+3+32]=u[f+2+0]=ht(F,T,O),u[f+3+0]=ht(U,F,T)}function Bc(u,f){var v=u[f+1-32],w=u[f+2-32],A=u[f+3-32],E=u[f+4-32],O=u[f+5-32],T=u[f+6-32],F=u[f+7-32];u[f+0+0]=ht(u[f+0-32],v,w),u[f+1+0]=u[f+0+32]=ht(v,w,A),u[f+2+0]=u[f+1+32]=u[f+0+64]=ht(w,A,E),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ht(A,E,O),u[f+3+32]=u[f+2+64]=u[f+1+96]=ht(E,O,T),u[f+3+64]=u[f+2+96]=ht(O,T,F),u[f+3+96]=ht(T,F,F)}function Lo(u,f){var v=u[f-1+0],w=u[f-1+32],A=u[f-1+64],E=u[f-1-32],O=u[f+0-32],T=u[f+1-32],F=u[f+2-32],U=u[f+3-32];u[f+0+0]=u[f+1+64]=E+O+1>>1,u[f+1+0]=u[f+2+64]=O+T+1>>1,u[f+2+0]=u[f+3+64]=T+F+1>>1,u[f+3+0]=F+U+1>>1,u[f+0+96]=ht(A,w,v),u[f+0+64]=ht(w,v,E),u[f+0+32]=u[f+1+96]=ht(v,E,O),u[f+1+32]=u[f+2+96]=ht(E,O,T),u[f+2+32]=u[f+3+96]=ht(O,T,F),u[f+3+32]=ht(T,F,U)}function Ql(u,f){var v=u[f+0-32],w=u[f+1-32],A=u[f+2-32],E=u[f+3-32],O=u[f+4-32],T=u[f+5-32],F=u[f+6-32],U=u[f+7-32];u[f+0+0]=v+w+1>>1,u[f+1+0]=u[f+0+64]=w+A+1>>1,u[f+2+0]=u[f+1+64]=A+E+1>>1,u[f+3+0]=u[f+2+64]=E+O+1>>1,u[f+0+32]=ht(v,w,A),u[f+1+32]=u[f+0+96]=ht(w,A,E),u[f+2+32]=u[f+1+96]=ht(A,E,O),u[f+3+32]=u[f+2+96]=ht(E,O,T),u[f+3+64]=ht(O,T,F),u[f+3+96]=ht(T,F,U)}function _d(u,f){var v=u[f-1+0],w=u[f-1+32],A=u[f-1+64],E=u[f-1+96];u[f+0+0]=v+w+1>>1,u[f+2+0]=u[f+0+32]=w+A+1>>1,u[f+2+32]=u[f+0+64]=A+E+1>>1,u[f+1+0]=ht(v,w,A),u[f+3+0]=u[f+1+32]=ht(w,A,E),u[f+3+32]=u[f+1+64]=ht(A,E,E),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=E}function Sd(u,f){var v=u[f-1+0],w=u[f-1+32],A=u[f-1+64],E=u[f-1+96],O=u[f-1-32],T=u[f+0-32],F=u[f+1-32],U=u[f+2-32];u[f+0+0]=u[f+2+32]=v+O+1>>1,u[f+0+32]=u[f+2+64]=w+v+1>>1,u[f+0+64]=u[f+2+96]=A+w+1>>1,u[f+0+96]=E+A+1>>1,u[f+3+0]=ht(T,F,U),u[f+2+0]=ht(O,T,F),u[f+1+0]=u[f+3+32]=ht(v,O,T),u[f+1+32]=u[f+3+64]=ht(w,v,O),u[f+1+64]=u[f+3+96]=ht(A,w,v),u[f+1+96]=ht(E,A,w)}function Nd(u,f){var v;for(v=0;8>v;++v)r(u,f+32*v,u,f-32,8)}function Xl(u,f){var v;for(v=0;8>v;++v)i(u,f,u[f-1],8),f+=32}function Da(u,f,v){var w;for(w=0;8>w;++w)i(f,v+32*w,u,8)}function Ms(u,f){var v,w=8;for(v=0;8>v;++v)w+=u[f+v-32]+u[f-1+32*v];Da(w>>4,u,f)}function kd(u,f){var v,w=4;for(v=0;8>v;++v)w+=u[f+v-32];Da(w>>3,u,f)}function Ma(u,f){var v,w=4;for(v=0;8>v;++v)w+=u[f-1+32*v];Da(w>>3,u,f)}function Zl(u,f){Da(128,u,f)}function Ao(u,f,v){var w=u[f-v],A=u[f+0],E=3*(A-w)+Cd[1020+u[f-2*v]-u[f+v]],O=Xc[112+(E+4>>3)];u[f-v]=Ur[255+w+Xc[112+(E+3>>3)]],u[f+0]=Ur[255+A-O]}function Uc(u,f,v,w){var A=u[f+0],E=u[f+v];return si[255+u[f-2*v]-u[f-v]]>w||si[255+E-A]>w}function zc(u,f,v,w){return 4*si[255+u[f-v]-u[f+0]]+si[255+u[f-2*v]-u[f+v]]<=w}function $c(u,f,v,w,A){var E=u[f-3*v],O=u[f-2*v],T=u[f-v],F=u[f+0],U=u[f+v],te=u[f+2*v],de=u[f+3*v];return 4*si[255+T-F]+si[255+O-U]>w?0:si[255+u[f-4*v]-E]<=A&&si[255+E-O]<=A&&si[255+O-T]<=A&&si[255+de-te]<=A&&si[255+te-U]<=A&&si[255+U-F]<=A}function qc(u,f,v,w){var A=2*w+1;for(w=0;16>w;++w)zc(u,f+w,v,A)&&Ao(u,f+w,v)}function Bi(u,f,v,w){var A=2*w+1;for(w=0;16>w;++w)zc(u,f+w*v,1,A)&&Ao(u,f+w*v,1)}function us(u,f,v,w){var A;for(A=3;0<A;--A)qc(u,f+=4*v,v,w)}function Ld(u,f,v,w){var A;for(A=3;0<A;--A)Bi(u,f+=4,v,w)}function Bs(u,f,v,w,A,E,O,T){for(E=2*E+1;0<A--;){if($c(u,f,v,E,O))if(Uc(u,f,v,T))Ao(u,f,v);else{var F=u,U=f,te=v,de=F[U-2*te],pe=F[U-te],ue=F[U+0],Pe=F[U+te],_e=F[U+2*te],ne=27*(ke=Cd[1020+3*(ue-pe)+Cd[1020+de-Pe]])+63>>7,ae=18*ke+63>>7,ke=9*ke+63>>7;F[U-3*te]=Ur[255+F[U-3*te]+ke],F[U-2*te]=Ur[255+de+ae],F[U-te]=Ur[255+pe+ne],F[U+0]=Ur[255+ue-ne],F[U+te]=Ur[255+Pe-ae],F[U+2*te]=Ur[255+_e-ke]}f+=w}}function vi(u,f,v,w,A,E,O,T){for(E=2*E+1;0<A--;){if($c(u,f,v,E,O))if(Uc(u,f,v,T))Ao(u,f,v);else{var F=u,U=f,te=v,de=F[U-te],pe=F[U+0],ue=F[U+te],Pe=Xc[112+((_e=3*(pe-de))+4>>3)],_e=Xc[112+(_e+3>>3)],ne=Pe+1>>1;F[U-2*te]=Ur[255+F[U-2*te]+ne],F[U-te]=Ur[255+de+_e],F[U+0]=Ur[255+pe-Pe],F[U+te]=Ur[255+ue-ne]}f+=w}}function eu(u,f,v,w,A,E){Bs(u,f,v,1,16,w,A,E)}function Ba(u,f,v,w,A,E){Bs(u,f,1,v,16,w,A,E)}function Ad(u,f,v,w,A,E){var O;for(O=3;0<O;--O)vi(u,f+=4*v,v,1,16,w,A,E)}function Po(u,f,v,w,A,E){var O;for(O=3;0<O;--O)vi(u,f+=4,1,v,16,w,A,E)}function Pd(u,f,v,w,A,E,O,T){Bs(u,f,A,1,8,E,O,T),Bs(v,w,A,1,8,E,O,T)}function tu(u,f,v,w,A,E,O,T){Bs(u,f,1,A,8,E,O,T),Bs(v,w,1,A,8,E,O,T)}function nu(u,f,v,w,A,E,O,T){vi(u,f+4*A,A,1,8,E,O,T),vi(v,w+4*A,A,1,8,E,O,T)}function Wc(u,f,v,w,A,E,O,T){vi(u,f+4,1,A,8,E,O,T),vi(v,w+4,1,A,8,E,O,T)}function jo(){this.ba=new Ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ru(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function iu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hc(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new C}function jd(){this.xb=this.a=0,this.l=new Ds,this.ca=new Ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hc,this.ab=0,this.gc=a(4,iu),this.Oc=0}function Eo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ds,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ua(u,f,v,w,A,E,O){for(u=u==null?0:u[f+0],f=0;f<O;++f)A[E+f]=u+v[w+f]&255,u=A[E+f]}function su(u,f,v,w,A,E,O){var T;if(u==null)Ua(null,null,v,w,A,E,O);else for(T=0;T<O;++T)A[E+T]=u[f+T]+v[w+T]&255}function Us(u,f,v,w,A,E,O){if(u==null)Ua(null,null,v,w,A,E,O);else{var T,F=u[f+0],U=F,te=F;for(T=0;T<O;++T)U=te+(F=u[f+T])-U,te=v[w+T]+(-256&U?0>U?0:255:U)&255,U=F,A[E+T]=te}}function au(u,f,v,w){var A=f.width,E=f.o;if(e(u!=null&&f!=null),0>v||0>=w||v+w>E)return null;if(!u.Cc){if(u.ga==null){var O;if(u.ga=new Eo,(O=u.ga==null)||(O=f.width*f.o,e(u.Gb.length==0),u.Gb=s(O),u.Uc=0,u.Gb==null?O=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,O=1),O=!O),!O){O=u.ga;var T=u.Fa,F=u.P,U=u.qc,te=u.mb,de=u.nb,pe=F+1,ue=U-1,Pe=O.l;if(e(T!=null&&te!=null&&f!=null),Vs[0]=null,Vs[1]=Ua,Vs[2]=su,Vs[3]=Us,O.ca=te,O.tb=de,O.c=f.width,O.i=f.height,e(0<O.c&&0<O.i),1>=U)f=0;else if(O.$a=T[F+0]>>0&3,O.Z=T[F+0]>>2&3,O.Lc=T[F+0]>>4&3,F=T[F+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||F)f=0;else if(Pe.put=Yr,Pe.ac=Cn,Pe.bc=Qr,Pe.ma=O,Pe.width=f.width,Pe.height=f.height,Pe.Da=f.Da,Pe.v=f.v,Pe.va=f.va,Pe.j=f.j,Pe.o=f.o,O.$a)e:{e(O.$a==1),f=br();t:for(;;){if(f==null){f=0;break e}if(e(O!=null),O.mc=f,f.c=O.c,f.i=O.i,f.l=O.l,f.l.ma=O,f.l.width=O.c,f.l.height=O.i,f.a=0,H(f.m,T,pe,ue),!ei(O.c,O.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&gi(f.s)?(O.ic=1,T=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(T),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(O.ic=0,f=ss(f,O.c)),!f))break t;f=1;break e}O.mc=null,f=0}else f=ue>=O.c*O.i;O=!f}if(O)return null;u.ga.Lc!=1?u.Ga=0:w=E-v}e(u.ga!=null),e(v+w<=E);e:{if(f=(T=u.ga).c,E=T.l.o,T.$a==0){if(pe=u.rc,ue=u.Vc,Pe=u.Fa,F=u.P+1+v*f,U=u.mb,te=u.nb+v*f,e(F<=u.P+u.qc),T.Z!=0)for(e(Vs[T.Z]!=null),O=0;O<w;++O)Vs[T.Z](pe,ue,Pe,F,U,te,f),pe=U,ue=te,te+=f,F+=f;else for(O=0;O<w;++O)r(U,te,Pe,F,f),pe=U,ue=te,te+=f,F+=f;u.rc=pe,u.Vc=ue}else{if(e(T.mc!=null),f=v+w,e((O=T.mc)!=null),e(f<=O.i),O.C>=f)f=1;else if(T.ic||fe(),T.ic){T=O.V,pe=O.Ba,ue=O.c;var _e=O.i,ne=(Pe=1,F=O.$/ue,U=O.$%ue,te=O.m,de=O.s,O.$),ae=ue*_e,ke=ue*f,Ee=de.wc,Le=ne<ke?pn(de,U,F):null;e(ne<=ae),e(f<=_e),e(gi(de));t:for(;;){for(;!te.h&&ne<ke;){if(U&Ee||(Le=pn(de,U,F)),e(Le!=null),se(te),256>(_e=Yn(Le.G[0],Le.H[0],te)))T[pe+ne]=_e,++ne,++U>=ue&&(U=0,++F<=f&&!(F%16)&&Fr(O,F));else{if(!(280>_e)){Pe=0;break t}_e=Tr(_e-256,te);var Ye,ze=Yn(Le.G[4],Le.H[4],te);if(se(te),!(ne>=(ze=Xr(ue,ze=Tr(ze,te)))&&ae-ne>=_e)){Pe=0;break t}for(Ye=0;Ye<_e;++Ye)T[pe+ne+Ye]=T[pe+ne+Ye-ze];for(ne+=_e,U+=_e;U>=ue;)U-=ue,++F<=f&&!(F%16)&&Fr(O,F);ne<ke&&U&Ee&&(Le=pn(de,U,F))}e(te.h==G(te))}Fr(O,F>f?f:F);break t}!Pe||te.h&&ne<ae?(Pe=0,O.a=te.h?5:3):O.$=ne,f=Pe}else f=Dr(O,O.V,O.Ba,O.c,O.i,f,Os);if(!f){w=0;break e}}v+w>=E&&(u.Cc=1),w=1}if(!w)return null;if(u.Cc&&((w=u.ga)!=null&&(w.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*A}function p(u,f,v,w,A,E){for(;0<A--;){var O,T=u,F=f+(v?1:0),U=u,te=f+(v?0:3);for(O=0;O<w;++O){var de=U[te+4*O];de!=255&&(de*=32897,T[F+4*O+0]=T[F+4*O+0]*de>>23,T[F+4*O+1]=T[F+4*O+1]*de>>23,T[F+4*O+2]=T[F+4*O+2]*de>>23)}f+=E}}function P(u,f,v,w,A){for(;0<w--;){var E;for(E=0;E<v;++E){var O=u[f+2*E+0],T=15&(U=u[f+2*E+1]),F=4369*T,U=(240&U|U>>4)*F>>16;u[f+2*E+0]=(240&O|O>>4)*F>>16&240|(15&O|O<<4)*F>>16>>4&15,u[f+2*E+1]=240&U|T}f+=A}}function W(u,f,v,w,A,E,O,T){var F,U,te=255;for(U=0;U<A;++U){for(F=0;F<w;++F){var de=u[f+F];E[O+4*F]=de,te&=de}f+=v,O+=T}return te!=255}function ee(u,f,v,w,A){var E;for(E=0;E<A;++E)v[w+E]=u[f+E]>>8}function fe(){ii=p,Xt=P,Zt=W,bn=ee}function Se(u,f,v){M[u]=function(w,A,E,O,T,F,U,te,de,pe,ue,Pe,_e,ne,ae,ke,Ee){var Le,Ye=Ee-1>>1,ze=T[F+0]|U[te+0]<<16,it=de[pe+0]|ue[Pe+0]<<16;e(w!=null);var Ve=3*ze+it+131074>>2;for(f(w[A+0],255&Ve,Ve>>16,_e,ne),E!=null&&(Ve=3*it+ze+131074>>2,f(E[O+0],255&Ve,Ve>>16,ae,ke)),Le=1;Le<=Ye;++Le){var Mt=T[F+Le]|U[te+Le]<<16,Ut=de[pe+Le]|ue[Pe+Le]<<16,It=ze+Mt+it+Ut+524296,Lt=It+2*(Mt+it)>>3;Ve=Lt+ze>>1,ze=(It=It+2*(ze+Ut)>>3)+Mt>>1,f(w[A+2*Le-1],255&Ve,Ve>>16,_e,ne+(2*Le-1)*v),f(w[A+2*Le-0],255&ze,ze>>16,_e,ne+(2*Le-0)*v),E!=null&&(Ve=It+it>>1,ze=Lt+Ut>>1,f(E[O+2*Le-1],255&Ve,Ve>>16,ae,ke+(2*Le-1)*v),f(E[O+2*Le+0],255&ze,ze>>16,ae,ke+(2*Le+0)*v)),ze=Mt,it=Ut}1&Ee||(Ve=3*ze+it+131074>>2,f(w[A+Ee-1],255&Ve,Ve>>16,_e,ne+(Ee-1)*v),E!=null&&(Ve=3*it+ze+131074>>2,f(E[O+Ee-1],255&Ve,Ve>>16,ae,ke+(Ee-1)*v)))}}function Ie(){ai[Zc]=_b,ai[ef]=km,ai[bm]=Sb,ai[tf]=Lm,ai[nf]=Am,ai[Od]=Pm,ai[xm]=Nb,ai[Id]=km,ai[Td]=Lm,ai[rf]=Am,ai[Rd]=Pm}function Je(u){return u&-16384?0>u?0:255:u>>kb}function nt(u,f){return Je((19077*u>>8)+(26149*f>>8)-14234)}function yt(u,f,v){return Je((19077*u>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function gt(u,f){return Je((19077*u>>8)+(33050*f>>8)-17685)}function Et(u,f,v,w,A){w[A+0]=nt(u,v),w[A+1]=yt(u,f,v),w[A+2]=gt(u,f)}function un(u,f,v,w,A){w[A+0]=gt(u,f),w[A+1]=yt(u,f,v),w[A+2]=nt(u,v)}function gn(u,f,v,w,A){var E=yt(u,f,v);f=E<<3&224|gt(u,f)>>3,w[A+0]=248&nt(u,v)|E>>5,w[A+1]=f}function kn(u,f,v,w,A){var E=240&gt(u,f)|15;w[A+0]=240&nt(u,v)|yt(u,f,v)>>4,w[A+1]=E}function Xn(u,f,v,w,A){w[A+0]=255,Et(u,f,v,w,A+1)}function Fn(u,f,v,w,A){un(u,f,v,w,A),w[A+3]=255}function yi(u,f,v,w,A){Et(u,f,v,w,A),w[A+3]=255}function Br(u,f){return 0>u?0:u>f?f:u}function Ui(u,f,v){M[u]=function(w,A,E,O,T,F,U,te,de){for(var pe=te+(-2&de)*v;te!=pe;)f(w[A+0],E[O+0],T[F+0],U,te),f(w[A+1],E[O+0],T[F+0],U,te+v),A+=2,++O,++F,te+=2*v;1&de&&f(w[A+0],E[O+0],T[F+0],U,te)}}function Vc(u,f,v){return v==0?u==0?f==0?6:5:f==0?4:0:v}function ou(u,f,v,w,A){switch(u>>>30){case 3:hs(f,v,w,A,0);break;case 2:wn(f,v,w,A);break;case 1:dr(f,v,w,A)}}function lu(u,f){var v,w,A=f.M,E=f.Nb,O=u.oc,T=u.pc+40,F=u.oc,U=u.pc+584,te=u.oc,de=u.pc+600;for(v=0;16>v;++v)O[T+32*v-1]=129;for(v=0;8>v;++v)F[U+32*v-1]=129,te[de+32*v-1]=129;for(0<A?O[T-1-32]=F[U-1-32]=te[de-1-32]=129:(i(O,T-32-1,127,21),i(F,U-32-1,127,9),i(te,de-32-1,127,9)),w=0;w<u.za;++w){var pe=f.ya[f.aa+w];if(0<w){for(v=-1;16>v;++v)r(O,T+32*v-4,O,T+32*v+12,4);for(v=-1;8>v;++v)r(F,U+32*v-4,F,U+32*v+4,4),r(te,de+32*v-4,te,de+32*v+4,4)}var ue=u.Gd,Pe=u.Hd+w,_e=pe.ad,ne=pe.Hc;if(0<A&&(r(O,T-32,ue[Pe].y,0,16),r(F,U-32,ue[Pe].f,0,8),r(te,de-32,ue[Pe].ea,0,8)),pe.Za){var ae=O,ke=T-32+16;for(0<A&&(w>=u.za-1?i(ae,ke,ue[Pe].y[15],4):r(ae,ke,ue[Pe+1].y,0,4)),v=0;4>v;v++)ae[ke+128+v]=ae[ke+256+v]=ae[ke+384+v]=ae[ke+0+v];for(v=0;16>v;++v,ne<<=2)ae=O,ke=T+Em[v],wi[pe.Ob[v]](ae,ke),ou(ne,_e,16*+v,ae,ke)}else if(ae=Vc(w,A,pe.Ob[0]),Hs[ae](O,T),ne!=0)for(v=0;16>v;++v,ne<<=2)ou(ne,_e,16*+v,O,T+Em[v]);for(v=pe.Gc,ae=Vc(w,A,pe.Dd),ps[ae](F,U),ps[ae](te,de),ne=_e,ae=F,ke=U,255&(pe=v>>0)&&(170&pe?du(ne,256,ae,ke):ni(ne,256,ae,ke)),pe=te,ne=de,255&(v>>=8)&&(170&v?du(_e,320,pe,ne):ni(_e,320,pe,ne)),A<u.Ub-1&&(r(ue[Pe].y,0,O,T+480,16),r(ue[Pe].f,0,F,U+224,8),r(ue[Pe].ea,0,te,de+224,8)),v=8*E*u.B,ue=u.sa,Pe=u.ta+16*w+16*E*u.R,_e=u.qa,pe=u.ra+8*w+v,ne=u.Ha,ae=u.Ia+8*w+v,v=0;16>v;++v)r(ue,Pe+v*u.R,O,T+32*v,16);for(v=0;8>v;++v)r(_e,pe+v*u.B,F,U+32*v,8),r(ne,ae+v*u.B,te,de+32*v,8)}}function Co(u,f,v,w,A,E,O,T,F){var U=[0],te=[0],de=0,pe=F!=null?F.kd:0,ue=F!=null?F:new ru;if(u==null||12>v)return 7;ue.data=u,ue.w=f,ue.ha=v,f=[f],v=[v],ue.gb=[ue.gb];e:{var Pe=f,_e=v,ne=ue.gb;if(e(u!=null),e(_e!=null),e(ne!=null),ne[0]=0,12<=_e[0]&&!n(u,Pe[0],"RIFF")){if(n(u,Pe[0]+8,"WEBP")){ne=3;break e}var ae=$e(u,Pe[0]+4);if(12>ae||4294967286<ae){ne=3;break e}if(pe&&ae>_e[0]-8){ne=7;break e}ne[0]=ae,Pe[0]+=12,_e[0]-=12}ne=0}if(ne!=0)return ne;for(ae=0<ue.gb[0],v=v[0];;){e:{var ke=u;_e=f,ne=v;var Ee=U,Le=te,Ye=Pe=[0];if((Ve=de=[de])[0]=0,8>ne[0])ne=7;else{if(!n(ke,_e[0],"VP8X")){if($e(ke,_e[0]+4)!=10){ne=3;break e}if(18>ne[0]){ne=7;break e}var ze=$e(ke,_e[0]+8),it=1+We(ke,_e[0]+12);if(2147483648<=it*(ke=1+We(ke,_e[0]+15))){ne=3;break e}Ye!=null&&(Ye[0]=ze),Ee!=null&&(Ee[0]=it),Le!=null&&(Le[0]=ke),_e[0]+=18,ne[0]-=18,Ve[0]=1}ne=0}}if(de=de[0],Pe=Pe[0],ne!=0)return ne;if(_e=!!(2&Pe),!ae&&de)return 3;if(E!=null&&(E[0]=!!(16&Pe)),O!=null&&(O[0]=_e),T!=null&&(T[0]=0),O=U[0],Pe=te[0],de&&_e&&F==null){ne=0;break}if(4>v){ne=7;break}if(ae&&de||!ae&&!de&&!n(u,f[0],"ALPH")){v=[v],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{ze=u,ne=f,ae=v;var Ve=ue.gb;Ee=ue.na,Le=ue.P,Ye=ue.Sa,it=22,e(ze!=null),e(ae!=null),ke=ne[0];var Mt=ae[0];for(e(Ee!=null),e(Ye!=null),Ee[0]=null,Le[0]=null,Ye[0]=0;;){if(ne[0]=ke,ae[0]=Mt,8>Mt){ne=7;break e}var Ut=$e(ze,ke+4);if(4294967286<Ut){ne=3;break e}var It=8+Ut+1&-2;if(it+=It,0<Ve&&it>Ve){ne=3;break e}if(!n(ze,ke,"VP8 ")||!n(ze,ke,"VP8L")){ne=0;break e}if(Mt[0]<It){ne=7;break e}n(ze,ke,"ALPH")||(Ee[0]=ze,Le[0]=ke+8,Ye[0]=Ut),ke+=It,Mt-=It}}if(v=v[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],ne!=0)break}v=[v],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(Ve=u,ne=f,ae=v,Ee=ue.gb[0],Le=ue.Ja,Ye=ue.xa,ze=ne[0],ke=!n(Ve,ze,"VP8 "),it=!n(Ve,ze,"VP8L"),e(Ve!=null),e(ae!=null),e(Le!=null),e(Ye!=null),8>ae[0])ne=7;else{if(ke||it){if(Ve=$e(Ve,ze+4),12<=Ee&&Ve>Ee-12){ne=3;break e}if(pe&&Ve>ae[0]-8){ne=7;break e}Le[0]=Ve,ne[0]+=8,ae[0]-=8,Ye[0]=it}else Ye[0]=5<=ae[0]&&Ve[ze+0]==47&&!(Ve[ze+4]>>5),Le[0]=ae[0];ne=0}if(v=v[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],f=f[0],ne!=0)break;if(4294967286<ue.Ja)return 3;if(T==null||_e||(T[0]=ue.xa?2:1),O=[O],Pe=[Pe],ue.xa){if(5>v){ne=7;break}T=O,pe=Pe,_e=E,u==null||5>v?u=0:5<=v&&u[f+0]==47&&!(u[f+4]>>5)?(ae=[0],Ve=[0],Ee=[0],H(Le=new j,u,f,v),rt(Le,ae,Ve,Ee)?(T!=null&&(T[0]=ae[0]),pe!=null&&(pe[0]=Ve[0]),_e!=null&&(_e[0]=Ee[0]),u=1):u=0):u=0}else{if(10>v){ne=7;break}T=Pe,u==null||10>v||!Y(u,f+3,v-3)?u=0:(pe=u[f+0]|u[f+1]<<8|u[f+2]<<16,_e=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&pe||3<(pe>>1&7)||!(pe>>4&1)||pe>>5>=ue.Ja||!_e||!u?u=0:(O&&(O[0]=_e),T&&(T[0]=u),u=1))}if(!u||(O=O[0],Pe=Pe[0],de&&(U[0]!=O||te[0]!=Pe)))return 3;F!=null&&(F[0]=ue,F.offset=f-F.w,e(4294967286>f-F.w),e(F.offset==F.ha-v));break}return ne==0||ne==7&&de&&F==null?(E!=null&&(E[0]|=ue.na!=null&&0<ue.na.length),w!=null&&(w[0]=O),A!=null&&(A[0]=Pe),0):ne}function uu(u,f,v){var w=f.width,A=f.height,E=0,O=0,T=w,F=A;if(f.Da=u!=null&&0<u.Da,f.Da&&(T=u.cd,F=u.bd,E=u.v,O=u.j,11>v||(E&=-2,O&=-2),0>E||0>O||0>=T||0>=F||E+T>w||O+F>A))return 0;if(f.v=E,f.j=O,f.va=E+T,f.o=O+F,f.U=T,f.T=F,f.da=u!=null&&0<u.da,f.da){if(!ct(T,F,v=[u.ib],E=[u.hb]))return 0;f.ib=v[0],f.hb=E[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*w/4&&f.hb<3*A/4,f.Kb=0),1}function cu(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function Oo(u,f,v,w){if(w==null||0>=u||0>=f)return 2;if(v!=null){if(v.Da){var A=v.cd,E=v.bd,O=-2&v.v,T=-2&v.j;if(0>O||0>T||0>=A||0>=E||O+A>u||T+E>f)return 2;u=A,f=E}if(v.da){if(!ct(u,f,A=[v.ib],E=[v.hb]))return 2;u=A[0],f=E[0]}}w.width=u,w.height=f;e:{var F=w.width,U=w.height;if(u=w.S,0>=F||0>=U||!(u>=Zc&&13>u))u=2;else{if(0>=w.Rd&&w.sd==null){O=E=A=f=0;var te=(T=F*Cm[u])*U;if(11>u||(E=(U+1)/2*(f=(F+1)/2),u==12&&(O=(A=F)*U)),(U=s(te+2*E+O))==null){u=1;break e}w.sd=U,11>u?((F=w.f.RGBA).eb=U,F.fb=0,F.A=T,F.size=te):((F=w.f.kb).y=U,F.O=0,F.fa=T,F.Fd=te,F.f=U,F.N=0+te,F.Ab=f,F.Cd=E,F.ea=U,F.W=0+te+E,F.Db=f,F.Ed=E,u==12&&(F.F=U,F.J=0+te+2*E),F.Tc=O,F.lb=A)}if(f=1,A=w.S,E=w.width,O=w.height,A>=Zc&&13>A)if(11>A)u=w.f.RGBA,f&=(T=Math.abs(u.A))*(O-1)+E<=u.size,f&=T>=E*Cm[A],f&=u.eb!=null;else{u=w.f.kb,T=(E+1)/2,te=(O+1)/2,F=Math.abs(u.fa),U=Math.abs(u.Ab);var de=Math.abs(u.Db),pe=Math.abs(u.lb),ue=pe*(O-1)+E;f&=F*(O-1)+E<=u.Fd,f&=U*(te-1)+T<=u.Cd,f=(f&=de*(te-1)+T<=u.Ed)&F>=E&U>=T&de>=T,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,A==12&&(f&=pe>=E,f&=ue<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||v!=null&&v.fd&&(u=cu(w)),u}var Wn=64,Io=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],To=24,Ro=32,fu=8,xr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(u){return u},M.Predictor2=function(u,f,v){return f[v+0]},M.Predictor3=function(u,f,v){return f[v+1]},M.Predictor4=function(u,f,v){return f[v-1]},M.Predictor5=function(u,f,v){return qe(qe(u,f[v+1]),f[v+0])},M.Predictor6=function(u,f,v){return qe(u,f[v-1])},M.Predictor7=function(u,f,v){return qe(u,f[v+0])},M.Predictor8=function(u,f,v){return qe(f[v-1],f[v+0])},M.Predictor9=function(u,f,v){return qe(f[v+0],f[v+1])},M.Predictor10=function(u,f,v){return qe(qe(u,f[v-1]),qe(f[v+0],f[v+1]))},M.Predictor11=function(u,f,v){var w=f[v+0];return 0>=pt(w>>24&255,u>>24&255,(f=f[v-1])>>24&255)+pt(w>>16&255,u>>16&255,f>>16&255)+pt(w>>8&255,u>>8&255,f>>8&255)+pt(255&w,255&u,255&f)?w:u},M.Predictor12=function(u,f,v){var w=f[v+0];return(tt((u>>24&255)+(w>>24&255)-((f=f[v-1])>>24&255))<<24|tt((u>>16&255)+(w>>16&255)-(f>>16&255))<<16|tt((u>>8&255)+(w>>8&255)-(f>>8&255))<<8|tt((255&u)+(255&w)-(255&f)))>>>0},M.Predictor13=function(u,f,v){var w=f[v-1];return(ut((u=qe(u,f[v+0]))>>24&255,w>>24&255)<<24|ut(u>>16&255,w>>16&255)<<16|ut(u>>8&255,w>>8&255)<<8|ut(u>>0&255,w>>0&255))>>>0};var Ed=M.PredictorAdd0;M.PredictorAdd1=xt,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var hu=M.PredictorAdd2;_t("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),_t("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Gc,ti=M.ColorIndexInverseTransform,Fo=M.MapARGB,Kc=M.VP8LColorIndexInverseTransformAlpha,Jc=M.MapAlpha,zs=M.VP8LPredictorsAdd=[];zs.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var za,_r,hr,$s,cs,fs,Do,hs,wn,du,dr,ni,Mo,Yc,pu,$a,qa,qs,Wa,Bo,Ha,Ws,gu,ri,ii,Xt,Zt,bn,On=s(511),ds=s(2041),mu=s(225),Uo=s(767),Qc=0,Cd=ds,Xc=mu,Ur=Uo,si=On,Zc=0,ef=1,bm=2,tf=3,nf=4,Od=5,xm=6,Id=7,Td=8,rf=9,Rd=10,lb=[2,3,7],ub=[3,3,11],_m=[280,256,256,256,40],cb=[0,1,1,1,0],fb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],hb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],db=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],pb=8,Fd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Dd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],vu=null,gb=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],mb=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vb=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yb=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wb=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],bb=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Hs=[],wi=[],ps=[],xb=1,Nm=2,Vs=[],ai=[];Se("UpsampleRgbLinePair",Et,3),Se("UpsampleBgrLinePair",un,3),Se("UpsampleRgbaLinePair",yi,4),Se("UpsampleBgraLinePair",Fn,4),Se("UpsampleArgbLinePair",Xn,4),Se("UpsampleRgba4444LinePair",kn,2),Se("UpsampleRgb565LinePair",gn,2);var _b=M.UpsampleRgbLinePair,Sb=M.UpsampleBgrLinePair,km=M.UpsampleRgbaLinePair,Lm=M.UpsampleBgraLinePair,Am=M.UpsampleArgbLinePair,Pm=M.UpsampleRgba4444LinePair,Nb=M.UpsampleRgb565LinePair,sf=16,af=1<<sf-1,yu=-227,Md=482,kb=6,jm=0,Lb=s(256),Ab=s(256),Pb=s(256),jb=s(256),Eb=s(Md-yu),Cb=s(Md-yu);Ui("YuvToRgbRow",Et,3),Ui("YuvToBgrRow",un,3),Ui("YuvToRgbaRow",yi,4),Ui("YuvToBgraRow",Fn,4),Ui("YuvToArgbRow",Xn,4),Ui("YuvToRgba4444Row",kn,2),Ui("YuvToRgb565Row",gn,2);var Em=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],of=[0,2,8],Ob=[8,7,6,4,4,2,2,2,1,1,1,1],Ib=1;this.WebPDecodeRGBA=function(u,f,v,w,A){var E=ef,O=new jo,T=new Ir;O.ba=T,T.S=E,T.width=[T.width],T.height=[T.height];var F=T.width,U=T.height,te=new pi;if(te==null||u==null)var de=2;else e(te!=null),de=Co(u,f,v,te.width,te.height,te.Pd,te.Qd,te.format,null);if(de!=0?F=0:(F!=null&&(F[0]=te.width[0]),U!=null&&(U[0]=te.height[0]),F=1),F){T.width=T.width[0],T.height=T.height[0],w!=null&&(w[0]=T.width),A!=null&&(A[0]=T.height);e:{if(w=new Ds,(A=new ru).data=u,A.w=f,A.ha=v,A.kd=1,f=[0],e(A!=null),((u=Co(A.data,A.w,A.ha,null,null,null,f,null,A))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(O!=null),w.data=A.data,w.w=A.w+A.offset,w.ha=A.ha-A.offset,w.put=Yr,w.ac=Cn,w.bc=Qr,w.ma=O,A.xa){if((u=br())==null){O=1;break e}if(function(pe,ue){var Pe=[0],_e=[0],ne=[0];t:for(;;){if(pe==null)return 0;if(ue==null)return pe.a=2,0;if(pe.l=ue,pe.a=0,H(pe.m,ue.data,ue.w,ue.ha),!rt(pe.m,Pe,_e,ne)){pe.a=3;break t}if(pe.xb=Nm,ue.width=Pe[0],ue.height=_e[0],!ei(Pe[0],_e[0],1,pe,null))break t;return 1}return e(pe.a!=0),0}(u,w)){if(w=(f=Oo(w.width,w.height,O.Oa,O.ba))==0){t:{w=u;n:for(;;){if(w==null){w=0;break t}if(e(w.s.yc!=null),e(w.s.Ya!=null),e(0<w.s.Wb),e((v=w.l)!=null),e((A=v.ma)!=null),w.xb!=0){if(w.ca=A.ba,w.tb=A.tb,e(w.ca!=null),!uu(A.Oa,v,tf)){w.a=2;break n}if(!ss(w,v.width)||v.da)break n;if((v.da||Ot(w.ca.S))&&fe(),11>w.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),w.ca.f.kb.F!=null&&fe()),w.Pb&&0<w.s.ua&&w.s.vb.X==null&&!st(w.s.vb,w.s.Wa.Xa)){w.a=1;break n}w.xb=0}if(!Dr(w,w.V,w.Ba,w.c,w.i,v.o,Cs))break n;A.Dc=w.Ma,w=1;break t}e(w.a!=0),w=0}w=!w}w&&(f=u.a)}else f=u.a}else{if((u=new Yl)==null){O=1;break e}if(u.Fa=A.na,u.P=A.P,u.qc=A.Sa,z(u,w)){if((f=Oo(w.width,w.height,O.Oa,O.ba))==0){if(u.Aa=0,v=O.Oa,e((A=u)!=null),v!=null){if(0<(F=0>(F=v.Md)?0:100<F?255:255*F/100)){for(U=te=0;4>U;++U)12>(de=A.pb[U]).lc&&(de.ia=F*Ob[0>de.lc?0:de.lc]>>3),te|=de.ia;te&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=v.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}re(u,w)||(f=u.a)}}else f=u.a}f==0&&O.Oa!=null&&O.Oa.fd&&(f=cu(O.ba))}O=f}E=O!=0?null:11>E?T.f.RGBA.eb:T.f.kb.y}else E=null;return E};var Cm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(M,Q){for(var X="",L=0;L<4;L++)X+=String.fromCharCode(M[Q++]);return X}function h(M,Q){return(M[Q+0]<<0|M[Q+1]<<8|M[Q+2]<<16)>>>0}function d(M,Q){return(M[Q+0]<<0|M[Q+1]<<8|M[Q+2]<<16|M[Q+3]<<24)>>>0}new l;var g=[0],m=[0],_=[],S=new l,k=t,y=function(M,Q){var X={},L=0,C=!1,B=0,K=0;if(X.frames=[],!function(q,G,Z,se){for(var me=0;me<se;me++)if(q[G+me]!=Z.charCodeAt(me))return!0;return!1}(M,Q,"RIFF",4)){var ve,ge;for(d(M,Q+=4),Q+=8;Q<M.length;){var ye=c(M,Q),H=d(M,Q+=4);Q+=4;var le=H+(1&H);switch(ye){case"VP8 ":case"VP8L":X.frames[L]===void 0&&(X.frames[L]={}),(j=X.frames[L]).src_off=C?K:Q-8,j.src_size=B+H+8,L++,C&&(C=!1,B=0,K=0);break;case"VP8X":(j=X.header={}).feature_flags=M[Q];var he=Q+4;j.canvas_width=1+h(M,he),he+=3,j.canvas_height=1+h(M,he),he+=3;break;case"ALPH":C=!0,B=le+8,K=Q-8;break;case"ANIM":(j=X.header).bgcolor=d(M,Q),he=Q+4,j.loop_count=(ve=M)[(ge=he)+0]<<0|ve[ge+1]<<8,he+=2;break;case"ANMF":var Ae,j;(j=X.frames[L]={}).offset_x=2*h(M,Q),Q+=3,j.offset_y=2*h(M,Q),Q+=3,j.width=1+h(M,Q),Q+=3,j.height=1+h(M,Q),Q+=3,j.duration=h(M,Q),Q+=3,Ae=M[Q++],j.dispose=1&Ae,j.blend=Ae>>1&1}ye!="ANMF"&&(Q+=le)}return X}}(k,0);y.response=k,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,N=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,g=[b.canvas_height],m=[b.canvas_width];for(var I=0;I<N.length&&N[I].blend!=0;I++);}var D=N[0],V=S.WebPDecodeRGBA(k,D.src_off,D.src_size,m,g);D.rgba=V,D.imgwidth=m[0],D.imgheight=g[0];for(var $=0;$<m[0]*g[0]*4;$++)_[$]=V[$];return this.width=m,this.height=g,this.data=_,this}(function(t){var e=function(){return typeof ig=="function"},n=function(g,m,_,S){var k=4,y=a;switch(S){case t.image_compression.FAST:k=1,y=s;break;case t.image_compression.MEDIUM:k=6,y=o;break;case t.image_compression.SLOW:k=9,y=l}g=r(g,m,_,y);var b=ig(g,{level:k});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(g,m,_,S){for(var k,y,b,N=g.length/m,I=new Uint8Array(g.length+N),D=h(),V=0;V<N;V+=1){if(b=V*m,k=g.subarray(b,b+m),S)I.set(S(k,_,y),b+V);else{for(var $,M=D.length,Q=[];$<M;$+=1)Q[$]=D[$](k,_,y);var X=d(Q.concat());I.set(Q[X],b+V)}y=k}return I},i=function(g){var m=Array.apply([],g);return m.unshift(0),m},s=function(g,m){var _,S=[],k=g.length;S[0]=1;for(var y=0;y<k;y+=1)_=g[y-m]||0,S[y+1]=g[y]-_+256&255;return S},a=function(g,m,_){var S,k=[],y=g.length;k[0]=2;for(var b=0;b<y;b+=1)S=_&&_[b]||0,k[b+1]=g[b]-S+256&255;return k},o=function(g,m,_){var S,k,y=[],b=g.length;y[0]=3;for(var N=0;N<b;N+=1)S=g[N-m]||0,k=_&&_[N]||0,y[N+1]=g[N]+256-(S+k>>>1)&255;return y},l=function(g,m,_){var S,k,y,b,N=[],I=g.length;N[0]=4;for(var D=0;D<I;D+=1)S=g[D-m]||0,k=_&&_[D]||0,y=_&&_[D-m]||0,b=c(S,k,y),N[D+1]=g[D]-b+256&255;return N},c=function(g,m,_){if(g===m&&m===_)return g;var S=Math.abs(m-_),k=Math.abs(g-_),y=Math.abs(g+m-_-_);return S<=k&&S<=y?g:k<=y?m:_},h=function(){return[i,s,a,o,l]},d=function(g){var m=g.map(function(_){return _.reduce(function(S,k){return S+Math.abs(k)},0)});return m.indexOf(Math.min.apply(null,m))};t.processPNG=function(g,m,_,S){var k,y,b,N,I,D,V,$,M,Q,X,L,C,B,K,ve=this.decode.FLATE_DECODE,ge="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(b=new PL(g)).imgData,y=b.bits,k=b.colorSpace,I=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){M=($=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,X=new Uint8Array(M*b.colors),Q=new Uint8Array(M);var ye,H=b.pixelBitlength-b.bits;for(B=0,K=0;B<M;B++){for(C=$[B],ye=0;ye<H;)X[K++]=C>>>ye&255,ye+=b.bits;Q[B]=C>>>ye&255}}if(b.bits===16){M=($=new Uint32Array(b.decodePixels().buffer)).length,X=new Uint8Array(M*(32/b.pixelBitlength)*b.colors),Q=new Uint8Array(M*(32/b.pixelBitlength)),L=b.colors>1,B=0,K=0;for(var le=0;B<M;)C=$[B++],X[K++]=C>>>0&255,L&&(X[K++]=C>>>16&255,C=$[B++],X[K++]=C>>>0&255),Q[le++]=C>>>16&255;y=8}S!==t.image_compression.NONE&&e()?(g=n(X,b.width*b.colors,b.colors,S),V=n(Q,b.width,1,S)):(g=X,V=Q,ve=void 0)}if(b.colorType===3&&(k=this.color_spaces.INDEXED,D=b.palette,b.transparency.indexed)){var he=b.transparency.indexed,Ae=0;for(B=0,M=he.length;B<M;++B)Ae+=he[B];if((Ae/=255)===M-1&&he.indexOf(0)!==-1)N=[he.indexOf(0)];else if(Ae!==M){for($=b.decodePixels(),Q=new Uint8Array($.length),B=0,M=$.length;B<M;B++)Q[B]=he[$[B]];V=n(Q,b.width,1)}}var j=function(q){var G;switch(q){case t.image_compression.FAST:G=11;break;case t.image_compression.MEDIUM:G=13;break;case t.image_compression.SLOW:G=14;break;default:G=12}return G}(S);return ve===this.decode.FLATE_DECODE&&(ge="/Predictor "+j+" "),ge+="/Colors "+I+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:_,data:g,index:m,filter:ve,decodeParameters:ge,transparency:N,palette:D,sMask:V,predictor:j,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:k}}}})(ot.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new jL(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},h=new Mp(100).encode(c,100);return t.processJPEG.call(this,h,n,r,i)},t.processGIF87A=t.processGIF89A}(ot.API),Si.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Si.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Kt.log("bit decode error:"+n)}},Si.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Si.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Si.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Si.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,h=r*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=c}this.pos+=t}},Si.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},Si.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Si.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Si.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Si(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Mp(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ot.API),av.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new av(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Mp(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(ot.API),ot.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var h=r[c],d=r[c+1],g=r[c+2],m=r[c+3];s[o++]=h,s[o++]=d,s[o++]=g,a[l++]=m}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},el=ot.API,qf=el.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=c.fof?c.fof:1,d=e.doKerning!==!1,g=0,m=t.length,_=0,S=o[0]||l,k=[];for(n=0;n<m;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=d&&qt(c[r])==="object"&&!isNaN(parseInt(c[r][_],10))?c[r][_]/h:0,k.push((o[r]||S)/l+g)),_=r;return k},nv=el.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return el.processArabic&&(t=el.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:qf.apply(this,arguments).reduce(function(s,a){return s+a},0)},rv=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},iv=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,h=[],d=[h],g=n.textIndent||0,m=0,_=0,S=t.split(" "),k=qf.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),b=[];S.map(function(I){(I=I.split(/\s*\n/)).length>1?b=b.concat(I.map(function(D,V){return(V&&D.length?`
`:"")+D})):b.push(I[0])}),S=b,l=nv.apply(this,[y,n])}for(s=0,a=S.length;s<a;s++){var N=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),N=1),g+m+(_=(i=qf.apply(this,[r,n])).reduce(function(I,D){return I+D},0))>e||N){if(_>e){for(o=rv.apply(this,[r,i,e-(g+m),e]),h.push(o.shift()),h=[o.pop()];o.length;)d.push([o.shift()]);_=i.slice(r.length-(h[0]?h[0].length:0)).reduce(function(I,D){return I+D},0)}else h=[r];d.push(h),g=_+l,m=k}else h.push(r),g+=m+_,m=k}return c=l?function(I,D){return(D?y:"")+I.join(" ")}:function(I){return I.join(" ")},d.map(c)},el.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var d=this.internal.getFont(h.fontName,h.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(iv.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},a=t.__fontmetrics__.compress=function(d){var g,m,_,S,k=["{"];for(var y in d){if(g=d[y],isNaN(parseInt(y,10))?m="'"+y+"'":(y=parseInt(y,10),m=(m=s(y).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof g=="number")g<0?(_=s(g).slice(3),S="-"):(_=s(g).slice(2),S=""),_=S+_.slice(0,-1)+r[_.slice(-1)];else{if(qt(g)!=="object")throw new Error("Don't know what to do with value type "+qt(g)+".");_=a(g)}k.push(m+_)}return k.push("}"),k.join("")},o=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,m,_,S,k={},y=1,b=k,N=[],I="",D="",V=d.length-1,$=1;$<V;$+=1)(S=d[$])=="'"?g?(_=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(N.push([b,_]),b={},_=void 0):S=="}"?((m=N.pop())[0][m[1]]=b,_=void 0,b=m[0]):S=="-"?y=-1:_===void 0?n.hasOwnProperty(S)?(I+=n[S],_=parseInt(I,16)*y,y=1,I=""):I+=S:n.hasOwnProperty(S)?(D+=n[S],b[_]=parseInt(D,16)*y,y=1,_=void 0,D=""):D+=S;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var g=d.font,m=h.Unicode[g.postScriptName];m&&(g.metadata.Unicode={},g.metadata.Unicode.widths=m.widths,g.metadata.Unicode.kerning=m.kerning);var _=c.Unicode[g.postScriptName];_&&(g.metadata.Unicode.encoding=_,g.encoding=_.codePages[0])}])}(ot.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(nc(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(ot),function(t){function e(){return(lt.canvg?Promise.resolve(lt.canvg):ka(()=>import("./index.es-DWNUPbHu.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ot.API.addSvgAsImage=function(n,r,i,s,a,o,l,c){if(isNaN(r)||isNaN(i))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=a;var d=h.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,h.width,h.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return e().then(function(_){return _.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(g)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),r,i,s,a,l,c)})}}(),ot.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ot.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,h=0,d=0;function g(_,S){var k,y=!1;for(k=0;k<_.length;k+=1)_[k]===S&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var m=o.length;for(d=0;d<m;d+=1)n[o[d]].value=n[o[d]].defaultValue,n[o[d]].explicitSet=!1}if(qt(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(h=0;h<s[c].length;h+=1)typeof s[c][h]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,S=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?S.push("/"+_+" /"+n[_].value):S.push("/"+_+" "+n[_].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ot.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],d=0,g=s.length;d<g;++d){if(o=a.metadata.characterToGlyph(s.charCodeAt(d)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(d),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(c[4-o.length],o)}return h.join("")},r=function(s){var a,o,l,c,h,d,g;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(o=Object.keys(s).sort(function(m,_){return m-_})).length;d<g;d++)a=o[d],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),m="",_=0;_<g.length;_++)m+=String.fromCharCode(g[_]);var S=c();h({data:m,addLength1:!0,objectId:S}),l("endobj");var k=c();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ol(o.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+ol(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+ol(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,g="",m=0;m<d.length;m++)g+=String.fromCharCode(d[m]);var _=c();h({data:g,addLength1:!0,objectId:_}),l("endobj");var S=c();h({data:r(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var k=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ol(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+ol(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,h=s.options||{},d=s.mutex||{},g=d.pdfEscape,m=d.activeFontKey,_=d.fonts,S=m,k="",y=0,b="",N=_[S].encoding;if(_[S].encoding!=="Identity-H")return{text:o,x:l,y:c,options:h,mutex:d};for(b=o,S=m,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)_[S].metadata.hasOwnProperty("cmap")&&(a=_[S].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),a||b[y].charCodeAt(0)<256&&_[S].metadata.hasOwnProperty("Unicode")?k+=b[y]:k+="";var I="";return parseInt(S.slice(1))<14||N==="WinAnsiEncoding"?I=g(k,S).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(I=n(k,_[S])),d.isHex=!0,{text:I,x:l,y:c,options:h,mutex:d}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,h,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,N=0;this.__bidiEngine__={};var I=function(L){var C=L.charCodeAt(),B=C>>8,K=S[B];return K!==void 0?d[256*K+(255&C)]:B===252||B===253?"AL":y.test(B)?"L":B===8?"R":"N"},D=function(L){for(var C,B=0;B<L.length;B++){if((C=I(L.charAt(B)))==="L")return!1;if(C==="R")return!0}return!1},V=function(L,C,B,K){var ve,ge,ye,H,le=C[K];switch(le){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(le="AN");break;case"AL":b=!0,le="R";break;case"WS":le="N";break;case"CS":K<1||K+1>=C.length||(ve=B[K-1])!=="EN"&&ve!=="AN"||(ge=C[K+1])!=="EN"&&ge!=="AN"?le="N":b&&(ge="AN"),le=ge===ve?ge:"N";break;case"ES":le=(ve=K>0?B[K-1]:"B")==="EN"&&K+1<C.length&&C[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&B[K-1]==="EN"){le="EN";break}if(b){le="N";break}for(ye=K+1,H=C.length;ye<H&&C[ye]==="ET";)ye++;le=ye<H&&C[ye]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(H=C.length,ye=K+1;ye<H&&C[ye]==="NSM";)ye++;if(ye<H){var he=L[K],Ae=he>=1425&&he<=2303||he===64286;if(ve=C[ye],Ae&&(ve==="R"||ve==="AL")){le="R";break}}}le=K<1||(ve=C[K-1])==="B"?"N":B[K-1];break;case"B":b=!1,i=!0,le=N;break;case"S":s=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":le="N"}return le},$=function(L,C,B){var K=L.split("");return B&&M(K,B,{hiLevel:N}),K.reverse(),C&&C.reverse(),K.join("")},M=function(L,C,B){var K,ve,ge,ye,H,le=-1,he=L.length,Ae=0,j=[],q=N?m:g,G=[];for(b=!1,i=!1,s=!1,ve=0;ve<he;ve++)G[ve]=I(L[ve]);for(ge=0;ge<he;ge++){if(H=Ae,j[ge]=V(L,G,j,ge),K=240&(Ae=q[H][_[j[ge]]]),Ae&=15,C[ge]=ye=q[Ae][5],K>0)if(K===16){for(ve=le;ve<ge;ve++)C[ve]=1;le=-1}else le=-1;if(q[Ae][6])le===-1&&(le=ge);else if(le>-1){for(ve=le;ve<ge;ve++)C[ve]=ye;le=-1}G[ge]==="B"&&(C[ge]=0),B.hiLevel|=ye}s&&function(Z,se,me){for(var we=0;we<me;we++)if(Z[we]==="S"){se[we]=N;for(var be=we-1;be>=0&&Z[be]==="WS";be--)se[be]=N}}(G,C,he)},Q=function(L,C,B,K,ve){if(!(ve.hiLevel<L)){if(L===1&&N===1&&!i)return C.reverse(),void(B&&B.reverse());for(var ge,ye,H,le,he=C.length,Ae=0;Ae<he;){if(K[Ae]>=L){for(H=Ae+1;H<he&&K[H]>=L;)H++;for(le=Ae,ye=H-1;le<ye;le++,ye--)ge=C[le],C[le]=C[ye],C[ye]=ge,B&&(ge=B[le],B[le]=B[ye],B[ye]=ge);Ae=H}Ae++}}},X=function(L,C,B){var K=L.split(""),ve={hiLevel:N};return B||(B=[]),M(K,B,ve),function(ge,ye,H){if(H.hiLevel!==0&&h)for(var le,he=0;he<ge.length;he++)ye[he]===1&&(le=k.indexOf(ge[he]))>=0&&(ge[he]=k[le+1])}(K,B,ve),Q(2,K,C,B,ve),Q(1,K,C,B,ve),K.join("")};return this.__bidiEngine__.doBidiReorder=function(L,C,B){if(function(ve,ge){if(ge)for(var ye=0;ye<ve.length;ye++)ge[ye]=ye;o===void 0&&(o=D(ve)),c===void 0&&(c=D(ve))}(L,C),a||!l||c)if(a&&l&&o^c)N=o?1:0,L=$(L,C,B);else if(!a&&l&&c)N=o?1:0,L=X(L,C,B),L=$(L,C);else if(!a||o||l||c){if(a&&!l&&o^c)L=$(L,C),o?(N=0,L=X(L,C,B)):(N=1,L=X(L,C,B),L=$(L,C));else if(a&&o&&!l&&c)N=1,L=X(L,C,B),L=$(L,C);else if(!a&&!l&&o^c){var K=h;o?(N=1,L=X(L,C,B),N=0,h=!1,L=X(L,C,B),h=K):(N=0,L=X(L,C,B),L=$(L,C),N=1,h=!1,L=X(L,C,B),h=K,L=$(L,C))}}else N=0,L=X(L,C,B);else N=o?1:0,L=X(L,C,B);return L},this.__bidiEngine__.setOptions=function(L){L&&(a=L.isInputVisual,l=L.isOutputVisual,o=L.isInputRtl,c=L.isOutputRtl,h=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Aa(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new WL(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new EL(this.contents),this.head=new OL(this),this.name=new DL(this),this.cmap=new rb(this),this.toUnicode={},this.hhea=new IL(this),this.maxp=new ML(this),this.hmtx=new BL(this),this.post=new RL(this),this.os2=new TL(this),this.loca=new qL(this),this.glyf=new UL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Fi,Aa=function(){function t(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),EL=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,c,h,d,g,m,_,S;for(S in m=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(m)/l),a=Math.floor(d/l),h=16*m-d,(i=new Aa).writeInt(this.scalarType),i.writeShort(m),i.writeShort(d),i.writeShort(a),i.writeShort(h),s=16*m,c=i.pos+s,o=null,_=[],n)for(g=n[S],i.writeString(S),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),_=_.concat(g),S==="head"&&(o=c),c+=g.length;c%4;)_.push(0),c++;return i.write(_),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=ib.call(n);n.length%4;)n.push(0);for(s=new Aa(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),CL={}.hasOwnProperty,ns=function(t,e){for(var n in e)CL.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Fi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var OL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Aa).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),ov=function(){function t(e,n){var r,i,s,a,o,l,c,h,d,g,m,_,S,k,y,b,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(m=e.readUInt16(),g=m/2,e.pos+=6,s=function(){var I,D;for(D=[],l=I=0;0<=g?I<g:I>g;l=0<=g?++I:--I)D.push(e.readUInt16());return D}(),e.pos+=2,S=function(){var I,D;for(D=[],l=I=0;0<=g?I<g:I>g;l=0<=g?++I:--I)D.push(e.readUInt16());return D}(),c=function(){var I,D;for(D=[],l=I=0;0<=g?I<g:I>g;l=0<=g?++I:--I)D.push(e.readUInt16());return D}(),h=function(){var I,D;for(D=[],l=I=0;0<=g?I<g:I>g;l=0<=g?++I:--I)D.push(e.readUInt16());return D}(),i=(this.length-e.pos+this.offset)/2,o=function(){var I,D;for(D=[],l=I=0;0<=i?I<i:I>i;l=0<=i?++I:--I)D.push(e.readUInt16());return D}(),l=y=0,N=s.length;y<N;l=++y)for(k=s[l],r=b=_=S[l];_<=k?b<=k:b>=k;r=_<=k?++b:--b)h[l]===0?a=r+c[l]:(a=o[h[l]/2+(r-_)-(g-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=d}return t.encode=function(e,n){var r,i,s,a,o,l,c,h,d,g,m,_,S,k,y,b,N,I,D,V,$,M,Q,X,L,C,B,K,ve,ge,ye,H,le,he,Ae,j,q,G,Z,se,me,we,be,Me,Fe,We;switch(K=new Aa,a=Object.keys(e).sort(function($e,st){return $e-st}),n){case"macroman":for(S=0,k=function(){var $e=[];for(_=0;_<256;++_)$e.push(0);return $e}(),b={0:0},s={},ve=0,le=a.length;ve<le;ve++)b[be=e[i=a[ve]]]==null&&(b[be]=++S),s[i]={old:e[i],new:b[e[i]]},k[i]=b[e[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(k),{charMap:s,subtable:K.data,maxGlyphID:S+1};case"unicode":for(C=[],d=[],N=0,b={},r={},y=c=null,ge=0,he=a.length;ge<he;ge++)b[D=e[i=a[ge]]]==null&&(b[D]=++N),r[i]={old:D,new:b[D]},o=b[D]-i,y!=null&&o===c||(y&&d.push(y),C.push(i),c=o),y=i;for(y&&d.push(y),d.push(65535),C.push(65535),X=2*(Q=C.length),M=2*Math.pow(Math.log(Q)/Math.LN2,2),g=Math.log(M/2)/Math.LN2,$=2*Q-M,l=[],V=[],m=[],_=ye=0,Ae=C.length;ye<Ae;_=++ye){if(L=C[_],h=d[_],L===65535){l.push(0),V.push(0);break}if(L-(B=r[L].new)>=32768)for(l.push(0),V.push(2*(m.length+Q-_)),i=H=L;L<=h?H<=h:H>=h;i=L<=h?++H:--H)m.push(r[i].new);else l.push(B-L),V.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*Q+2*m.length),K.writeUInt16(0),K.writeUInt16(X),K.writeUInt16(M),K.writeUInt16(g),K.writeUInt16($),me=0,j=d.length;me<j;me++)i=d[me],K.writeUInt16(i);for(K.writeUInt16(0),we=0,q=C.length;we<q;we++)i=C[we],K.writeUInt16(i);for(Me=0,G=l.length;Me<G;Me++)o=l[Me],K.writeUInt16(o);for(Fe=0,Z=V.length;Fe<Z;Fe++)I=V[Fe],K.writeUInt16(I);for(We=0,se=m.length;We<se;We++)S=m[We],K.writeUInt16(S);return{charMap:r,subtable:K.data,maxGlyphID:N+1}}},t}(),rb=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new ov(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=ov.encode(n,r),(s=new Aa).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),IL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),TL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),RL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(n.readUInt32());return c}.call(this)}},e}(),FL=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},DL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,c,h,d,g,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},a=d=0,g=i.length;d<g;a=++d)s=i[a],n.pos=s.offset,h=n.readString(s.length),o=new FL(h,s),c[m=s.nameID]==null&&(c[m]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(_){this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),ML=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),BL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,d;for(d=[],r=h=0;0<=s?h<s:h>s;r=0<=s?++h:--h)d.push(n.readInt16());return d}(),this.widths=function(){var h,d,g,m;for(m=[],h=0,d=(g=this.metrics).length;h<d;h++)a=g[h],m.push(a.advance);return m}.call(this),i=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),ib=[].slice,UL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,c,h,d,g;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new Aa(r.read(s))).readShort(),h=l.readShort(),g=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[n]=o===-1?new $L(l,h,g,c,d):new zL(l,o,h,g,c,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),zL=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),$L=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Aa(ib.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),qL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ns(e,Fi),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}.call(this):function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}.call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var h=new Array(4*i.length),d=0;d<i.length;++d)h[4*d+3]=255&i[d],h[4*d+2]=(65280&i[d])>>8,h[4*d+1]=(16711680&i[d])>>16,h[4*d]=(4278190080&i[d])>>24;return h},e}(),WL=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,c,h,d,g,m,_,S,k,y;for(i in r=rb.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},y=r.charMap)m[(l=y[i]).old]=l.new;for(_ in g=r.maxGlyphID,a)_ in m||(m[_]=g++);return h=function(b){var N,I;for(N in I={},b)I[b[N]]=N;return I}(m),d=Object.keys(h).sort(function(b,N){return b-N}),S=function(){var b,N,I;for(I=[],b=0,N=d.length;b<N;b++)o=d[b],I.push(h[o]);return I}(),s=this.font.glyf.encode(a,S,m),c=this.font.loca.encode(s.offsets,S),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();ot.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();class ym{static generateReport(e,n){return ie(this,null,function*(){const r=new ot("p","mm","a4"),i=r.internal.pageSize.getWidth(),s=r.internal.pageSize.getHeight(),a=20;let o=a;return yield this.addHeader(r,i,o),o+=40,o=this.addReportInfo(r,e,n,a,o),o=this.addIncidentDetails(r,e,a,o,i),e.involvedPersons.length>0&&(o=this.addInvolvedPersons(r,e,a,o,i)),o>s-100&&(r.addPage(),o=a),e.photos.length>0&&(o=yield this.addPhotos(r,e,a,o,i)),o=yield this.addSignatures(r,e,a,o),this.addFooter(r,s),r.output("blob")})}static addHeader(e,n,r){return ie(this,null,function*(){e.addImage(this.LOGO_DATA,"PNG",20,r-10,20,20),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("CONSTAT D'INTERVENTION",n/2,r,{align:"center"}),e.setFontSize(12),e.setFont("helvetica","normal"),e.text("Forces de l'ordre - République du Mali",n/2,r+8,{align:"center"}),e.setDrawColor(0,0,0),e.line(20,r+15,n-20,r+15)})}static addReportInfo(e,n,r,i,s){return e.setFontSize(14),e.setFont("helvetica","bold"),e.text("INFORMATIONS GÉNÉRALES",i,s),s+=10,e.setFontSize(10),e.setFont("helvetica","normal"),[`N° de constat: ${n.id}`,`Date: ${Ul(new Date(n.dateTime),"dd/MM/yyyy à HH:mm",{locale:pm})}`,`Agent: ${r.firstName} ${r.lastName} (${r.matricule})`,`Unité: ${r.unit||"Non spécifiée"}`,`Zone: ${r.zone||"Non spécifiée"}`,`Statut: ${this.getStatusText(n.status)}`].forEach(o=>{e.text(o,i,s),s+=6}),s+10}static addIncidentDetails(e,n,r,i,s){e.setFontSize(14),e.setFont("helvetica","bold"),e.text("DÉTAILS DE L'INCIDENT",r,i),i+=10,e.setFontSize(10),e.setFont("helvetica","normal"),e.text(`Type d'incident: ${this.getIncidentTypeText(n.incidentType)}`,r,i),i+=8,e.text("Lieu:",r,i),i+=5;const a=e.splitTextToSize(n.location.address,s-2*r);e.text(a,r+5,i),i+=a.length*5+5,n.location.coordinates&&(e.text(`Coordonnées: ${n.location.coordinates.latitude.toFixed(6)}, ${n.location.coordinates.longitude.toFixed(6)}`,r,i),i+=8),e.text("Description:",r,i),i+=5;const o=e.splitTextToSize(n.description,s-2*r);return e.text(o,r+5,i),i+=o.length*5+10,i}static addInvolvedPersons(e,n,r,i,s){return e.setFontSize(14),e.setFont("helvetica","bold"),e.text("PERSONNES IMPLIQUÉES",r,i),i+=10,e.setFontSize(10),e.setFont("helvetica","normal"),n.involvedPersons.forEach((a,o)=>{if(e.text(`${o+1}. ${a.name} (${this.getPersonStatusText(a.status)})`,r,i),i+=5,a.phone&&(e.text(`   Téléphone: ${a.phone}`,r,i),i+=5),a.details){const l=e.splitTextToSize(`   Détails: ${a.details}`,s-2*r);e.text(l,r,i),i+=l.length*5}i+=3}),i+5}static addPhotos(e,n,r,i,s){return ie(this,null,function*(){if(n.photos.length===0)return i;e.setFontSize(14),e.setFont("helvetica","bold"),e.text("PHOTOS",r,i),i+=10;const a=60,o=45;let l=r,c=i;for(let h=0;h<Math.min(n.photos.length,4);h++){const d=n.photos[h];try{e.setFillColor(200,200,200),e.rect(l,c,a,o,"F"),e.setFontSize(8),e.text(`Photo ${h+1}`,l+a/2,c+o/2,{align:"center"}),d.caption&&e.text(d.caption,l+a/2,c+o+5,{align:"center"}),l+=a+10,l+a>s-r&&(l=r,c+=o+15)}catch(g){console.error("Error adding photo to PDF:",g)}}return c+o+20})}static addSignatures(e,n,r,i){return ie(this,null,function*(){e.setFontSize(14),e.setFont("helvetica","bold"),e.text("SIGNATURES",r,i),i+=15;const s=80,a=40;return n.agentSignature&&(e.setFontSize(10),e.text("Signature de l'agent:",r,i),i+=5,e.setDrawColor(0,0,0),e.rect(r,i,s,a),e.setFontSize(8),e.text("Signature agent",r+s/2,i+a/2,{align:"center"}),i+=a+10),n.witnessSignature&&(e.setFontSize(10),e.text("Signature du témoin:",r,i),i+=5,e.setDrawColor(0,0,0),e.rect(r,i,s,a),e.setFontSize(8),e.text("Signature témoin",r+s/2,i+a/2,{align:"center"}),i+=a+10),i})}static addFooter(e,n){e.setFontSize(8),e.setFont("helvetica","normal"),e.text(`Généré le ${Ul(new Date,"dd/MM/yyyy à HH:mm")} par l'application Tamboura`,e.internal.pageSize.getWidth()/2,n-10,{align:"center"})}static getStatusText(e){return{draft:"Brouillon",pending:"En attente",completed:"Terminé",signed:"Signé"}[e]||e}static getIncidentTypeText(e){return{accident:"Accident",theft:"Vol",assault:"Agression",vandalism:"Vandalisme",disturbance:"Trouble de l'ordre",fire:"Incendie",medical:"Urgence médicale",other:"Autre"}[e]||e}static getPersonStatusText(e){return{victim:"Victime",witness:"Témoin",suspect:"Suspect",other:"Autre"}[e]||e}static exportToPDF(e,n,r){return ie(this,null,function*(){const i=yield this.generateReport(e,n),s=URL.createObjectURL(i),a=document.createElement("a");a.href=s,a.download=r||`constat-${e.id}.pdf`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)})}}Ym(ym,"LOGO_DATA","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjZjBiNzAwIi8+Cjx0ZXh0IHg9IjUwIiB5PSI1NSIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE2IiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0iIzFmMjkzNyIgdGV4dC1hbmNob3I9Im1pZGRsZSI+VEFNQk9VUkE8L3RleHQ+Cjwvc3ZnPg==");let Wf;const HL=new Uint8Array(16);function VL(){if(!Wf&&(Wf=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wf(HL)}const Vn=[];for(let t=0;t<256;++t)Vn.push((t+256).toString(16).slice(1));function GL(t,e=0){return Vn[t[e+0]]+Vn[t[e+1]]+Vn[t[e+2]]+Vn[t[e+3]]+"-"+Vn[t[e+4]]+Vn[t[e+5]]+"-"+Vn[t[e+6]]+Vn[t[e+7]]+"-"+Vn[t[e+8]]+Vn[t[e+9]]+"-"+Vn[t[e+10]]+Vn[t[e+11]]+Vn[t[e+12]]+Vn[t[e+13]]+Vn[t[e+14]]+Vn[t[e+15]]}const KL=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lv={randomUUID:KL};function Bp(t,e,n){if(lv.randomUUID&&!t)return lv.randomUUID();t=t||{};const r=t.random||(t.rng||VL)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,GL(r)}var sb={exports:{}},Up={exports:{}},zp,uv;function JL(){if(uv)return zp;uv=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zp=t,zp}var $p,cv;function YL(){if(cv)return $p;cv=1;var t=JL();function e(){}function n(){}return n.resetWarningCache=e,$p=function(){function r(a,o,l,c,h,d){if(d!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},$p}var fv;function QL(){return fv||(fv=1,Up.exports=YL()()),Up.exports}/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function mo(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}mo.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};mo.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};mo.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function wm(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}wm.prototype.length=function(){for(var t=10,e=0,n=void 0,r=void 0,i=0;i<=t;i+=1){var s=i/t,a=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var l=a-n,c=o-r;e+=Math.sqrt(l*l+c*c)}n=a,r=o}return e};wm.prototype._point=function(t,e,n,r,i){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+i*t*t*t};function XL(t,e,n){var r,i,s,a=null,o=0;n||(n={});var l=function(){o=n.leading===!1?0:Date.now(),a=null,s=t.apply(r,i),a||(r=i=null)};return function(){var c=Date.now();!o&&n.leading===!1&&(o=c);var h=e-(c-o);return r=this,i=arguments,h<=0||h>e?(a&&(clearTimeout(a),a=null),o=c,s=t.apply(r,i),a||(r=i=null)):!a&&n.trailing!==!1&&(a=setTimeout(l,h)),s}}function Jt(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=XL(Jt.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=Jt.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(i))},this._handleMouseMove=function(i){n._mouseButtonDown&&n._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var s=i.changedTouches[0];n._strokeBegin(s)}},this._handleTouchMove=function(i){i.preventDefault();var s=i.targetTouches[0];n._strokeMoveUpdate(s)},this._handleTouchEnd=function(i){var s=i.target===n._canvas;s&&(i.preventDefault(),n._strokeEnd(i))},this.on()}Jt.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};Jt.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,i=n.ratio||window.devicePixelRatio||1,s=n.width||this._canvas.width/i,a=n.height||this._canvas.height/i;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,s,a)},this._isEmpty=!1};Jt.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}};Jt.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};Jt.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};Jt.prototype.isEmpty=function(){return this._isEmpty};Jt.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};Jt.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),i=this._data[this._data.length-1],s=i&&i[i.length-1],a=s&&r.distanceTo(s)<this.minDistance;if(!(s&&a)){var o=this._addPoint(r),l=o.curve,c=o.widths;l&&c&&this._drawCurve(l,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};Jt.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],i=r[r.length-1];n.equals(i)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};Jt.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};Jt.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};Jt.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};Jt.prototype._createPoint=function(t,e,n){var r=this._canvas.getBoundingClientRect();return new mo(t-r.left,e-r.top,n||new Date().getTime())};Jt.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),n=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=n.c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var i=n.c1,s=new wm(e[1],r,i,e[2]),a=this._calculateCurveWidths(s);return e.shift(),{curve:s,widths:a}}return{}};Jt.prototype._calculateCurveControlPoints=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,s=e.x-n.x,a=e.y-n.y,o={x:(t.x+e.x)/2,y:(t.y+e.y)/2},l={x:(e.x+n.x)/2,y:(e.y+n.y)/2},c=Math.sqrt(r*r+i*i),h=Math.sqrt(s*s+a*a),d=o.x-l.x,g=o.y-l.y,m=h/(c+h),_={x:l.x+d*m,y:l.y+g*m},S=e.x-_.x,k=e.y-_.y;return{c1:new mo(o.x+S,o.y+k),c2:new mo(l.x+S,l.y+k)}};Jt.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},i=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(i);return r.start=this._lastWidth,r.end=s,this._lastVelocity=i,this._lastWidth=s,r};Jt.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};Jt.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1};Jt.prototype._drawCurve=function(t,e,n){var r=this._ctx,i=n-e,s=Math.floor(t.length());r.beginPath();for(var a=0;a<s;a+=1){var o=a/s,l=o*o,c=l*o,h=1-o,d=h*h,g=d*h,m=g*t.startPoint.x;m+=3*d*o*t.control1.x,m+=3*h*l*t.control2.x,m+=c*t.endPoint.x;var _=g*t.startPoint.y;_+=3*d*o*t.control1.y,_+=3*h*l*t.control2.y,_+=c*t.endPoint.y;var S=e+c*i;this._drawPoint(m,_,S)}r.closePath(),r.fill()};Jt.prototype._drawDot=function(t){var e=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()};Jt.prototype._fromData=function(t,e,n){for(var r=0;r<t.length;r+=1){var i=t[r];if(i.length>1)for(var s=0;s<i.length;s+=1){var a=i[s],o=new mo(a.x,a.y,a.time),l=a.color;if(s===0)this.penColor=l,this._reset(),this._addPoint(o);else if(s!==i.length-1){var c=this._addPoint(o),h=c.curve,d=c.widths;h&&d&&e(h,d,l)}}else{this._reset();var g=i[0];n(g)}}};Jt.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),i=0,s=0,a=n.width/r,o=n.height/r,l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"width",n.width),l.setAttributeNS(null,"height",n.height),this._fromData(e,function(y,b,N){var I=document.createElement("path");if(!isNaN(y.control1.x)&&!isNaN(y.control1.y)&&!isNaN(y.control2.x)&&!isNaN(y.control2.y)){var D="M "+y.startPoint.x.toFixed(3)+","+y.startPoint.y.toFixed(3)+" "+("C "+y.control1.x.toFixed(3)+","+y.control1.y.toFixed(3)+" ")+(y.control2.x.toFixed(3)+","+y.control2.y.toFixed(3)+" ")+(y.endPoint.x.toFixed(3)+","+y.endPoint.y.toFixed(3));I.setAttribute("d",D),I.setAttribute("stroke-width",(b.end*2.25).toFixed(3)),I.setAttribute("stroke",N),I.setAttribute("fill","none"),I.setAttribute("stroke-linecap","round"),l.appendChild(I)}},function(y){var b=document.createElement("circle"),N=typeof t.dotSize=="function"?t.dotSize():t.dotSize;b.setAttribute("r",N),b.setAttribute("cx",y.x),b.setAttribute("cy",y.y),b.setAttribute("fill",y.color),l.appendChild(b)});var c="data:image/svg+xml;base64,",h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+s+" "+a+" "+o+'"')+(' width="'+a+'"')+(' height="'+o+'"')+">",d=l.innerHTML;if(d===void 0){var g=document.createElement("dummy"),m=l.childNodes;g.innerHTML="";for(var _=0;_<m.length;_+=1)g.appendChild(m[_].cloneNode(!0));d=g.innerHTML}var S="</svg>",k=h+d+S;return c+btoa(k)};Jt.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,r){return e._drawCurve(n,r.start,r.end)},function(n){return e._drawDot(n)}),this._data=t};Jt.prototype.toData=function(){return this._data};const ZL=Object.freeze(Object.defineProperty({__proto__:null,default:Jt},Symbol.toStringTag,{value:"Module"})),e8=kv(ZL);var qp={exports:{}},hv;function t8(){return hv||(hv=1,function(t,e){(function(n,r){t.exports=r()})($n,function(){return function(n){function r(s){if(i[s])return i[s].exports;var a=i[s]={exports:{},id:s,loaded:!1};return n[s].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(n,r){function i(c){var h=c.getContext("2d"),d=c.width,g=c.height,m=h.getImageData(0,0,d,g).data,_=o(!0,d,g,m),S=o(!1,d,g,m),k=l(!0,d,g,m),y=l(!1,d,g,m),b=y-k+1,N=S-_+1,I=h.getImageData(k,_,b,N);return c.width=b,c.height=N,h.clearRect(0,0,b,N),h.putImageData(I,0,0),c}function s(c,h,d,g){return{red:g[4*(d*h+c)],green:g[4*(d*h+c)+1],blue:g[4*(d*h+c)+2],alpha:g[4*(d*h+c)+3]}}function a(c,h,d,g){return s(c,h,d,g).alpha}function o(c,h,d,g){for(var m=c?1:-1,_=c?0:d-1,S=_;c?S<d:S>-1;S+=m)for(var k=0;k<h;k++)if(a(k,S,h,g))return S;return null}function l(c,h,d,g){for(var m=c?1:-1,_=c?0:h-1,S=_;c?S<h:S>-1;S+=m)for(var k=0;k<d;k++)if(a(S,k,h,g))return S;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i}])})}(qp)),qp.exports}(function(t,e){(function(n,r){t.exports=r(QL(),je,e8,t8())})($n,function(n,r,i,s){return function(a){function o(c){if(l[c])return l[c].exports;var h=l[c]={exports:{},id:c,loaded:!1};return a[c].call(h.exports,h,h.exports,o),h.loaded=!0,h.exports}var l={};return o.m=a,o.c=l,o.p="",o(0)}([function(a,o,l){function c(Q){return Q&&Q.__esModule?Q:{default:Q}}function h(Q,X){var L={};for(var C in Q)X.indexOf(C)>=0||Object.prototype.hasOwnProperty.call(Q,C)&&(L[C]=Q[C]);return L}function d(Q,X){if(!(Q instanceof X))throw new TypeError("Cannot call a class as a function")}function g(Q,X){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!X||typeof X!="object"&&typeof X!="function"?Q:X}function m(Q,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);Q.prototype=Object.create(X&&X.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,X):Q.__proto__=X)}Object.defineProperty(o,"__esModule",{value:!0});var _=Object.assign||function(Q){for(var X=1;X<arguments.length;X++){var L=arguments[X];for(var C in L)Object.prototype.hasOwnProperty.call(L,C)&&(Q[C]=L[C])}return Q},S=function(){function Q(X,L){for(var C=0;C<L.length;C++){var B=L[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(X,B.key,B)}}return function(X,L,C){return L&&Q(X.prototype,L),C&&Q(X,C),X}}(),k=l(1),y=c(k),b=l(2),N=c(b),I=l(3),D=c(I),V=l(4),$=c(V),M=function(Q){function X(){var L,C,B,K;d(this,X);for(var ve=arguments.length,ge=Array(ve),ye=0;ye<ve;ye++)ge[ye]=arguments[ye];return C=B=g(this,(L=X.__proto__||Object.getPrototypeOf(X)).call.apply(L,[this].concat(ge))),B._sigPad=null,B._excludeOurProps=function(){var H=B.props,le=(H.canvasProps,H.clearOnResize,h(H,["canvasProps","clearOnResize"]));return le},B.getCanvas=function(){return B._canvas},B.getTrimmedCanvas=function(){var H=document.createElement("canvas");return H.width=B._canvas.width,H.height=B._canvas.height,H.getContext("2d").drawImage(B._canvas,0,0),(0,$.default)(H)},B.getSignaturePad=function(){return B._sigPad},B._checkClearOnResize=function(){B.props.clearOnResize&&B._resizeCanvas()},B._resizeCanvas=function(){var H=B.props.canvasProps||{},le=H.width,he=H.height;if(!le||!he){var Ae=B._canvas,j=Math.max(window.devicePixelRatio||1,1);le||(Ae.width=Ae.offsetWidth*j),he||(Ae.height=Ae.offsetHeight*j),Ae.getContext("2d").scale(j,j),B.clear()}},B.on=function(){return window.addEventListener("resize",B._checkClearOnResize),B._sigPad.on()},B.off=function(){return window.removeEventListener("resize",B._checkClearOnResize),B._sigPad.off()},B.clear=function(){return B._sigPad.clear()},B.isEmpty=function(){return B._sigPad.isEmpty()},B.fromDataURL=function(H,le){return B._sigPad.fromDataURL(H,le)},B.toDataURL=function(H,le){return B._sigPad.toDataURL(H,le)},B.fromData=function(H){return B._sigPad.fromData(H)},B.toData=function(){return B._sigPad.toData()},K=C,g(B,K)}return m(X,Q),S(X,[{key:"componentDidMount",value:function(){this._sigPad=new D.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var L=this,C=this.props.canvasProps;return N.default.createElement("canvas",_({ref:function(B){L._canvas=B}},C))}}]),X}(b.Component);M.propTypes={velocityFilterWeight:y.default.number,minWidth:y.default.number,maxWidth:y.default.number,minDistance:y.default.number,dotSize:y.default.oneOfType([y.default.number,y.default.func]),penColor:y.default.string,throttle:y.default.number,onEnd:y.default.func,onBegin:y.default.func,canvasProps:y.default.object,clearOnResize:y.default.bool},M.defaultProps={clearOnResize:!0},o.default=M},function(a,o){a.exports=n},function(a,o){a.exports=r},function(a,o){a.exports=i},function(a,o){a.exports=s}])})})(sb);var n8=sb.exports;const dv=hg(n8),r8=()=>{const{t}=ts(),{user:e}=Es(),n=Tc(),[r,i]=je.useState(!1),[s,a]=je.useState(1),o=je.useRef(null),l=je.useRef(null),[c,h]=je.useState({incidentType:"accident",dateTime:new Date().toISOString().slice(0,16),location:{address:"",coordinates:void 0},description:"",involvedPersons:[],photos:[],audioNotes:[],agentSignature:"",witnessSignature:""}),[d,g]=je.useState({name:"",phone:"",status:"witness",details:""}),m=["accident","theft","assault","vandalism","disturbance","fire","medical","other"],_=(L,C)=>{h(B=>Ct(Ge({},B),{[L]:C}))},S=(L,C)=>{h(B=>Ct(Ge({},B),{location:Ct(Ge({},B.location),{[L]:C})}))},k=()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(L=>{h(C=>Ct(Ge({},C),{location:Ct(Ge({},C.location),{coordinates:{latitude:L.coords.latitude,longitude:L.coords.longitude}})}))})},y=()=>{if(d.name.trim()){const L=Ge({id:Bp()},d);h(C=>Ct(Ge({},C),{involvedPersons:[...C.involvedPersons,L]})),g({name:"",phone:"",status:"witness",details:""})}},b=L=>{h(C=>Ct(Ge({},C),{involvedPersons:C.involvedPersons.filter(B=>B.id!==L)}))},N=L=>ie(void 0,null,function*(){const C=L.target.files;if(C&&C.length>0)for(let B=0;B<C.length;B++){const K=C[B],ge={id:Bp(),url:URL.createObjectURL(K),localUrl:URL.createObjectURL(K),timestamp:new Date().toISOString()};yield Oi.savePhoto(ge,K),h(ye=>Ct(Ge({},ye),{photos:[...ye.photos,ge]}))}}),I=L=>{h(C=>Ct(Ge({},C),{photos:C.photos.filter(B=>B.id!==L)}))},D=()=>{if(o.current){const L=o.current.toDataURL();_("agentSignature",L)}if(l.current){const L=l.current.toDataURL();_("witnessSignature",L)}},V=()=>ie(void 0,null,function*(){if(e){i(!0);try{D();const L={id:Bp(),incidentType:c.incidentType,dateTime:c.dateTime,location:c.location,description:c.description,involvedPersons:c.involvedPersons,photos:c.photos,audioNotes:c.audioNotes,agentSignature:c.agentSignature,witnessSignature:c.witnessSignature,status:"completed",agentId:e.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isSynced:!1};yield Oi.saveReport(L),navigator.onLine&&(yield Oi.addToSyncQueue({type:"report",data:L,timestamp:new Date().toISOString()}));try{yield ym.exportToPDF(L,e)}catch(C){console.error("PDF generation error:",C)}n("/reports")}catch(L){console.error("Error saving report:",L)}finally{i(!1)}}}),$=()=>c.incidentType&&c.description.trim()&&c.location.address.trim()&&c.agentSignature,M=()=>{a(L=>Math.min(L+1,4))},Q=()=>{a(L=>Math.max(L-1,1))},X=()=>{switch(s){case 1:return x.jsxs("div",{className:"space-y-6",children:[x.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Informations de base"}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t("report.incidentType")}),x.jsx("select",{value:c.incidentType,onChange:L=>_("incidentType",L.target.value),className:"select-field",children:m.map(L=>x.jsx("option",{value:L,children:t(`incidentTypes.${L}`)},L))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t("report.dateTime")}),x.jsx("input",{type:"datetime-local",value:c.dateTime,onChange:L=>_("dateTime",L.target.value),className:"input-field"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t("report.location")}),x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("input",{type:"text",value:c.location.address,onChange:L=>S("address",L.target.value),placeholder:"Adresse complète du lieu",className:"input-field flex-1"}),x.jsx("button",{type:"button",onClick:k,className:"btn-secondary p-3",children:x.jsx(pd,{size:20})})]}),c.location.coordinates&&x.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Coordonnées: ",c.location.coordinates.latitude.toFixed(6),", ",c.location.coordinates.longitude.toFixed(6)]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t("report.description")}),x.jsx("textarea",{value:c.description,onChange:L=>_("description",L.target.value),placeholder:"Description détaillée de l'incident...",rows:4,className:"input-field resize-none"})]})]});case 2:return x.jsxs("div",{className:"space-y-6",children:[x.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Personnes impliquées"}),x.jsxs("div",{className:"card bg-gray-700",children:[x.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Ajouter une personne"}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("input",{type:"text",value:d.name,onChange:L=>g(C=>Ct(Ge({},C),{name:L.target.value})),placeholder:"Nom complet",className:"input-field"}),x.jsx("input",{type:"tel",value:d.phone,onChange:L=>g(C=>Ct(Ge({},C),{phone:L.target.value})),placeholder:"Numéro de téléphone",className:"input-field"}),x.jsxs("select",{value:d.status,onChange:L=>g(C=>Ct(Ge({},C),{status:L.target.value})),className:"select-field",children:[x.jsx("option",{value:"victim",children:"Victime"}),x.jsx("option",{value:"witness",children:"Témoin"}),x.jsx("option",{value:"suspect",children:"Suspect"}),x.jsx("option",{value:"other",children:"Autre"})]}),x.jsx("textarea",{value:d.details,onChange:L=>g(C=>Ct(Ge({},C),{details:L.target.value})),placeholder:"Détails supplémentaires...",rows:2,className:"input-field resize-none"}),x.jsxs("button",{type:"button",onClick:y,disabled:!d.name.trim(),className:"btn-primary w-full",children:[x.jsx(jw,{size:16,className:"mr-2"}),"Ajouter la personne"]})]})]}),c.involvedPersons.length>0&&x.jsxs("div",{className:"space-y-3",children:[x.jsx("h3",{className:"text-lg font-medium text-white",children:"Personnes ajoutées"}),c.involvedPersons.map(L=>x.jsx("div",{className:"card bg-gray-700",children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx("span",{className:"font-medium text-white",children:L.name}),x.jsx("span",{className:"px-2 py-1 bg-tamboura-500 text-gray-900 text-xs rounded",children:L.status})]}),L.phone&&x.jsx("p",{className:"text-gray-400 text-sm",children:L.phone}),L.details&&x.jsx("p",{className:"text-gray-300 text-sm mt-1",children:L.details})]}),x.jsx("button",{onClick:()=>b(L.id),className:"text-red-400 hover:text-red-300 p-1",children:x.jsx(Z1,{size:16})})]})},L.id))]})]});case 3:return x.jsxs("div",{className:"space-y-6",children:[x.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Photos et médias"}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:t("report.photos")}),x.jsx("input",{type:"file",accept:"image/*",multiple:!0,capture:"environment",onChange:N,className:"hidden",id:"photo-input"}),x.jsxs("label",{htmlFor:"photo-input",className:"btn-secondary w-full flex items-center justify-center py-4 cursor-pointer",children:[x.jsx(t6,{size:20,className:"mr-2"}),"Prendre des photos"]})]}),c.photos.length>0&&x.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.photos.map(L=>x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:L.localUrl||L.url,alt:"Evidence",className:"w-full h-32 object-cover rounded-lg"}),x.jsx("button",{onClick:()=>I(L.id),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1",children:x.jsx(Z1,{size:12})})]},L.id))})]});case 4:return x.jsxs("div",{className:"space-y-6",children:[x.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Signatures"}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Signature de l'agent"}),x.jsx("div",{className:"bg-white rounded-lg p-2",children:x.jsx(dv,{ref:o,canvasProps:{width:300,height:150,className:"signature-canvas w-full"}})}),x.jsx("button",{type:"button",onClick:()=>{var L;return(L=o.current)==null?void 0:L.clear()},className:"btn-secondary text-sm mt-2",children:"Effacer"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-medium text-white mb-3",children:"Signature du témoin (optionnel)"}),x.jsx("div",{className:"bg-white rounded-lg p-2",children:x.jsx(dv,{ref:l,canvasProps:{width:300,height:150,className:"signature-canvas w-full"}})}),x.jsx("button",{type:"button",onClick:()=>{var L;return(L=l.current)==null?void 0:L.clear()},className:"btn-secondary text-sm mt-2",children:"Effacer"})]})]});default:return null}};return x.jsxs("div",{className:"min-h-screen bg-gray-900",children:[x.jsx(Kl,{}),x.jsxs("main",{className:"p-4 pb-32",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-white",children:t("report.newReport")}),x.jsxs("div",{className:"text-sm text-gray-400",children:["Étape ",s," / 4"]})]}),x.jsx("div",{className:"mb-6",children:x.jsx("div",{className:"flex space-x-2",children:[1,2,3,4].map(L=>x.jsx("div",{className:`flex-1 h-2 rounded-full ${L<=s?"bg-tamboura-500":"bg-gray-700"}`},L))})}),x.jsx("div",{className:"card",children:X()}),x.jsxs("div",{className:"fixed bottom-20 left-4 right-4 flex space-x-3",children:[s>1&&x.jsx("button",{onClick:Q,className:"btn-secondary flex-1",children:"Précédent"}),s<4?x.jsx("button",{onClick:M,className:"btn-primary flex-1",children:"Suivant"}):x.jsxs("button",{onClick:V,disabled:!$()||r,className:"btn-primary flex-1 flex items-center justify-center",children:[r?x.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-gray-900 border-t-transparent mr-2"}):x.jsx(Th,{size:20,className:"mr-2"}),r?"Enregistrement...":"Finaliser"]})]})]})]})},i8=()=>{const{t}=ts(),{user:e}=Es(),n=Tc(),[r,i]=je.useState([]),[s,a]=je.useState([]),[o,l]=je.useState(!0),[c,h]=je.useState(""),[d,g]=je.useState("all"),[m,_]=je.useState("all");je.useEffect(()=>{S()},[e]),je.useEffect(()=>{k()},[r,c,d,m]);const S=()=>ie(void 0,null,function*(){l(!0);try{const I=yield Oi.getAllReports();let D=I;(e==null?void 0:e.role)==="agent"&&(D=I.filter(V=>V.agentId===e.id)),i(D)}catch(I){console.error("Error loading reports:",I)}finally{l(!1)}}),k=()=>{let I=r;c.trim()&&(I=I.filter(D=>D.description.toLowerCase().includes(c.toLowerCase())||D.location.address.toLowerCase().includes(c.toLowerCase())||D.id.toLowerCase().includes(c.toLowerCase()))),d!=="all"&&(I=I.filter(D=>D.status===d)),m!=="all"&&(I=I.filter(D=>D.incidentType===m)),a(I)},y=I=>{switch(I){case"draft":return"text-yellow-400 bg-yellow-400/10";case"pending":return"text-orange-400 bg-orange-400/10";case"completed":return"text-green-400 bg-green-400/10";case"signed":return"text-blue-400 bg-blue-400/10";default:return"text-gray-400 bg-gray-400/10"}},b=I=>{switch(I){case"draft":return x.jsx(da,{size:14});case"pending":return x.jsx(Aw,{size:14});case"completed":return x.jsx(Th,{size:14});case"signed":return x.jsx(Th,{size:14});default:return x.jsx(Lw,{size:14})}},N=I=>{n(`/reports/${I}`)};return o?x.jsx(Gl,{text:"Chargement des constats..."}):x.jsxs("div",{className:"min-h-screen bg-gray-900",children:[x.jsx(Kl,{}),x.jsxs("main",{className:"p-4 pb-24",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h1",{className:"text-2xl font-bold text-white",children:t("navigation.reports")}),x.jsxs("div",{className:"text-sm text-gray-400",children:[s.length," constat",s.length!==1?"s":""]})]}),x.jsxs("div",{className:"space-y-4 mb-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx(l6,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),x.jsx("input",{type:"text",value:c,onChange:I=>h(I.target.value),placeholder:"Rechercher un constat...",className:"input-field pl-10"})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[x.jsxs("select",{value:d,onChange:I=>g(I.target.value),className:"select-field",children:[x.jsx("option",{value:"all",children:"Tous les statuts"}),x.jsx("option",{value:"draft",children:t("status.draft")}),x.jsx("option",{value:"pending",children:t("status.pending")}),x.jsx("option",{value:"completed",children:t("status.completed")}),x.jsx("option",{value:"signed",children:t("status.signed")})]}),x.jsxs("select",{value:m,onChange:I=>_(I.target.value),className:"select-field",children:[x.jsx("option",{value:"all",children:"Tous les types"}),x.jsx("option",{value:"accident",children:t("incidentTypes.accident")}),x.jsx("option",{value:"theft",children:t("incidentTypes.theft")}),x.jsx("option",{value:"assault",children:t("incidentTypes.assault")}),x.jsx("option",{value:"vandalism",children:t("incidentTypes.vandalism")}),x.jsx("option",{value:"disturbance",children:t("incidentTypes.disturbance")}),x.jsx("option",{value:"fire",children:t("incidentTypes.fire")}),x.jsx("option",{value:"medical",children:t("incidentTypes.medical")}),x.jsx("option",{value:"other",children:t("incidentTypes.other")})]})]})]}),s.length>0?x.jsx("div",{className:"space-y-4",children:s.map(I=>x.jsxs("div",{onClick:()=>N(I.id),className:"card cursor-pointer hover:bg-gray-750 transition-colors",children:[x.jsxs("div",{className:"flex items-start justify-between mb-3",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("span",{className:"text-white font-medium",children:t(`incidentTypes.${I.incidentType}`)}),x.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center space-x-1 ${y(I.status)}`,children:[b(I.status),x.jsx("span",{children:t(`status.${I.status}`)})]})]}),x.jsxs("div",{className:"text-xs text-gray-500",children:["#",I.id.slice(-6)]})]}),x.jsx("p",{className:"text-gray-300 text-sm mb-3 line-clamp-2",children:I.description}),x.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[x.jsxs("div",{className:"flex items-center space-x-1",children:[x.jsx(pd,{size:12}),x.jsx("span",{className:"truncate max-w-32",children:I.location.address})]}),x.jsxs("div",{className:"flex items-center space-x-1",children:[x.jsx(X1,{size:12}),x.jsx("span",{children:Ul(new Date(I.dateTime),"dd/MM/yy HH:mm")})]})]}),x.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-700",children:[x.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[I.photos.length>0&&x.jsxs("div",{className:"flex items-center space-x-1",children:[x.jsx(da,{size:12}),x.jsxs("span",{children:[I.photos.length," photo",I.photos.length!==1?"s":""]})]}),I.involvedPersons.length>0&&x.jsxs("div",{className:"flex items-center space-x-1",children:[x.jsx(da,{size:12}),x.jsxs("span",{children:[I.involvedPersons.length," personne",I.involvedPersons.length!==1?"s":""]})]})]}),x.jsxs("div",{className:"flex items-center space-x-2",children:[!I.isSynced&&x.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full",title:"En attente de synchronisation"}),I.pdfUrl&&x.jsx(dm,{size:12,className:"text-green-400"})]})]})]},I.id))}):x.jsxs("div",{className:"card text-center py-12",children:[x.jsx(da,{className:"mx-auto text-gray-600 mb-4",size:64}),x.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:c||d!=="all"||m!=="all"?"Aucun constat trouvé":"Aucun constat"}),x.jsx("p",{className:"text-gray-400 mb-6",children:c||d!=="all"||m!=="all"?"Essayez de modifier vos filtres de recherche":"Commencez par créer votre premier constat d'intervention"}),!c&&d==="all"&&m==="all"&&x.jsx("button",{onClick:()=>n("/new-report"),className:"btn-primary",children:"Créer un constat"})]}),r.length>0&&x.jsxs("div",{className:"mt-8 card bg-gray-800",children:[x.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Résumé"}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-tamboura-500",children:r.filter(I=>I.status==="completed"||I.status==="signed").length}),x.jsx("div",{className:"text-gray-400 text-sm",children:"Terminés"})]}),x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl font-bold text-orange-400",children:r.filter(I=>I.status==="pending"||I.status==="draft").length}),x.jsx("div",{className:"text-gray-400 text-sm",children:"En cours"})]})]})]})]})]})},s8=()=>{const{id:t}=Y4(),{t:e}=ts(),{user:n}=Es(),r=Tc(),[i,s]=je.useState(null),[a,o]=je.useState(!0);je.useEffect(()=>{t&&l(t)},[t]);const l=h=>ie(void 0,null,function*(){o(!0);try{const d=yield Oi.getReport(h);s(d)}catch(d){console.error("Error loading report:",d)}finally{o(!1)}}),c=()=>ie(void 0,null,function*(){if(i&&n)try{yield ym.exportToPDF(i,n)}catch(h){console.error("Error exporting PDF:",h)}});return a?x.jsx(Gl,{text:"Chargement du constat..."}):i?x.jsxs("div",{className:"min-h-screen bg-gray-900",children:[x.jsx(Kl,{}),x.jsxs("main",{className:"p-4 pb-24",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsxs("div",{className:"flex items-center space-x-3",children:[x.jsx("button",{onClick:()=>r("/reports"),className:"p-2 text-gray-400 hover:text-white rounded-lg",children:x.jsx(ZN,{size:20})}),x.jsxs("h1",{className:"text-xl font-bold text-white",children:["Constat #",i.id.slice(-6)]})]}),x.jsxs("button",{onClick:c,className:"btn-secondary flex items-center space-x-2",children:[x.jsx(dm,{size:16}),x.jsx("span",{children:"PDF"})]})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"card",children:[x.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Informations générales"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Type d'incident:"}),x.jsx("div",{className:"text-white font-medium",children:e(`incidentTypes.${i.incidentType}`)})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Date et heure:"}),x.jsx("div",{className:"text-white",children:Ul(new Date(i.dateTime),"dd/MM/yyyy à HH:mm",{locale:pm})})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Statut:"}),x.jsx("div",{className:"text-white",children:e(`status.${i.status}`)})]})]})]}),x.jsxs("div",{className:"card",children:[x.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Localisation"}),x.jsxs("div",{className:"flex items-start space-x-2",children:[x.jsx(pd,{className:"text-gray-400 mt-1",size:16}),x.jsxs("div",{children:[x.jsx("div",{className:"text-white",children:i.location.address}),i.location.coordinates&&x.jsxs("div",{className:"text-gray-400 text-sm",children:[i.location.coordinates.latitude.toFixed(6),", ",i.location.coordinates.longitude.toFixed(6)]})]})]})]}),x.jsxs("div",{className:"card",children:[x.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Description"}),x.jsx("p",{className:"text-gray-300",children:i.description})]}),i.involvedPersons.length>0&&x.jsxs("div",{className:"card",children:[x.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Personnes impliquées"}),x.jsx("div",{className:"space-y-3",children:i.involvedPersons.map(h=>x.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[x.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[x.jsx("span",{className:"text-white font-medium",children:h.name}),x.jsx("span",{className:"px-2 py-1 bg-tamboura-500 text-gray-900 text-xs rounded",children:h.status})]}),h.phone&&x.jsx("div",{className:"text-gray-400 text-sm",children:h.phone}),h.details&&x.jsx("div",{className:"text-gray-300 text-sm mt-1",children:h.details})]},h.id))})]}),i.photos.length>0&&x.jsxs("div",{className:"card",children:[x.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Photos"}),x.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.photos.map(h=>x.jsxs("div",{children:[x.jsx("img",{src:h.localUrl||h.url,alt:"Evidence",className:"w-full h-32 object-cover rounded-lg"}),h.caption&&x.jsx("p",{className:"text-gray-400 text-xs mt-1",children:h.caption})]},h.id))})]}),(i.agentSignature||i.witnessSignature)&&x.jsxs("div",{className:"card",children:[x.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Signatures"}),x.jsxs("div",{className:"space-y-4",children:[i.agentSignature&&x.jsxs("div",{children:[x.jsx("h3",{className:"text-white font-medium mb-2",children:"Signature de l'agent"}),x.jsx("img",{src:i.agentSignature,alt:"Agent Signature",className:"bg-white rounded-lg p-2 max-w-64"})]}),i.witnessSignature&&x.jsxs("div",{children:[x.jsx("h3",{className:"text-white font-medium mb-2",children:"Signature du témoin"}),x.jsx("img",{src:i.witnessSignature,alt:"Witness Signature",className:"bg-white rounded-lg p-2 max-w-64"})]})]})]})]})]})]}):x.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Constat non trouvé"}),x.jsx("button",{onClick:()=>r("/reports"),className:"btn-primary",children:"Retour aux constats"})]})})},a8=()=>{const{t}=ts();return x.jsxs("div",{className:"min-h-screen bg-gray-900",children:[x.jsx(Kl,{}),x.jsxs("main",{className:"p-4 pb-24",children:[x.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:t("navigation.administration")}),x.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[x.jsx(f6,{className:"text-tamboura-500",size:24}),x.jsx("h2",{className:"text-lg font-bold text-white",children:"Gestion des utilisateurs"})]}),x.jsx("p",{className:"text-gray-400 mb-4",children:"Créer, modifier et gérer les comptes utilisateurs"}),x.jsx("button",{className:"btn-primary",children:"Gérer les utilisateurs"})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[x.jsx(e6,{className:"text-tamboura-500",size:24}),x.jsx("h2",{className:"text-lg font-bold text-white",children:"Statistiques globales"})]}),x.jsx("p",{className:"text-gray-400 mb-4",children:"Voir les métriques et rapports d'activité"}),x.jsx("button",{className:"btn-primary",children:"Voir les statistiques"})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[x.jsx(Pw,{className:"text-tamboura-500",size:24}),x.jsx("h2",{className:"text-lg font-bold text-white",children:"Synchronisation"})]}),x.jsx("p",{className:"text-gray-400 mb-4",children:"Gérer la synchronisation des données"}),x.jsx("button",{className:"btn-primary",children:"Forcer la synchronisation"})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[x.jsx(Ew,{className:"text-tamboura-500",size:24}),x.jsx("h2",{className:"text-lg font-bold text-white",children:"Configuration"})]}),x.jsx("p",{className:"text-gray-400 mb-4",children:"Paramètres de l'application"}),x.jsx("button",{className:"btn-primary",children:"Configurer"})]})]})]})]})},o8=()=>{const{t}=ts(),{user:e}=Es();return x.jsxs("div",{className:"min-h-screen bg-gray-900",children:[x.jsx(Kl,{}),x.jsxs("main",{className:"p-4 pb-24",children:[x.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:t("navigation.profile")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[x.jsx(Ow,{className:"text-tamboura-500",size:24}),x.jsx("h2",{className:"text-lg font-bold text-white",children:"Informations personnelles"})]}),e&&x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Nom complet:"}),x.jsxs("div",{className:"text-white font-medium",children:[e.firstName," ",e.lastName]})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Matricule:"}),x.jsx("div",{className:"text-white",children:e.matricule})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Rôle:"}),x.jsx("div",{className:"text-white",children:t(`roles.${e.role}`)})]}),e.zone&&x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Zone:"}),x.jsx("div",{className:"text-white",children:e.zone})]}),e.unit&&x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-400 text-sm",children:"Unité:"}),x.jsx("div",{className:"text-white",children:e.unit})]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[x.jsx(i6,{className:"text-tamboura-500",size:24}),x.jsx("h2",{className:"text-lg font-bold text-white",children:"Langue"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("button",{onClick:()=>{localStorage.setItem("i18nextLng","fr"),window.location.reload()},className:`w-full p-3 rounded-lg border text-left ${localStorage.getItem("i18nextLng")==="fr"?"border-tamboura-500 bg-tamboura-500/10":"border-gray-700 bg-gray-800"}`,children:[x.jsx("div",{className:"text-white font-medium",children:"Français"}),x.jsx("div",{className:"text-gray-400 text-sm",children:"Langue française"})]}),x.jsxs("button",{onClick:()=>{localStorage.setItem("i18nextLng","bm"),window.location.reload()},className:`w-full p-3 rounded-lg border text-left ${localStorage.getItem("i18nextLng")==="bm"?"border-tamboura-500 bg-tamboura-500/10":"border-gray-700 bg-gray-800"}`,children:[x.jsx("div",{className:"text-white font-medium",children:"Bambara"}),x.jsx("div",{className:"text-gray-400 text-sm",children:"Kan bambara"})]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[x.jsx(Cw,{className:"text-tamboura-500",size:24}),x.jsx("h2",{className:"text-lg font-bold text-white",children:"Paramètres de l'application"})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-white font-medium",children:"Synchronisation automatique"}),x.jsx("div",{className:"text-gray-400 text-sm",children:"Synchroniser dès qu'une connexion est disponible"})]}),x.jsx("input",{type:"checkbox",defaultChecked:!0,className:"toggle"})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-white font-medium",children:"Notifications"}),x.jsx("div",{className:"text-gray-400 text-sm",children:"Recevoir des notifications"})]}),x.jsx("input",{type:"checkbox",defaultChecked:!0,className:"toggle"})]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[x.jsx(Pw,{className:"text-tamboura-500",size:24}),x.jsx("h2",{className:"text-lg font-bold text-white",children:"Stockage local"})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-400",children:"Constats stockés:"}),x.jsx("span",{className:"text-white",children:"0"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-400",children:"Photos stockées:"}),x.jsx("span",{className:"text-white",children:"0"})]}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("span",{className:"text-gray-400",children:"En attente de sync:"}),x.jsx("span",{className:"text-orange-400",children:"0"})]}),x.jsx("button",{className:"btn-secondary w-full mt-4",children:"Vider le cache"})]})]}),x.jsxs("div",{className:"card",children:[x.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"À propos"}),x.jsxs("div",{className:"space-y-2 text-center",children:[x.jsx("div",{className:"text-tamboura-500 font-bold text-xl",children:"TAMBOURA"}),x.jsx("div",{className:"text-gray-400 text-sm",children:"Version 1.0.0"}),x.jsx("div",{className:"text-gray-500 text-xs",children:"Application de constats d'intervention numériques"})]})]})]})]})]})},l8=()=>{const[t,e]=je.useState(null),[n,r]=je.useState(!1);je.useEffect(()=>{const a=o=>{o.preventDefault(),e(o),r(!0)};return window.addEventListener("beforeinstallprompt",a),()=>{window.removeEventListener("beforeinstallprompt",a)}},[]);const i=()=>ie(void 0,null,function*(){if(!t)return;t.prompt();const{outcome:a}=yield t.userChoice;a==="accepted"&&(e(null),r(!1))}),s=()=>{r(!1),e(null)};return!n||!t?null:x.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 p-4 z-50 safe-area-bottom",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"text-white font-medium mb-1",children:"Installer Tamboura"}),x.jsx("p",{className:"text-gray-400 text-sm",children:"Ajoutez l'application à votre écran d'accueil pour un accès rapide"})]}),x.jsxs("div",{className:"flex space-x-2 ml-4",children:[x.jsxs("button",{onClick:i,className:"btn-primary flex items-center space-x-2 px-4 py-2",children:[x.jsx(dm,{size:16}),x.jsx("span",{children:"Installer"})]}),x.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white",children:x.jsx(Z1,{size:16})})]})]})})},u8=()=>{const{t}=ts(),[e,n]=je.useState(navigator.onLine);return je.useEffect(()=>{const r=()=>n(!0),i=()=>n(!1);return window.addEventListener("online",r),window.addEventListener("offline",i),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}},[]),e?null:x.jsx("div",{className:"fixed top-0 left-0 right-0 bg-red-600 text-white px-4 py-2 z-50 safe-area-top",children:x.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[x.jsx(h6,{size:16}),x.jsx("span",{className:"text-sm font-medium",children:t("common.offline")})]})})},c8=()=>{const{t}=ts(),[e,n]=je.useState(!1),[r,i]=je.useState(0);return je.useEffect(()=>{const s=()=>ie(void 0,null,function*(){const o=yield Oi.getSyncQueue();i(o.length)});s();const a=setInterval(s,3e4);return()=>clearInterval(a)},[]),je.useEffect(()=>{const s=()=>ie(void 0,null,function*(){navigator.onLine&&r>0&&(n(!0),setTimeout(()=>{n(!1),i(0)},3e3))});return window.addEventListener("online",s),()=>window.removeEventListener("online",s)},[r]),!e&&r===0?null:x.jsx("div",{className:"fixed top-12 left-0 right-0 bg-tamboura-600 text-gray-900 px-4 py-2 z-40",children:x.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[x.jsx(o6,{size:16,className:e?"animate-spin":""}),x.jsx("span",{className:"text-sm font-medium",children:e?t("common.syncInProgress"):t("common.sync")+` (${r})`})]})})},tl=({children:t,requiredRole:e})=>{const{isAuthenticated:n,user:r,isLoading:i}=Es();if(i)return x.jsx(Gl,{});if(!n||!r)return x.jsx(Zu,{to:"/login",replace:!0});if(e){const s={agent:1,supervisor:2,admin:3},a=s[r.role],o=s[e];if(a<o)return x.jsx(Zu,{to:"/dashboard",replace:!0})}return x.jsx(x.Fragment,{children:t})},f8=()=>{const{isAuthenticated:t,isLoading:e}=Es();return e?x.jsx(Gl,{}):x.jsxs("div",{className:"min-h-screen bg-gray-900",children:[x.jsx(u8,{}),x.jsx(c8,{}),x.jsxs(h_,{children:[x.jsx(Wi,{path:"/login",element:t?x.jsx(Zu,{to:"/dashboard",replace:!0}):x.jsx(d6,{})}),x.jsx(Wi,{path:"/dashboard",element:x.jsx(tl,{children:x.jsx(Gk,{})})}),x.jsx(Wi,{path:"/new-report",element:x.jsx(tl,{children:x.jsx(r8,{})})}),x.jsx(Wi,{path:"/reports",element:x.jsx(tl,{children:x.jsx(i8,{})})}),x.jsx(Wi,{path:"/reports/:id",element:x.jsx(tl,{children:x.jsx(s8,{})})}),x.jsx(Wi,{path:"/administration",element:x.jsx(tl,{requiredRole:"admin",children:x.jsx(a8,{})})}),x.jsx(Wi,{path:"/profile",element:x.jsx(tl,{children:x.jsx(o8,{})})}),x.jsx(Wi,{path:"/",element:x.jsx(Zu,{to:"/dashboard",replace:!0})}),x.jsx(Wi,{path:"*",element:x.jsx(Zu,{to:"/dashboard",replace:!0})})]}),x.jsx(l8,{})]})},h8=()=>(je.useEffect(()=>{const t=e=>{e.preventDefault()};return window.addEventListener("beforeinstallprompt",t),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)}),()=>{window.removeEventListener("beforeinstallprompt",t)}},[]),x.jsx(RN,{children:x.jsx(g_,{children:x.jsx(f8,{})})})),dt=t=>typeof t=="string",Mu=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},pv=t=>t==null?"":""+t,d8=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},p8=/###/g,gv=t=>t&&t.indexOf("###")>-1?t.replace(p8,"."):t,mv=t=>!t||dt(t),rc=(t,e,n)=>{const r=dt(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(mv(t))return{};const s=gv(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return mv(t)?{}:{obj:t,k:gv(r[i])}},vv=(t,e,n)=>{const{obj:r,k:i}=rc(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=rc(t,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=rc(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${s}`]!="undefined"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},g8=(t,e,n,r)=>{const{obj:i,k:s}=rc(t,e,Object);i[s]=i[s]||[],i[s].push(n)},Mh=(t,e)=>{const{obj:n,k:r}=rc(t,e);if(n)return n[r]},m8=(t,e,n)=>{const r=Mh(t,n);return r!==void 0?r:Mh(e,n)},ab=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?dt(t[r])||t[r]instanceof String||dt(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):ab(t[r],e[r],n):t[r]=e[r]);return t},nl=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var v8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const y8=t=>dt(t)?t.replace(/[&<>"'\/]/g,e=>v8[e]):t;class w8{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const b8=[" ",",","?","!",";"],x8=new w8(20),_8=(t,e,n)=>{e=e||"",n=n||"";const r=b8.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=x8.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},fg=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<r.length;++l)if(l!==s&&(o+=n),o+=r[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=a}return i},Bh=t=>t&&t.replace("_","-"),S8={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class Uh{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||S8,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(dt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new Uh(this.logger,Ge({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Uh(this.logger,e)}}var Qi=new Uh;class wd{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o.apply(o,[e,...r])})}}class yv extends wd{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):dt(r)&&s?o.push(...r.split(s)):o.push(r)));const l=Mh(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!dt(r)?l:fg(this.data&&this.data[e]&&this.data[e][n],r,s)}addResource(e,n,r,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),vv(this.data,o,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in r)(dt(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=Mh(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?ab(l,r,s):l=Ge(Ge({},l),r),vv(this.data,o,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Ge({},this.getResource(e,n)):this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var ob={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,n,r,i))}),e}};const wv={};class zh extends wd{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),d8(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!_8(e,r,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:dt(s)?[s]:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:dt(s)?[s]:s}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n=Ge({},n)),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],n),l=o[o.length-1],c=n.lng||this.language,h=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(h){const I=n.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${I}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:`${l}${I}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:a}const d=this.resolve(e,n);let g=d&&d.res;const m=d&&d.usedKey||a,_=d&&d.exactUsedKey||a,S=Object.prototype.toString.apply(g),k=["[object Number]","[object Function]","[object RegExp]"],y=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,N=!dt(g)&&typeof g!="boolean"&&typeof g!="number";if(b&&g&&N&&k.indexOf(S)<0&&!(dt(y)&&Array.isArray(g))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,g,Ct(Ge({},n),{ns:o})):`key '${a} (${this.language})' returned an object instead of string.`;return i?(d.res=I,d.usedParams=this.getUsedParamsDetails(n),d):I}if(s){const I=Array.isArray(g),D=I?[]:{},V=I?_:m;for(const $ in g)if(Object.prototype.hasOwnProperty.call(g,$)){const M=`${V}${s}${$}`;D[$]=this.translate(M,Ct(Ge({},n),{joinArrays:!1,ns:o})),D[$]===M&&(D[$]=g[$])}g=D}}else if(b&&dt(y)&&Array.isArray(g))g=g.join(y),g&&(g=this.extendTranslation(g,e,n,r));else{let I=!1,D=!1;const V=n.count!==void 0&&!dt(n.count),$=zh.hasDefaultValue(n),M=V?this.pluralResolver.getSuffix(c,n.count,n):"",Q=n.ordinal&&V?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",X=V&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),L=X&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${M}`]||n[`defaultValue${Q}`]||n.defaultValue;!this.isValidLookup(g)&&$&&(I=!0,g=L),this.isValidLookup(g)||(D=!0,g=a);const B=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&D?void 0:g,K=$&&L!==g&&this.options.updateMissing;if(D||I||K){if(this.logger.log(K?"updateKey":"missingKey",c,l,a,K?L:g),s){const H=this.resolve(a,Ct(Ge({},n),{keySeparator:!1}));H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ve=[];const ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(let H=0;H<ge.length;H++)ve.push(ge[H]);else this.options.saveMissingTo==="all"?ve=this.languageUtils.toResolveHierarchy(n.lng||this.language):ve.push(n.lng||this.language);const ye=(H,le,he)=>{const Ae=$&&he!==g?he:B;this.options.missingKeyHandler?this.options.missingKeyHandler(H,l,le,Ae,K,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(H,l,le,Ae,K,n),this.emit("missingKey",H,l,le,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&V?ve.forEach(H=>{const le=this.pluralResolver.getSuffixes(H,n);X&&n[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(he=>{ye([H],a+he,n[`defaultValue${he}`]||L)})}):ye(ve,a,L))}g=this.extendTranslation(g,e,n,d,r),D&&g===a&&this.options.appendNamespaceToMissingKey&&(g=`${l}:${a}`),(D||I)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,I?g:void 0):g=this.options.parseMissingKeyHandler(g))}return i?(d.res=g,d.usedParams=this.getUsedParamsDetails(n),d):g}extendTranslation(e,n,r,i,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Ge(Ge({},this.options.interpolation.defaultVariables),r),r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(Ct(Ge({},r),{interpolation:Ge(Ge({},this.options.interpolation),r.interpolation)}));const c=dt(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(c){const g=e.match(this.interpolator.nestingRegexp);h=g&&g.length}let d=r.replace&&!dt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(d=Ge(Ge({},this.options.interpolation.defaultVariables),d)),e=this.interpolator.interpolate(e,d,r.lng||this.language||i.usedLng,r),c){const g=e.match(this.interpolator.nestingRegexp),m=g&&g.length;h<m&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,m=new Array(g),_=0;_<g;_++)m[_]=arguments[_];return s&&s[0]===m[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${m[0]} in key: ${n[0]}`),null):a.translate(...m,n)},r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,l=dt(o)?[o]:o;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=ob.handle(l,e,n,this.options&&this.options.postProcessPassResolved?Ge({i18nResolved:Ct(Ge({},i),{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,s,a,o;return dt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),h=c.key;i=h;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const g=n.count!==void 0&&!dt(n.count),m=g&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),_=n.context!==void 0&&(dt(n.context)||typeof n.context=="number")&&n.context!=="",S=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(k=>{this.isValidLookup(r)||(o=k,!wv[`${S[0]}-${k}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(wv[`${S[0]}-${k}`]=!0,this.logger.warn(`key "${i}" for languages "${S.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(y=>{if(this.isValidLookup(r))return;a=y;const b=[h];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,h,y,k,n);else{let I;g&&(I=this.pluralResolver.getSuffix(y,n.count,n));const D=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(b.push(h+I),n.ordinal&&I.indexOf(V)===0&&b.push(h+I.replace(V,this.options.pluralSeparator)),m&&b.push(h+D)),_){const $=`${h}${this.options.contextSeparator}${n.context}`;b.push($),g&&(b.push($+I),n.ordinal&&I.indexOf(V)===0&&b.push($+I.replace(V,this.options.pluralSeparator)),m&&b.push($+D))}}let N;for(;N=b.pop();)this.isValidLookup(r)||(s=N,r=this.getResource(y,k,N,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!dt(e.replace);let i=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i=Ge(Ge({},this.options.interpolation.defaultVariables),i)),!r){i=Ge({},i);for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const Wp=t=>t.charAt(0).toUpperCase()+t.slice(1);class bv{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qi.create("languageUtils")}getScriptPartFromCode(e){if(e=Bh(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Bh(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(dt(e)&&e.indexOf("-")>-1){if(typeof Intl!="undefined"&&typeof Intl.getCanonicalLocales!="undefined")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch(i){}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Wp(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Wp(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Wp(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),dt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return dt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):dt(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}let N8=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],k8={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const L8=["v1","v2","v3"],A8=["v4"],xv={zero:0,one:1,two:2,few:3,many:4,other:5},P8=()=>{const t={};return N8.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:k8[e.fc]}})}),t};class j8{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Qi.create("pluralResolver"),(!this.options.compatibilityJSON||A8.includes(this.options.compatibilityJSON))&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=P8(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const r=Bh(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch(o){if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[s]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,s)=>xv[i]-xv[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!L8.includes(this.options.compatibilityJSON)}}const _v=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=m8(t,e,n);return!s&&i&&dt(n)&&(s=fg(t,n,r),s===void 0&&(s=fg(e,n,r))),s},Hp=t=>t.replace(/\$/g,"$$$$");class E8{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Qi.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:h,unescapePrefix:d,nestingPrefix:g,nestingPrefixEscaped:m,nestingSuffix:_,nestingSuffixEscaped:S,nestingOptionsSeparator:k,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=n!==void 0?n:y8,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?nl(s):a||"{{",this.suffix=o?nl(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=h?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":h||"",this.nestingPrefix=g?nl(g):m||nl("$t("),this.nestingSuffix=_?nl(_):S||nl(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=m=>{if(m.indexOf(this.formatSeparator)<0){const y=_v(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,Ct(Ge(Ge({},i),n),{interpolationkey:m})):y}const _=m.split(this.formatSeparator),S=_.shift().trim(),k=_.join(this.formatSeparator).trim();return this.format(_v(n,l,S,this.options.keySeparator,this.options.ignoreJSONStructure),k,r,Ct(Ge(Ge({},i),n),{interpolationkey:S}))};this.resetRegExp();const h=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>Hp(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?Hp(this.escape(m)):Hp(m)}].forEach(m=>{for(o=0;s=m.regex.exec(e);){const _=s[1].trim();if(a=c(_),a===void 0)if(typeof h=="function"){const k=h(e,s,i);a=dt(k)?k:""}else if(i&&Object.prototype.hasOwnProperty.call(i,_))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),a="";else!dt(a)&&!this.useRawValueToEscape&&(a=pv(a));const S=m.safeValue(a);if(e=e.replace(s[0],S),d?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a;const o=(l,c)=>{const h=this.nestingOptionsSeparator;if(l.indexOf(h)<0)return l;const d=l.split(new RegExp(`${h}[ ]*{`));let g=`{${d[1]}`;l=d[0],g=this.interpolate(g,a);const m=g.match(/'/g),_=g.match(/"/g);(m&&m.length%2===0&&!_||_.length%2!==0)&&(g=g.replace(/'/g,'"'));try{a=JSON.parse(g),c&&(a=Ge(Ge({},c),a))}catch(S){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,S),`${l}${h}${g}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a=Ge({},r),a=a.replace&&!dt(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const h=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=h.shift(),l=h,c=!0}if(s=n(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!dt(s))return s;dt(s)||(s=pv(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c&&(s=l.reduce((h,d)=>this.format(h,d,r.lng,Ct(Ge({},r),{interpolationkey:i[1].trim()})),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const C8=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),h=o.trim();n[h]||(n[h]=c),c==="false"&&(n[h]=!1),c==="true"&&(n[h]=!0),isNaN(c)||(n[h]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},rl=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s=Ct(Ge({},s),{[i.interpolationkey]:void 0}));const a=r+JSON.stringify(s);let o=e[a];return o||(o=t(Bh(r),i),e[a]=o),o(n)}};class O8{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Qi.create("formatter"),this.options=e,this.formats={number:rl((n,r)=>{const i=new Intl.NumberFormat(n,Ge({},r));return s=>i.format(s)}),currency:rl((n,r)=>{const i=new Intl.NumberFormat(n,Ct(Ge({},r),{style:"currency"}));return s=>i.format(s)}),datetime:rl((n,r)=>{const i=new Intl.DateTimeFormat(n,Ge({},r));return s=>i.format(s)}),relativetime:rl((n,r)=>{const i=new Intl.RelativeTimeFormat(n,Ge({},r));return s=>i.format(s,r.range||"day")}),list:rl((n,r)=>{const i=new Intl.ListFormat(n,Ge({},r));return s=>i.format(s)})},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=rl(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{const{formatName:c,formatOptions:h}=C8(l);if(this.formats[c]){let d=o;try{const g=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},m=g.locale||g.lng||i.locale||i.lng||r;d=this.formats[c](o,m,Ge(Ge(Ge({},h),i),g))}catch(g){this.logger.warn(g)}return d}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const I8=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class T8 extends wd{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Qi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const s={},a={},o={},l={};return e.forEach(c=>{let h=!0;n.forEach(d=>{const g=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?a[g]===void 0&&(a[g]=!0):(this.state[g]=1,h=!1,a[g]===void 0&&(a[g]=!0),s[g]===void 0&&(s[g]=!0),l[d]===void 0&&(l[d]=!0)))}),h||(o[c]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{g8(l.loaded,[s],a),I8(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const h=l.loaded[c];h.length&&h.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(c,h)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&h&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,a)},s);return}a(c,h)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(h=>o(null,h)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,n,o)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();dt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),dt(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l=Ct(Ge({},a),{isUpdate:s}),c=this.backend.create.bind(this.backend);if(c.length<6)try{let h;c.length===5?h=c(e,n,r,i,l):h=c(e,n,r,i),h&&typeof h.then=="function"?h.then(d=>o(null,d)).catch(o):o(null,h)}catch(h){o(h)}else c(e,n,r,i,o,l)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const Sv=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),dt(t[1])&&(e.defaultValue=t[1]),dt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Nv=t=>(dt(t.ns)&&(t.ns=[t.ns]),dt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),dt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Hf=()=>{},R8=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Lc extends wd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Nv(e),this.services={},this.logger=Qi,this.modules={external:[]},R8(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(dt(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Sv();this.options=Ge(Ge(Ge({},i),this.options),Nv(n)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Ge(Ge({},i.interpolation),this.options.interpolation)),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Qi.init(s(this.modules.logger),this.options):Qi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:typeof Intl!="undefined"&&(h=O8);const d=new bv(this.options);this.store=new yv(this.options.resources,this.options);const g=this.services;g.logger=Qi,g.resourceStore=this.store,g.languageUtils=d,g.pluralResolver=new j8(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=s(h),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new E8(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new T8(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(m){for(var _=arguments.length,S=new Array(_>1?_-1:0),k=1;k<_;k++)S[k-1]=arguments[k];e.emit(m,...S)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new zh(this.services,this.options),this.translator.on("*",function(m){for(var _=arguments.length,S=new Array(_>1?_-1:0),k=1;k<_;k++)S[k-1]=arguments[k];e.emit(m,...S)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Hf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=function(){return e.store[h](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=function(){return e.store[h](...arguments),e}});const l=Mu(),c=()=>{const h=(d,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(g),r(d,g)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hf;const i=dt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(o)})}else r(null)}reloadResources(e,n,r){const i=Mu();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Hf),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ob.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=Mu();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?(s(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=dt(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||s(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,h=>{a(h,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,n,r){var i=this;const s=function(a,o){let l;if(typeof o!="object"){for(var c=arguments.length,h=new Array(c>2?c-2:0),d=2;d<c;d++)h[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([a,o].concat(h))}else l=Ge({},o);l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||s.keyPrefix);const g=i.options.keySeparator||".";let m;return l.keyPrefix&&Array.isArray(a)?m=a.map(_=>`${l.keyPrefix}${g}${_}`):m=l.keyPrefix?`${l.keyPrefix}${g}${a}`:a,i.t(m,l)};return dt(e)?s.lng=e:s.lngs=e,s.ns=n,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(s,e)))}loadNamespaces(e,n){const r=Mu();return this.options.ns?(dt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Mu();dt(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new bv(Sv());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Lc(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hf;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i=Ct(Ge(Ge({},this.options),e),{isClone:!0}),s=new Lc(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services=Ge({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r&&(s.store=new yv(this.store.data,i),s.services.resourceStore=s.store),s.translator=new zh(s.services,i),s.translator.on("*",function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),h=1;h<l;h++)c[h-1]=arguments[h];s.emit(o,...c)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ur=Lc.createInstance();ur.createInstance=Lc.createInstance;ur.createInstance;ur.dir;ur.init;ur.loadResources;ur.reloadResources;ur.use;ur.changeLanguage;ur.getFixedT;ur.t;ur.exists;ur.setDefaultNamespace;ur.hasLoadedNamespace;ur.loadNamespaces;ur.loadLanguages;const F8={name:"TAMBOURA",subtitle:"Constats Numériques"},D8={login:"CONNEXION",logout:"Déconnexion",matricule:"Matricule",password:"Mot de passe",enterMatricule:"Entrez votre matricule",enterPassword:"Entrez votre mot de passe",loginError:"Matricule ou mot de passe incorrect",loginSuccess:"Connexion réussie"},M8={dashboard:"Tableau de bord",newReport:"Nouveau constat",reports:"Mes constats",administration:"Administration",profile:"Profil"},B8={newReport:"Nouveau constat d'intervention",incidentType:"Type d'incident",dateTime:"Date et heure",location:"Lieu",description:"Description",involvedPersons:"Personnes impliquées",photos:"Photos",audioNotes:"Notes audio",signature:"Signature électronique",validate:"VALIDER",save:"Sauvegarder",addPhoto:"Ajouter une photo",addAudio:"Ajouter une note audio",addPerson:"Ajouter une personne",agentSignature:"Signature de l'agent",witnessSignature:"Signature du témoin",clear:"Effacer",sign:"Signer",currentLocation:"Position actuelle",getLocation:"Obtenir la position"},U8={welcome:"Bienvenue",totalReports:"Total constats",pendingReports:"En attente",completedReports:"Terminés",recentReports:"Constats récents",noReports:"Aucun constat trouvé",viewAll:"Voir tout",filterByDate:"Filtrer par date",filterByType:"Filtrer par type",filterByStatus:"Filtrer par statut"},z8={accident:"Accident",theft:"Vol",assault:"Agression",vandalism:"Vandalisme",disturbance:"Trouble de l'ordre",fire:"Incendie",medical:"Urgence médicale",other:"Autre"},$8={draft:"Brouillon",pending:"En attente",completed:"Terminé",signed:"Signé"},q8={agent:"Agent",supervisor:"Chef d'unité",admin:"Administrateur"},W8={save:"Sauvegarder",cancel:"Annuler",delete:"Supprimer",edit:"Modifier",view:"Voir",export:"Exporter",search:"Rechercher",filter:"Filtrer",clear:"Effacer",close:"Fermer",confirm:"Confirmer",loading:"Chargement...",error:"Erreur",success:"Succès",warning:"Attention",info:"Information",offline:"Hors ligne",online:"En ligne",sync:"Synchroniser",syncInProgress:"Synchronisation en cours...",syncCompleted:"Synchronisation terminée"},H8={networkError:"Erreur de connexion",uploadError:"Erreur lors de l'envoi",validationError:"Erreur de validation",unauthorized:"Non autorisé",notFound:"Non trouvé",serverError:"Erreur serveur"},V8={app:F8,auth:D8,navigation:M8,report:B8,dashboard:U8,incidentTypes:z8,status:$8,roles:q8,common:W8,errors:H8},G8={name:"TAMBOURA",subtitle:"Kunnafoniw dijital la"},K8={login:"DON",logout:"Bɔ",matricule:"Jate nimɔrɔ",password:"Tɔgɔdaɲɛgafe",enterMatricule:"I ka jate nimɔrɔ sɛbɛn",enterPassword:"I ka tɔgɔdaɲɛgafe sɛbɛn",loginError:"Jate nimɔrɔ walima tɔgɔdaɲɛgafe tɛ tiɲɛ",loginSuccess:"Don kɛra kosɛbɛ"},J8={dashboard:"Kunnafonidilanbaara",newReport:"Kunnafoni kura",reports:"N ka kunnafoniliw",administration:"Mɔgɔbaaracogo",profile:"Profil"},Y8={newReport:"Baarakɛlaw ka kunnafoni kura",incidentType:"Kɔ cogoya",dateTime:"Don ni lɛrɛ",location:"Yɔrɔ",description:"Ɲɛfɔli",involvedPersons:"Mɔgɔw minnu bɛ a la",photos:"Ja",audioNotes:"Kanko kunnafoniw",signature:"Tɔgɔsɛbɛn dijital",validate:"A LAS",save:"Mara",addPhoto:"Ja kɛkura",addAudio:"Kanko kunnafoni kɛkura",addPerson:"Mɔgɔ kɛkura",agentSignature:"Baarakɛla tɔgɔsɛbɛn",witnessSignature:"Mjɛkulu tɔgɔsɛbɛn",clear:"Jɔsi",sign:"Tɔgɔ sɛbɛn",currentLocation:"Sisan yɔrɔ",getLocation:"Yɔrɔ sɔrɔ"},Q8={welcome:"Bisimila",totalReports:"Kunnafoni bɛɛ",pendingReports:"Makɔnɔnen",completedReports:"Dafalen",recentReports:"Kunnafoni kurasenw",noReports:"Kunnafoni si tɛ",viewAll:"Bɛɛ lajɛ",filterByDate:"Don ma danfara",filterByType:"Cogoya ma danfara",filterByStatus:"Cogo ma danfara"},X8={accident:"Farikɔ",theft:"Wari",assault:"Dɔnsogo",vandalism:"Tiɲɛni",disturbance:"Hakɛ tigɛli",fire:"Ta",medical:"Dɔktɔroya",other:"Wɛrɛ"},Z8={draft:"Sɛbɛnni kura",pending:"Makɔnɔ",completed:"Dafa",signed:"Tɔgɔsɛbɛnnen"},eA={agent:"Baarakɛla",supervisor:"Kuntigi",admin:"Mɔgɔbaaracogo"},tA={save:"Mara",cancel:"Ban",delete:"Bɔ",edit:"Ladilan",view:"Lajɛ",export:"Bɔli",search:"Ɲini",filter:"Danfara",clear:"Jɔsi",close:"Datugu",confirm:"Lase",loading:"Bɛɛ ka sɔrɔ...",error:"Fili",success:"Ɲɛtaa",warning:"Lasɔmini",info:"Kunnafoni",offline:"Ɲɔgɔn tɛ",online:"Ɲɔgɔn bɛ",sync:"Bɛnbaliya",syncInProgress:"Bɛnbaliya kɛtɛɛ...",syncCompleted:"Bɛnbaliya dafa"},nA={networkError:"Ɲɔgɔn fili",uploadError:"Ci fili",validationError:"Kɔrɔbɔ fili",unauthorized:"Nta tɛ",notFound:"Ma sɔrɔ",serverError:"Serveur fili"},rA={app:G8,auth:K8,navigation:J8,report:Y8,dashboard:Q8,incidentTypes:X8,status:Z8,roles:eA,common:tA,errors:nA},iA={fr:{translation:V8},bm:{translation:rA}};ur.use(GN).init({resources:iA,lng:"fr",fallbackLng:"fr",interpolation:{escapeValue:!1}});Vp.createRoot(document.getElementById("root")).render(x.jsx(Fv.StrictMode,{children:x.jsx(h8,{})}));export{qt as _,$n as c,hg as g};
